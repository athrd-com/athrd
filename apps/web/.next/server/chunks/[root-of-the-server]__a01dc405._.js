module.exports=[61724,(e,t,r)=>{t.exports=e.x("next/dist/compiled/next-server/app-route-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-route-turbo.runtime.prod.js"))},42302,(e,t,r)=>{t.exports=e.r(61724)},50884,(e,t,r)=>{(()=>{"use strict";let r,n,i,a,s;var o,l,u,c,d,p,f,h,m,g,y,v,b,w,_,x,k={491:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContextAPI=void 0;let n=r(223),i=r(172),a=r(930),s="context",o=new n.NoopContextManager;class l{constructor(){}static getInstance(){return this._instance||(this._instance=new l),this._instance}setGlobalContextManager(e){return(0,i.registerGlobal)(s,e,a.DiagAPI.instance())}active(){return this._getContextManager().active()}with(e,t,r,...n){return this._getContextManager().with(e,t,r,...n)}bind(e,t){return this._getContextManager().bind(e,t)}_getContextManager(){return(0,i.getGlobal)(s)||o}disable(){this._getContextManager().disable(),(0,i.unregisterGlobal)(s,a.DiagAPI.instance())}}t.ContextAPI=l},930:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagAPI=void 0;let n=r(56),i=r(912),a=r(957),s=r(172);class o{constructor(){function e(e){return function(...t){let r=(0,s.getGlobal)("diag");if(r)return r[e](...t)}}const t=this;t.setLogger=(e,r={logLevel:a.DiagLogLevel.INFO})=>{var n,o,l;if(e===t){let e=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!=(n=e.stack)?n:e.message),!1}"number"==typeof r&&(r={logLevel:r});let u=(0,s.getGlobal)("diag"),c=(0,i.createLogLevelDiagLogger)(null!=(o=r.logLevel)?o:a.DiagLogLevel.INFO,e);if(u&&!r.suppressOverrideMessage){let e=null!=(l=Error().stack)?l:"<failed to generate stacktrace>";u.warn(`Current logger will be overwritten from ${e}`),c.warn(`Current logger will overwrite one already registered from ${e}`)}return(0,s.registerGlobal)("diag",c,t,!0)},t.disable=()=>{(0,s.unregisterGlobal)("diag",t)},t.createComponentLogger=e=>new n.DiagComponentLogger(e),t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}static instance(){return this._instance||(this._instance=new o),this._instance}}t.DiagAPI=o},653:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MetricsAPI=void 0;let n=r(660),i=r(172),a=r(930),s="metrics";class o{constructor(){}static getInstance(){return this._instance||(this._instance=new o),this._instance}setGlobalMeterProvider(e){return(0,i.registerGlobal)(s,e,a.DiagAPI.instance())}getMeterProvider(){return(0,i.getGlobal)(s)||n.NOOP_METER_PROVIDER}getMeter(e,t,r){return this.getMeterProvider().getMeter(e,t,r)}disable(){(0,i.unregisterGlobal)(s,a.DiagAPI.instance())}}t.MetricsAPI=o},181:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PropagationAPI=void 0;let n=r(172),i=r(874),a=r(194),s=r(277),o=r(369),l=r(930),u="propagation",c=new i.NoopTextMapPropagator;class d{constructor(){this.createBaggage=o.createBaggage,this.getBaggage=s.getBaggage,this.getActiveBaggage=s.getActiveBaggage,this.setBaggage=s.setBaggage,this.deleteBaggage=s.deleteBaggage}static getInstance(){return this._instance||(this._instance=new d),this._instance}setGlobalPropagator(e){return(0,n.registerGlobal)(u,e,l.DiagAPI.instance())}inject(e,t,r=a.defaultTextMapSetter){return this._getGlobalPropagator().inject(e,t,r)}extract(e,t,r=a.defaultTextMapGetter){return this._getGlobalPropagator().extract(e,t,r)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,n.unregisterGlobal)(u,l.DiagAPI.instance())}_getGlobalPropagator(){return(0,n.getGlobal)(u)||c}}t.PropagationAPI=d},997:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceAPI=void 0;let n=r(172),i=r(846),a=r(139),s=r(607),o=r(930),l="trace";class u{constructor(){this._proxyTracerProvider=new i.ProxyTracerProvider,this.wrapSpanContext=a.wrapSpanContext,this.isSpanContextValid=a.isSpanContextValid,this.deleteSpan=s.deleteSpan,this.getSpan=s.getSpan,this.getActiveSpan=s.getActiveSpan,this.getSpanContext=s.getSpanContext,this.setSpan=s.setSpan,this.setSpanContext=s.setSpanContext}static getInstance(){return this._instance||(this._instance=new u),this._instance}setGlobalTracerProvider(e){let t=(0,n.registerGlobal)(l,this._proxyTracerProvider,o.DiagAPI.instance());return t&&this._proxyTracerProvider.setDelegate(e),t}getTracerProvider(){return(0,n.getGlobal)(l)||this._proxyTracerProvider}getTracer(e,t){return this.getTracerProvider().getTracer(e,t)}disable(){(0,n.unregisterGlobal)(l,o.DiagAPI.instance()),this._proxyTracerProvider=new i.ProxyTracerProvider}}t.TraceAPI=u},277:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.deleteBaggage=t.setBaggage=t.getActiveBaggage=t.getBaggage=void 0;let n=r(491),i=(0,r(780).createContextKey)("OpenTelemetry Baggage Key");function a(e){return e.getValue(i)||void 0}t.getBaggage=a,t.getActiveBaggage=function(){return a(n.ContextAPI.getInstance().active())},t.setBaggage=function(e,t){return e.setValue(i,t)},t.deleteBaggage=function(e){return e.deleteValue(i)}},993:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaggageImpl=void 0;class r{constructor(e){this._entries=e?new Map(e):new Map}getEntry(e){let t=this._entries.get(e);if(t)return Object.assign({},t)}getAllEntries(){return Array.from(this._entries.entries()).map(([e,t])=>[e,t])}setEntry(e,t){let n=new r(this._entries);return n._entries.set(e,t),n}removeEntry(e){let t=new r(this._entries);return t._entries.delete(e),t}removeEntries(...e){let t=new r(this._entries);for(let r of e)t._entries.delete(r);return t}clear(){return new r}}t.BaggageImpl=r},830:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataSymbol=void 0,t.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")},369:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataFromString=t.createBaggage=void 0;let n=r(930),i=r(993),a=r(830),s=n.DiagAPI.instance();t.createBaggage=function(e={}){return new i.BaggageImpl(new Map(Object.entries(e)))},t.baggageEntryMetadataFromString=function(e){return"string"!=typeof e&&(s.error(`Cannot create baggage metadata from unknown type: ${typeof e}`),e=""),{__TYPE__:a.baggageEntryMetadataSymbol,toString:()=>e}}},67:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.context=void 0,t.context=r(491).ContextAPI.getInstance()},223:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopContextManager=void 0;let n=r(780);t.NoopContextManager=class{active(){return n.ROOT_CONTEXT}with(e,t,r,...n){return t.call(r,...n)}bind(e,t){return t}enable(){return this}disable(){return this}}},780:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ROOT_CONTEXT=t.createContextKey=void 0,t.createContextKey=function(e){return Symbol.for(e)};class r{constructor(e){const t=this;t._currentContext=e?new Map(e):new Map,t.getValue=e=>t._currentContext.get(e),t.setValue=(e,n)=>{let i=new r(t._currentContext);return i._currentContext.set(e,n),i},t.deleteValue=e=>{let n=new r(t._currentContext);return n._currentContext.delete(e),n}}}t.ROOT_CONTEXT=new r},506:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.diag=void 0,t.diag=r(930).DiagAPI.instance()},56:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagComponentLogger=void 0;let n=r(172);function i(e,t,r){let i=(0,n.getGlobal)("diag");if(i)return r.unshift(t),i[e](...r)}t.DiagComponentLogger=class{constructor(e){this._namespace=e.namespace||"DiagComponentLogger"}debug(...e){return i("debug",this._namespace,e)}error(...e){return i("error",this._namespace,e)}info(...e){return i("info",this._namespace,e)}warn(...e){return i("warn",this._namespace,e)}verbose(...e){return i("verbose",this._namespace,e)}}},972:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagConsoleLogger=void 0;let r=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];t.DiagConsoleLogger=class{constructor(){for(let e=0;e<r.length;e++)this[r[e].n]=function(e){return function(...t){if(console){let r=console[e];if("function"!=typeof r&&(r=console.log),"function"==typeof r)return r.apply(console,t)}}}(r[e].c)}}},912:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createLogLevelDiagLogger=void 0;let n=r(957);t.createLogLevelDiagLogger=function(e,t){function r(r,n){let i=t[r];return"function"==typeof i&&e>=n?i.bind(t):function(){}}return e<n.DiagLogLevel.NONE?e=n.DiagLogLevel.NONE:e>n.DiagLogLevel.ALL&&(e=n.DiagLogLevel.ALL),t=t||{},{error:r("error",n.DiagLogLevel.ERROR),warn:r("warn",n.DiagLogLevel.WARN),info:r("info",n.DiagLogLevel.INFO),debug:r("debug",n.DiagLogLevel.DEBUG),verbose:r("verbose",n.DiagLogLevel.VERBOSE)}}},957:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.DiagLogLevel=void 0,(r=t.DiagLogLevel||(t.DiagLogLevel={}))[r.NONE=0]="NONE",r[r.ERROR=30]="ERROR",r[r.WARN=50]="WARN",r[r.INFO=60]="INFO",r[r.DEBUG=70]="DEBUG",r[r.VERBOSE=80]="VERBOSE",r[r.ALL=9999]="ALL"},172:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.unregisterGlobal=t.getGlobal=t.registerGlobal=void 0;let n=r(200),i=r(521),a=r(130),s=i.VERSION.split(".")[0],o=Symbol.for(`opentelemetry.js.api.${s}`),l=n._globalThis;t.registerGlobal=function(e,t,r,n=!1){var a;let s=l[o]=null!=(a=l[o])?a:{version:i.VERSION};if(!n&&s[e]){let t=Error(`@opentelemetry/api: Attempted duplicate registration of API: ${e}`);return r.error(t.stack||t.message),!1}if(s.version!==i.VERSION){let t=Error(`@opentelemetry/api: Registration of version v${s.version} for ${e} does not match previously registered API v${i.VERSION}`);return r.error(t.stack||t.message),!1}return s[e]=t,r.debug(`@opentelemetry/api: Registered a global for ${e} v${i.VERSION}.`),!0},t.getGlobal=function(e){var t,r;let n=null==(t=l[o])?void 0:t.version;if(n&&(0,a.isCompatible)(n))return null==(r=l[o])?void 0:r[e]},t.unregisterGlobal=function(e,t){t.debug(`@opentelemetry/api: Unregistering a global for ${e} v${i.VERSION}.`);let r=l[o];r&&delete r[e]}},130:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isCompatible=t._makeCompatibilityCheck=void 0;let n=r(521),i=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function a(e){let t=new Set([e]),r=new Set,n=e.match(i);if(!n)return()=>!1;let a={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(null!=a.prerelease)return function(t){return t===e};function s(e){return r.add(e),!1}return function(e){if(t.has(e))return!0;if(r.has(e))return!1;let n=e.match(i);if(!n)return s(e);let o={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(null!=o.prerelease||a.major!==o.major)return s(e);if(0===a.major)return a.minor===o.minor&&a.patch<=o.patch?(t.add(e),!0):s(e);return a.minor<=o.minor?(t.add(e),!0):s(e)}}t._makeCompatibilityCheck=a,t.isCompatible=a(n.VERSION)},886:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.metrics=void 0,t.metrics=r(653).MetricsAPI.getInstance()},901:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ValueType=void 0,(r=t.ValueType||(t.ValueType={}))[r.INT=0]="INT",r[r.DOUBLE=1]="DOUBLE"},102:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createNoopMeter=t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=t.NOOP_OBSERVABLE_GAUGE_METRIC=t.NOOP_OBSERVABLE_COUNTER_METRIC=t.NOOP_UP_DOWN_COUNTER_METRIC=t.NOOP_HISTOGRAM_METRIC=t.NOOP_COUNTER_METRIC=t.NOOP_METER=t.NoopObservableUpDownCounterMetric=t.NoopObservableGaugeMetric=t.NoopObservableCounterMetric=t.NoopObservableMetric=t.NoopHistogramMetric=t.NoopUpDownCounterMetric=t.NoopCounterMetric=t.NoopMetric=t.NoopMeter=void 0;class r{constructor(){}createHistogram(e,r){return t.NOOP_HISTOGRAM_METRIC}createCounter(e,r){return t.NOOP_COUNTER_METRIC}createUpDownCounter(e,r){return t.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(e,r){return t.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(e,r){return t.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(e,r){return t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(e,t){}removeBatchObservableCallback(e){}}t.NoopMeter=r;class n{}t.NoopMetric=n;class i extends n{add(e,t){}}t.NoopCounterMetric=i;class a extends n{add(e,t){}}t.NoopUpDownCounterMetric=a;class s extends n{record(e,t){}}t.NoopHistogramMetric=s;class o{addCallback(e){}removeCallback(e){}}t.NoopObservableMetric=o;class l extends o{}t.NoopObservableCounterMetric=l;class u extends o{}t.NoopObservableGaugeMetric=u;class c extends o{}t.NoopObservableUpDownCounterMetric=c,t.NOOP_METER=new r,t.NOOP_COUNTER_METRIC=new i,t.NOOP_HISTOGRAM_METRIC=new s,t.NOOP_UP_DOWN_COUNTER_METRIC=new a,t.NOOP_OBSERVABLE_COUNTER_METRIC=new l,t.NOOP_OBSERVABLE_GAUGE_METRIC=new u,t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new c,t.createNoopMeter=function(){return t.NOOP_METER}},660:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NOOP_METER_PROVIDER=t.NoopMeterProvider=void 0;let n=r(102);class i{getMeter(e,t,r){return n.NOOP_METER}}t.NoopMeterProvider=i,t.NOOP_METER_PROVIDER=new i},200:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(46),t)},651:(t,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r._globalThis=void 0,r._globalThis="object"==typeof globalThis?globalThis:e.g},46:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(651),t)},939:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.propagation=void 0,t.propagation=r(181).PropagationAPI.getInstance()},874:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTextMapPropagator=void 0,t.NoopTextMapPropagator=class{inject(e,t){}extract(e,t){return e}fields(){return[]}}},194:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultTextMapSetter=t.defaultTextMapGetter=void 0,t.defaultTextMapGetter={get(e,t){if(null!=e)return e[t]},keys:e=>null==e?[]:Object.keys(e)},t.defaultTextMapSetter={set(e,t,r){null!=e&&(e[t]=r)}}},845:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.trace=void 0,t.trace=r(997).TraceAPI.getInstance()},403:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NonRecordingSpan=void 0;let n=r(476);t.NonRecordingSpan=class{constructor(e=n.INVALID_SPAN_CONTEXT){this._spanContext=e}spanContext(){return this._spanContext}setAttribute(e,t){return this}setAttributes(e){return this}addEvent(e,t){return this}setStatus(e){return this}updateName(e){return this}end(e){}isRecording(){return!1}recordException(e,t){}}},614:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracer=void 0;let n=r(491),i=r(607),a=r(403),s=r(139),o=n.ContextAPI.getInstance();t.NoopTracer=class{startSpan(e,t,r=o.active()){var n;if(null==t?void 0:t.root)return new a.NonRecordingSpan;let l=r&&(0,i.getSpanContext)(r);return"object"==typeof(n=l)&&"string"==typeof n.spanId&&"string"==typeof n.traceId&&"number"==typeof n.traceFlags&&(0,s.isSpanContextValid)(l)?new a.NonRecordingSpan(l):new a.NonRecordingSpan}startActiveSpan(e,t,r,n){let a,s,l;if(arguments.length<2)return;2==arguments.length?l=t:3==arguments.length?(a=t,l=r):(a=t,s=r,l=n);let u=null!=s?s:o.active(),c=this.startSpan(e,a,u),d=(0,i.setSpan)(u,c);return o.with(d,l,void 0,c)}}},124:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracerProvider=void 0;let n=r(614);t.NoopTracerProvider=class{getTracer(e,t,r){return new n.NoopTracer}}},125:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracer=void 0;let n=new(r(614)).NoopTracer;t.ProxyTracer=class{constructor(e,t,r,n){this._provider=e,this.name=t,this.version=r,this.options=n}startSpan(e,t,r){return this._getTracer().startSpan(e,t,r)}startActiveSpan(e,t,r,n){let i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)}_getTracer(){if(this._delegate)return this._delegate;let e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):n}}},846:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracerProvider=void 0;let n=r(125),i=new(r(124)).NoopTracerProvider;t.ProxyTracerProvider=class{getTracer(e,t,r){var i;return null!=(i=this.getDelegateTracer(e,t,r))?i:new n.ProxyTracer(this,e,t,r)}getDelegate(){var e;return null!=(e=this._delegate)?e:i}setDelegate(e){this._delegate=e}getDelegateTracer(e,t,r){var n;return null==(n=this._delegate)?void 0:n.getTracer(e,t,r)}}},996:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SamplingDecision=void 0,(r=t.SamplingDecision||(t.SamplingDecision={}))[r.NOT_RECORD=0]="NOT_RECORD",r[r.RECORD=1]="RECORD",r[r.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"},607:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSpanContext=t.setSpanContext=t.deleteSpan=t.setSpan=t.getActiveSpan=t.getSpan=void 0;let n=r(780),i=r(403),a=r(491),s=(0,n.createContextKey)("OpenTelemetry Context Key SPAN");function o(e){return e.getValue(s)||void 0}function l(e,t){return e.setValue(s,t)}t.getSpan=o,t.getActiveSpan=function(){return o(a.ContextAPI.getInstance().active())},t.setSpan=l,t.deleteSpan=function(e){return e.deleteValue(s)},t.setSpanContext=function(e,t){return l(e,new i.NonRecordingSpan(t))},t.getSpanContext=function(e){var t;return null==(t=o(e))?void 0:t.spanContext()}},325:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceStateImpl=void 0;let n=r(564);class i{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+"="+this.get(t)),e),[]).join(",")}_parse(e){!(e.length>512)&&(this._internalState=e.split(",").reverse().reduce((e,t)=>{let r=t.trim(),i=r.indexOf("=");if(-1!==i){let a=r.slice(0,i),s=r.slice(i+1,t.length);(0,n.validateKey)(a)&&(0,n.validateValue)(s)&&e.set(a,s)}return e},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new i;return e._internalState=new Map(this._internalState),e}}t.TraceStateImpl=i},564:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateValue=t.validateKey=void 0;let r="[_0-9a-z-*/]",n=`[a-z]${r}{0,255}`,i=`[a-z0-9]${r}{0,240}@[a-z]${r}{0,13}`,a=RegExp(`^(?:${n}|${i})$`),s=/^[ -~]{0,255}[!-~]$/,o=/,|=/;t.validateKey=function(e){return a.test(e)},t.validateValue=function(e){return s.test(e)&&!o.test(e)}},98:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createTraceState=void 0;let n=r(325);t.createTraceState=function(e){return new n.TraceStateImpl(e)}},476:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.INVALID_SPAN_CONTEXT=t.INVALID_TRACEID=t.INVALID_SPANID=void 0;let n=r(475);t.INVALID_SPANID="0000000000000000",t.INVALID_TRACEID="00000000000000000000000000000000",t.INVALID_SPAN_CONTEXT={traceId:t.INVALID_TRACEID,spanId:t.INVALID_SPANID,traceFlags:n.TraceFlags.NONE}},357:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SpanKind=void 0,(r=t.SpanKind||(t.SpanKind={}))[r.INTERNAL=0]="INTERNAL",r[r.SERVER=1]="SERVER",r[r.CLIENT=2]="CLIENT",r[r.PRODUCER=3]="PRODUCER",r[r.CONSUMER=4]="CONSUMER"},139:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.wrapSpanContext=t.isSpanContextValid=t.isValidSpanId=t.isValidTraceId=void 0;let n=r(476),i=r(403),a=/^([0-9a-f]{32})$/i,s=/^[0-9a-f]{16}$/i;function o(e){return a.test(e)&&e!==n.INVALID_TRACEID}function l(e){return s.test(e)&&e!==n.INVALID_SPANID}t.isValidTraceId=o,t.isValidSpanId=l,t.isSpanContextValid=function(e){return o(e.traceId)&&l(e.spanId)},t.wrapSpanContext=function(e){return new i.NonRecordingSpan(e)}},847:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SpanStatusCode=void 0,(r=t.SpanStatusCode||(t.SpanStatusCode={}))[r.UNSET=0]="UNSET",r[r.OK=1]="OK",r[r.ERROR=2]="ERROR"},475:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.TraceFlags=void 0,(r=t.TraceFlags||(t.TraceFlags={}))[r.NONE=0]="NONE",r[r.SAMPLED=1]="SAMPLED"},521:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="1.6.0"}},E={};function $(e){var t=E[e];if(void 0!==t)return t.exports;var r=E[e]={exports:{}},n=!0;try{k[e].call(r.exports,r,r.exports,$),n=!1}finally{n&&delete E[e]}return r.exports}$.ab="/ROOT/athrd/node_modules/.pnpm/next@16.0.3_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/@opentelemetry/api/";var T={};Object.defineProperty(T,"__esModule",{value:!0}),T.trace=T.propagation=T.metrics=T.diag=T.context=T.INVALID_SPAN_CONTEXT=T.INVALID_TRACEID=T.INVALID_SPANID=T.isValidSpanId=T.isValidTraceId=T.isSpanContextValid=T.createTraceState=T.TraceFlags=T.SpanStatusCode=T.SpanKind=T.SamplingDecision=T.ProxyTracerProvider=T.ProxyTracer=T.defaultTextMapSetter=T.defaultTextMapGetter=T.ValueType=T.createNoopMeter=T.DiagLogLevel=T.DiagConsoleLogger=T.ROOT_CONTEXT=T.createContextKey=T.baggageEntryMetadataFromString=void 0,o=$(369),Object.defineProperty(T,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return o.baggageEntryMetadataFromString}}),l=$(780),Object.defineProperty(T,"createContextKey",{enumerable:!0,get:function(){return l.createContextKey}}),Object.defineProperty(T,"ROOT_CONTEXT",{enumerable:!0,get:function(){return l.ROOT_CONTEXT}}),u=$(972),Object.defineProperty(T,"DiagConsoleLogger",{enumerable:!0,get:function(){return u.DiagConsoleLogger}}),c=$(957),Object.defineProperty(T,"DiagLogLevel",{enumerable:!0,get:function(){return c.DiagLogLevel}}),d=$(102),Object.defineProperty(T,"createNoopMeter",{enumerable:!0,get:function(){return d.createNoopMeter}}),p=$(901),Object.defineProperty(T,"ValueType",{enumerable:!0,get:function(){return p.ValueType}}),f=$(194),Object.defineProperty(T,"defaultTextMapGetter",{enumerable:!0,get:function(){return f.defaultTextMapGetter}}),Object.defineProperty(T,"defaultTextMapSetter",{enumerable:!0,get:function(){return f.defaultTextMapSetter}}),h=$(125),Object.defineProperty(T,"ProxyTracer",{enumerable:!0,get:function(){return h.ProxyTracer}}),m=$(846),Object.defineProperty(T,"ProxyTracerProvider",{enumerable:!0,get:function(){return m.ProxyTracerProvider}}),g=$(996),Object.defineProperty(T,"SamplingDecision",{enumerable:!0,get:function(){return g.SamplingDecision}}),y=$(357),Object.defineProperty(T,"SpanKind",{enumerable:!0,get:function(){return y.SpanKind}}),v=$(847),Object.defineProperty(T,"SpanStatusCode",{enumerable:!0,get:function(){return v.SpanStatusCode}}),b=$(475),Object.defineProperty(T,"TraceFlags",{enumerable:!0,get:function(){return b.TraceFlags}}),w=$(98),Object.defineProperty(T,"createTraceState",{enumerable:!0,get:function(){return w.createTraceState}}),_=$(139),Object.defineProperty(T,"isSpanContextValid",{enumerable:!0,get:function(){return _.isSpanContextValid}}),Object.defineProperty(T,"isValidTraceId",{enumerable:!0,get:function(){return _.isValidTraceId}}),Object.defineProperty(T,"isValidSpanId",{enumerable:!0,get:function(){return _.isValidSpanId}}),x=$(476),Object.defineProperty(T,"INVALID_SPANID",{enumerable:!0,get:function(){return x.INVALID_SPANID}}),Object.defineProperty(T,"INVALID_TRACEID",{enumerable:!0,get:function(){return x.INVALID_TRACEID}}),Object.defineProperty(T,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return x.INVALID_SPAN_CONTEXT}}),r=$(67),Object.defineProperty(T,"context",{enumerable:!0,get:function(){return r.context}}),n=$(506),Object.defineProperty(T,"diag",{enumerable:!0,get:function(){return n.diag}}),i=$(886),Object.defineProperty(T,"metrics",{enumerable:!0,get:function(){return i.metrics}}),a=$(939),Object.defineProperty(T,"propagation",{enumerable:!0,get:function(){return a.propagation}}),s=$(845),Object.defineProperty(T,"trace",{enumerable:!0,get:function(){return s.trace}}),T.default={context:r.context,diag:n.diag,metrics:i.metrics,propagation:a.propagation,trace:s.trace},t.exports=T})()},17420,(e,t,r)=>{(()=>{"use strict";"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab="/ROOT/athrd/node_modules/.pnpm/next@16.0.3_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/cookie/");var e,r,n,i,a={};a.parse=function(t,r){if("string"!=typeof t)throw TypeError("argument str must be a string");for(var i={},a=t.split(n),s=(r||{}).decode||e,o=0;o<a.length;o++){var l=a[o],u=l.indexOf("=");if(!(u<0)){var c=l.substr(0,u).trim(),d=l.substr(++u,l.length).trim();'"'==d[0]&&(d=d.slice(1,-1)),void 0==i[c]&&(i[c]=function(e,t){try{return t(e)}catch(t){return e}}(d,s))}}return i},a.serialize=function(e,t,n){var a=n||{},s=a.encode||r;if("function"!=typeof s)throw TypeError("option encode is invalid");if(!i.test(e))throw TypeError("argument name is invalid");var o=s(t);if(o&&!i.test(o))throw TypeError("argument val is invalid");var l=e+"="+o;if(null!=a.maxAge){var u=a.maxAge-0;if(isNaN(u)||!isFinite(u))throw TypeError("option maxAge is invalid");l+="; Max-Age="+Math.floor(u)}if(a.domain){if(!i.test(a.domain))throw TypeError("option domain is invalid");l+="; Domain="+a.domain}if(a.path){if(!i.test(a.path))throw TypeError("option path is invalid");l+="; Path="+a.path}if(a.expires){if("function"!=typeof a.expires.toUTCString)throw TypeError("option expires is invalid");l+="; Expires="+a.expires.toUTCString()}if(a.httpOnly&&(l+="; HttpOnly"),a.secure&&(l+="; Secure"),a.sameSite)switch("string"==typeof a.sameSite?a.sameSite.toLowerCase():a.sameSite){case!0:case"strict":l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"none":l+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return l},e=decodeURIComponent,r=encodeURIComponent,n=/; */,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,t.exports=a})()},60526,(e,t,r)=>{t.exports=e.x("node:os",()=>require("node:os"))},9656,(e,t,r)=>{t.exports=e.x("node:tty",()=>require("node:tty"))},2157,(e,t,r)=>{t.exports=e.x("node:fs",()=>require("node:fs"))},50227,(e,t,r)=>{t.exports=e.x("node:path",()=>require("node:path"))},66680,(e,t,r)=>{t.exports=e.x("node:crypto",()=>require("node:crypto"))},74533,(e,t,r)=>{t.exports=e.x("node:child_process",()=>require("node:child_process"))},12714,(e,t,r)=>{t.exports=e.x("node:fs/promises",()=>require("node:fs/promises"))},12057,(e,t,r)=>{t.exports=e.x("node:util",()=>require("node:util"))},59639,(e,t,r)=>{t.exports=e.x("node:process",()=>require("node:process"))},78500,(e,t,r)=>{t.exports=e.x("node:async_hooks",()=>require("node:async_hooks"))},87769,(e,t,r)=>{t.exports=e.x("node:events",()=>require("node:events"))},38501,(e,t,r)=>{"use strict";let n;var i=Object.create,a=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,l=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty,c=(e,t)=>()=>(e&&(t=e(e=0)),t),d=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),p=(e,t)=>{for(var r in t)a(e,r,{get:t[r],enumerable:!0})},f=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of o(t))u.call(e,i)||i===r||a(e,i,{get:()=>t[i],enumerable:!(n=s(t,i))||n.enumerable});return e},h=(e,t,r)=>(r=null!=e?i(l(e)):{},f(!t&&e&&e.__esModule?r:a(r,"default",{value:e,enumerable:!0}),e)),m=d((e,t)=>{t.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":1===e.length?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return -1!==n&&(-1===i||n<i)}}),g=d((t,r)=>{e.r(60526);var n,i=e.r(9656),a=m(),{env:s}=process;function o(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function l(e,t){if(0===n)return 0;if(a("color=16m")||a("color=full")||a("color=truecolor"))return 3;if(a("color=256"))return 2;if(e&&!t&&void 0===n)return 0;let r=n||0;if("dumb"===s.TERM)return r;if("CI"in s)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(e=>e in s)||"codeship"===s.CI_NAME?1:r;if("TEAMCITY_VERSION"in s)return+!!/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(s.TEAMCITY_VERSION);if("truecolor"===s.COLORTERM)return 3;if("TERM_PROGRAM"in s){let e=parseInt((s.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(s.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(s.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(s.TERM)||"COLORTERM"in s?1:r}a("no-color")||a("no-colors")||a("color=false")||a("color=never")?n=0:(a("color")||a("colors")||a("color=true")||a("color=always"))&&(n=1),"FORCE_COLOR"in s&&(n="true"===s.FORCE_COLOR?1:"false"===s.FORCE_COLOR?0:0===s.FORCE_COLOR.length?1:Math.min(parseInt(s.FORCE_COLOR,10),3)),r.exports={supportsColor:function(e){return o(l(e,e&&e.isTTY))},stdout:o(l(!0,i.isatty(1))),stderr:o(l(!0,i.isatty(2)))}}),y=d((e,t)=>{var r=g(),n=m();function i(e){if(/^\d{3,4}$/.test(e)){let t=/(\d{1,2})(\d{2})/.exec(e)||[];return{major:0,minor:parseInt(t[1],10),patch:parseInt(t[2],10)}}let t=(e||"").split(".").map(e=>parseInt(e,10));return{major:t[0],minor:t[1],patch:t[2]}}function a(e){let{CI:t,FORCE_HYPERLINK:a,NETLIFY:s,TEAMCITY_VERSION:o,TERM_PROGRAM:l,TERM_PROGRAM_VERSION:u,VTE_VERSION:c,TERM:d}=process.env;if(a)return!(a.length>0&&0===parseInt(a,10));if(n("no-hyperlink")||n("no-hyperlinks")||n("hyperlink=false")||n("hyperlink=never"))return!1;if(n("hyperlink=true")||n("hyperlink=always")||s)return!0;if(!r.supportsColor(e)||e&&!e.isTTY)return!1;if("WT_SESSION"in process.env)return!0;if("win32"===process.platform||t||o)return!1;if(l){let e=i(u||"");switch(l){case"iTerm.app":return 3===e.major?e.minor>=1:e.major>3;case"WezTerm":return e.major>=0x1343cac;case"vscode":return e.major>1||1===e.major&&e.minor>=72;case"ghostty":return!0}}if(c){if("0.50.0"===c)return!1;let e=i(c);return e.major>0||e.minor>=50}return"alacritty"===d}t.exports={supportsHyperlink:a,stdout:a(process.stdout),stderr:a(process.stderr)}}),v=d((e,t)=>{t.exports={name:"@prisma/internals",version:"6.19.0",description:"This package is intended for Prisma's internal use",main:"dist/index.js",types:"dist/index.d.ts",repository:{type:"git",url:"https://github.com/prisma/prisma.git",directory:"packages/internals"},homepage:"https://www.prisma.io",author:"Tim Suchanek <suchanek@prisma.io>",bugs:"https://github.com/prisma/prisma/issues",license:"Apache-2.0",scripts:{dev:"DEV=true tsx helpers/build.ts",build:"tsx helpers/build.ts",test:"dotenv -e ../../.db.env -- jest --silent",prepublishOnly:"pnpm run build"},files:["README.md","dist","!**/libquery_engine*","!dist/get-generators/engines/*","scripts"],devDependencies:{"@babel/helper-validator-identifier":"7.25.9","@opentelemetry/api":"1.9.0","@swc/core":"1.11.5","@swc/jest":"0.2.37","@types/babel__helper-validator-identifier":"7.15.2","@types/jest":"29.5.14","@types/node":"18.19.76","@types/resolve":"1.20.6",archiver:"6.0.2","checkpoint-client":"1.1.33","cli-truncate":"4.0.0",dotenv:"16.5.0",empathic:"2.0.0","escape-string-regexp":"5.0.0",execa:"8.0.1","fast-glob":"3.3.3","find-up":"7.0.0","fp-ts":"2.16.9","fs-extra":"11.3.0","global-directory":"4.0.0",globby:"11.1.0","identifier-regex":"1.0.0","indent-string":"4.0.0","is-windows":"1.0.2","is-wsl":"3.1.0",jest:"29.7.0","jest-junit":"16.0.0",kleur:"4.1.5","mock-stdin":"1.0.0","new-github-issue-url":"0.2.1","node-fetch":"3.3.2","npm-packlist":"5.1.3",open:"7.4.2","p-map":"4.0.0",resolve:"1.22.10","string-width":"7.2.0","strip-indent":"4.0.0","temp-dir":"2.0.0",tempy:"1.0.1","terminal-link":"4.0.0",tmp:"0.2.3","ts-pattern":"5.6.2","ts-toolbelt":"9.6.0",typescript:"5.4.5",yarn:"1.22.22"},dependencies:{"@prisma/config":"workspace:*","@prisma/debug":"workspace:*","@prisma/dmmf":"workspace:*","@prisma/driver-adapter-utils":"workspace:*","@prisma/engines":"workspace:*","@prisma/fetch-engine":"workspace:*","@prisma/generator":"workspace:*","@prisma/generator-helper":"workspace:*","@prisma/get-platform":"workspace:*","@prisma/prisma-schema-wasm":"6.19.0-26.2ba551f319ab1df4bc874a89965d8b3641056773","@prisma/schema-engine-wasm":"6.19.0-26.2ba551f319ab1df4bc874a89965d8b3641056773","@prisma/schema-files-loader":"workspace:*",arg:"5.0.2",prompts:"2.4.2"},peerDependencies:{typescript:">=5.1.0"},peerDependenciesMeta:{typescript:{optional:!0}},sideEffects:!1}}),b=d((e,t)=>{t.exports={name:"@prisma/engines-version",version:"6.19.0-26.2ba551f319ab1df4bc874a89965d8b3641056773",main:"index.js",types:"index.d.ts",license:"Apache-2.0",author:"Tim Suchanek <suchanek@prisma.io>",prisma:{enginesVersion:"2ba551f319ab1df4bc874a89965d8b3641056773"},repository:{type:"git",url:"https://github.com/prisma/engines-wrapper.git",directory:"packages/engines-version"},devDependencies:{"@types/node":"18.19.76",typescript:"4.9.5"},files:["index.js","index.d.ts"],scripts:{build:"tsc -d"}}}),w=d(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.enginesVersion=void 0,e.enginesVersion=b().prisma.enginesVersion}),_=d((e,t)=>{t.exports=e=>{let t=e.match(/^[ \t]*(?=\S)/gm);return t?t.reduce((e,t)=>Math.min(e,t.length),1/0):0}}),x=d((e,t)=>{t.exports=(e,t=1,r)=>{if(r={indent:" ",includeEmptyLines:!1,...r},"string"!=typeof e)throw TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof e}\``);if("number"!=typeof t)throw TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof t}\``);if("string"!=typeof r.indent)throw TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof r.indent}\``);if(0===t)return e;let n=r.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return e.replace(n,r.indent.repeat(t))}}),k=d((e,t)=>{t.exports={name:"dotenv",version:"16.5.0",description:"Loads environment variables from .env file",main:"lib/main.js",types:"lib/main.d.ts",exports:{".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},scripts:{"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard",pretest:"npm run lint && npm run dts-check",test:"tap run --allow-empty-coverage --disable-coverage --timeout=60000","test:coverage":"tap run --show-full-coverage --timeout=60000 --coverage-report=lcov",prerelease:"npm test",release:"standard-version"},repository:{type:"git",url:"git://github.com/motdotla/dotenv.git"},homepage:"https://github.com/motdotla/dotenv#readme",funding:"https://dotenvx.com",keywords:["dotenv","env",".env","environment","variables","config","settings"],readmeFilename:"README.md",license:"BSD-2-Clause",devDependencies:{"@types/node":"^18.11.3",decache:"^4.6.2",sinon:"^14.0.1",standard:"^17.0.0","standard-version":"^9.5.0",tap:"^19.2.0",typescript:"^4.8.4"},engines:{node:">=12"},browser:{fs:!1}}}),E=d((t,r)=>{var n=e.r(2157),i=e.r(50227),a=e.r(60526),s=e.r(66680),o=k().version,l=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function u(e){console.log(`[dotenv@${o}][DEBUG] ${e}`)}function c(e){return e&&e.DOTENV_KEY&&e.DOTENV_KEY.length>0?e.DOTENV_KEY:process.env.DOTENV_KEY&&process.env.DOTENV_KEY.length>0?process.env.DOTENV_KEY:""}function d(e){let t=null;if(e&&e.path&&e.path.length>0)if(Array.isArray(e.path))for(let r of e.path)n.existsSync(r)&&(t=r.endsWith(".vault")?r:`${r}.vault`);else t=e.path.endsWith(".vault")?e.path:`${e.path}.vault`;else t=i.resolve(process.cwd(),".env.vault");return n.existsSync(t)?t:null}function p(e){return"~"===e[0]?i.join(a.homedir(),e.slice(1)):e}var f={configDotenv:function(e){let t=i.resolve(process.cwd(),".env"),r="utf8",a=!!(e&&e.debug);e&&e.encoding?r=e.encoding:a&&u("No encoding is specified. UTF-8 is used by default");let s=[t];if(e&&e.path)if(Array.isArray(e.path))for(let t of(s=[],e.path))s.push(p(t));else s=[p(e.path)];let o,l={};for(let t of s)try{let i=f.parse(n.readFileSync(t,{encoding:r}));f.populate(l,i,e)}catch(e){a&&u(`Failed to load ${t} ${e.message}`),o=e}let c=process.env;return e&&null!=e.processEnv&&(c=e.processEnv),f.populate(c,l,e),o?{parsed:l,error:o}:{parsed:l}},_configVault:function(e){e&&e.debug&&u("Loading env from encrypted .env.vault");let t=f._parseVault(e),r=process.env;return e&&null!=e.processEnv&&(r=e.processEnv),f.populate(r,t,e),{parsed:t}},_parseVault:function(e){let t=d(e),r=f.configDotenv({path:t});if(!r.parsed){let e=Error(`MISSING_DATA: Cannot parse ${t} for an unknown reason`);throw e.code="MISSING_DATA",e}let n=c(e).split(","),i=n.length,a;for(let e=0;e<i;e++)try{let t=n[e].trim(),i=function(e,t){let r;try{r=new URL(t)}catch(e){if("ERR_INVALID_URL"===e.code){let e=Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development");throw e.code="INVALID_DOTENV_KEY",e}throw e}let n=r.password;if(!n){let e=Error("INVALID_DOTENV_KEY: Missing key part");throw e.code="INVALID_DOTENV_KEY",e}let i=r.searchParams.get("environment");if(!i){let e=Error("INVALID_DOTENV_KEY: Missing environment part");throw e.code="INVALID_DOTENV_KEY",e}let a=`DOTENV_VAULT_${i.toUpperCase()}`,s=e.parsed[a];if(!s){let e=Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${a} in your .env.vault file.`);throw e.code="NOT_FOUND_DOTENV_ENVIRONMENT",e}return{ciphertext:s,key:n}}(r,t);a=f.decrypt(i.ciphertext,i.key);break}catch(t){if(e+1>=i)throw t}return f.parse(a)},config:function(e){var t;if(0===c(e).length)return f.configDotenv(e);let r=d(e);return r?f._configVault(e):(t=`You set DOTENV_KEY but you are missing a .env.vault file at ${r}. Did you forget to build it?`,console.log(`[dotenv@${o}][WARN] ${t}`),f.configDotenv(e))},decrypt:function(e,t){let r=Buffer.from(t.slice(-64),"hex"),n=Buffer.from(e,"base64"),i=n.subarray(0,12),a=n.subarray(-16);n=n.subarray(12,-16);try{let e=s.createDecipheriv("aes-256-gcm",r,i);return e.setAuthTag(a),`${e.update(n)}${e.final()}`}catch(n){let e=n instanceof RangeError,t="Invalid key length"===n.message,r="Unsupported state or unable to authenticate data"===n.message;if(e||t){let e=Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw e.code="INVALID_DOTENV_KEY",e}if(r){let e=Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw e.code="DECRYPTION_FAILED",e}throw n}},parse:function(e){let t,r={},n=e.toString();for(n=n.replace(/\r\n?/mg,`
`);null!=(t=l.exec(n));){let e=t[1],n=t[2]||"",i=(n=n.trim())[0];n=n.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),'"'===i&&(n=(n=n.replace(/\\n/g,`
`)).replace(/\\r/g,"\r")),r[e]=n}return r},populate:function(e,t,r={}){let n=!!(r&&r.debug),i=!!(r&&r.override);if("object"!=typeof t){let e=Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw e.code="OBJECT_REQUIRED",e}for(let r of Object.keys(t))Object.prototype.hasOwnProperty.call(e,r)?(!0===i&&(e[r]=t[r]),n&&u(!0===i?`"${r}" is already defined and WAS overwritten`:`"${r}" is already defined and was NOT overwritten`)):e[r]=t[r]}};r.exports.configDotenv=f.configDotenv,r.exports._configVault=f._configVault,r.exports._parseVault=f._parseVault,r.exports.config=f.config,r.exports.decrypt=f.decrypt,r.exports.parse=f.parse,r.exports.populate=f.populate,r.exports=f}),$=d((e,t)=>{t.exports=(e={})=>{let t;if(e.repoUrl)t=e.repoUrl;else if(e.user&&e.repo)t=`https://github.com/${e.user}/${e.repo}`;else throw Error("You need to specify either the `repoUrl` option or both the `user` and `repo` options");let r=new URL(`${t}/issues/new`);for(let t of["body","title","labels","template","milestone","assignee","projects"]){let n=e[t];if(void 0!==n){if("labels"===t||"projects"===t){if(!Array.isArray(n))throw TypeError(`The \`${t}\` option should be an array`);n=n.join(",")}r.searchParams.set(t,n)}}return r.toString()},t.exports.default=t.exports}),T=d((e,t)=>{t.exports=function(){function e(e,t,r,n,i){return e<t||r<t?e>r?r+1:e+1:n===i?t:t+1}return function(t,r){if(t===r)return 0;if(t.length>r.length){var n=t;t=r,r=n}for(var i=t.length,a=r.length;i>0&&t.charCodeAt(i-1)===r.charCodeAt(a-1);)i--,a--;for(var s=0;s<i&&t.charCodeAt(s)===r.charCodeAt(s);)s++;if(i-=s,a-=s,0===i||a<3)return a;var o,l,u,c,d,p,f,h,m,g,y,v,b=0,w=[];for(o=0;o<i;o++)w.push(o+1),w.push(t.charCodeAt(s+o));for(var _=w.length-1;b<a-3;)for(m=r.charCodeAt(s+(l=b)),g=r.charCodeAt(s+(u=b+1)),y=r.charCodeAt(s+(c=b+2)),v=r.charCodeAt(s+(d=b+3)),p=b+=4,o=0;o<_;o+=2)l=e(f=w[o],l,u,m,h=w[o+1]),u=e(l,u,c,g,h),c=e(u,c,d,y,h),p=e(c,d,p,v,h),w[o]=p,d=c,c=u,u=l,l=f;for(;b<a;)for(m=r.charCodeAt(s+(l=b)),p=++b,o=0;o<_;o+=2)f=w[o],w[o]=p=e(f,l,p,m,w[o+1]),l=f;return p}}()}),S=c(()=>{}),I=c(()=>{}),A={};p(A,{DMMF:()=>n9,Debug:()=>e_,Decimal:()=>n6,Extensions:()=>O,MetricsClient:()=>ar,PrismaClientInitializationError:()=>rk,PrismaClientKnownRequestError:()=>rE,PrismaClientRustPanicError:()=>r$,PrismaClientUnknownRequestError:()=>rT,PrismaClientValidationError:()=>rS,Public:()=>P,Sql:()=>am,createParam:()=>i0,defineDmmfProperty:()=>an,deserializeJsonResponse:()=>sd,deserializeRawResult:()=>oI,dmmfToRuntimeDataModel:()=>rN,empty:()=>av,getPrismaClient:()=>oF,getRuntime:()=>sb,join:()=>ag,makeStrictEnum:()=>oH,makeTypedQueryFactory:()=>al,objectEnumValues:()=>iq,raw:()=>ay,serializeJsonQuery:()=>i5,skip:()=>i6,sqltag:()=>ab,warnEnvConflicts:()=>oK,warnOnce:()=>rx}),t.exports=f(a({},"__esModule",{value:!0}),A);var O={};function N(e){return"function"==typeof e?e:t=>t.$extends(e)}function R(e){return e}p(O,{defineExtension:()=>N,getExtensionContext:()=>R});var P={};function U(){return e=>e}p(P,{validator:()=>U});var D={};p(D,{$:()=>q,bgBlack:()=>eo,bgBlue:()=>ed,bgCyan:()=>ef,bgGreen:()=>eu,bgMagenta:()=>ep,bgRed:()=>el,bgWhite:()=>eh,bgYellow:()=>ec,black:()=>Q,blue:()=>et,bold:()=>F,cyan:()=>en,dim:()=>B,gray:()=>ea,green:()=>X,grey:()=>es,hidden:()=>G,inverse:()=>K,italic:()=>W,magenta:()=>er,red:()=>Y,reset:()=>V,strikethrough:()=>J,underline:()=>H,white:()=>ei,yellow:()=>ee});var C,j,L,z,M=!0;"u">typeof process&&({FORCE_COLOR:C,NODE_DISABLE_COLORS:j,NO_COLOR:L,TERM:z}=process.env||{},M=process.stdout&&process.stdout.isTTY);var q={enabled:!j&&null==L&&"dumb"!==z&&(null!=C&&"0"!==C||M)};function Z(e,t){let r=RegExp(`\\x1b\\[${t}m`,"g"),n=`\x1b[${e}m`,i=`\x1b[${t}m`;return function(e){return q.enabled&&null!=e?n+(~(""+e).indexOf(i)?e.replace(r,i+n):e)+i:e}}var V=Z(0,0),F=Z(1,22),B=Z(2,22),W=Z(3,23),H=Z(4,24),K=Z(7,27),G=Z(8,28),J=Z(9,29),Q=Z(30,39),Y=Z(31,39),X=Z(32,39),ee=Z(33,39),et=Z(34,39),er=Z(35,39),en=Z(36,39),ei=Z(37,39),ea=Z(90,39),es=Z(90,39),eo=Z(40,49),el=Z(41,49),eu=Z(42,49),ec=Z(43,49),ed=Z(44,49),ep=Z(45,49),ef=Z(46,49),eh=Z(47,49),em=["green","yellow","blue","magenta","cyan","red"],eg=[],ey=Date.now(),ev=0,eb="u">typeof process?process.env:{};globalThis.DEBUG??=eb.DEBUG??"",globalThis.DEBUG_COLORS??=!eb.DEBUG_COLORS||"true"===eb.DEBUG_COLORS;var ew={enable(e){"string"==typeof e&&(globalThis.DEBUG=e)},disable(){let e=globalThis.DEBUG;return globalThis.DEBUG="",e},enabled(e){let t=globalThis.DEBUG.split(",").map(e=>e.replace(/[.+?^${}()|[\]\\]/g,"\\$&")),r=t.some(t=>""!==t&&"-"!==t[0]&&e.match(RegExp(t.split("*").join(".*")+"$"))),n=t.some(t=>""!==t&&"-"===t[0]&&e.match(RegExp(t.slice(1).split("*").join(".*")+"$")));return r&&!n},log:(...e)=>{let[t,r,...n]=e;(console.warn??console.log)(`${t} ${r}`,...n)},formatters:{}},e_=new Proxy(function(e){let t={color:em[ev++%em.length],enabled:ew.enabled(e),namespace:e,log:ew.log,extend:()=>{}};return new Proxy((...e)=>{let{enabled:r,namespace:n,color:i,log:a}=t;if(0!==e.length&&eg.push([n,...e]),eg.length>100&&eg.shift(),ew.enabled(n)||r){let t=e.map(e=>"string"==typeof e?e:function(e,t=2){let r=new Set;return JSON.stringify(e,(e,t)=>{if("object"==typeof t&&null!==t){if(r.has(t))return"[Circular *]";r.add(t)}else if("bigint"==typeof t)return t.toString();return t},t)}(e)),r=`+${Date.now()-ey}ms`;ey=Date.now(),globalThis.DEBUG_COLORS?a(D[i](F(n)),...t,D[i](r)):a(n,...t,r)}},{get:(e,r)=>t[r],set:(e,r,n)=>t[r]=n})},{get:(e,t)=>ew[t],set:(e,t,r)=>ew[t]=r}),ex=h(e.r(2157)),ek="libquery_engine",eE=h(e.r(74533)),e$=h(e.r(12714)),eT=h(e.r(60526)),eS=Symbol.for("@ts-pattern/matcher"),eI=Symbol.for("@ts-pattern/isVariadic"),eA="@ts-pattern/anonymous-select-key",eO=e=>!!(e&&"object"==typeof e),eN=e=>e&&!!e[eS],eR=(e,t,r)=>{if(eN(e)){let{matched:n,selections:i}=e[eS]().match(t);return n&&i&&Object.keys(i).forEach(e=>r(e,i[e])),n}if(eO(e)){if(!eO(t))return!1;if(Array.isArray(e)){if(!Array.isArray(t))return!1;let n=[],i=[],a=[];for(let t of e.keys()){let r=e[t];eN(r)&&r[eI]?a.push(r):a.length?i.push(r):n.push(r)}if(a.length){if(a.length>1)throw Error("Pattern error: Using `...P.array(...)` several times in a single pattern is not allowed.");if(t.length<n.length+i.length)return!1;let e=t.slice(0,n.length),s=0===i.length?[]:t.slice(-i.length),o=t.slice(n.length,0===i.length?1/0:-i.length);return n.every((t,n)=>eR(t,e[n],r))&&i.every((e,t)=>eR(e,s[t],r))&&(0===a.length||eR(a[0],o,r))}return e.length===t.length&&e.every((e,n)=>eR(e,t[n],r))}return Reflect.ownKeys(e).every(n=>{let i=e[n];return(n in t||eN(i)&&"optional"===i[eS]().matcherType)&&eR(i,t[n],r)})}return Object.is(t,e)},eP=e=>{var t,r,n;return eO(e)?eN(e)?null!=(t=null==(r=(n=e[eS]()).getSelectionKeys)?void 0:r.call(n))?t:[]:Array.isArray(e)?eU(e,eP):eU(Object.values(e),eP):[]},eU=(e,t)=>e.reduce((e,r)=>e.concat(t(r)),[]);function eD(e){return Object.assign(e,{optional:()=>{var t;return t=e,eD({[eS]:()=>({match:e=>{let r={},n=(e,t)=>{r[e]=t};return void 0===e?(eP(t).forEach(e=>n(e,void 0)),{matched:!0,selections:r}):{matched:eR(t,e,n),selections:r}},getSelectionKeys:()=>eP(t),matcherType:"optional"})})},and:t=>eC(e,t),or:t=>(function(...e){return eD({[eS]:()=>({match:t=>{let r={},n=(e,t)=>{r[e]=t};return eU(e,eP).forEach(e=>n(e,void 0)),{matched:e.some(e=>eR(e,t,n)),selections:r}},getSelectionKeys:()=>eU(e,eP),matcherType:"or"})})})(e,t),select:t=>void 0===t?eL(e):eL(t,e)})}function eC(...e){return eD({[eS]:()=>({match:t=>{let r={},n=(e,t)=>{r[e]=t};return{matched:e.every(e=>eR(e,t,n)),selections:r}},getSelectionKeys:()=>eU(e,eP),matcherType:"and"})})}function ej(e){return{[eS]:()=>({match:t=>({matched:!!e(t)})})}}function eL(...e){let t="string"==typeof e[0]?e[0]:void 0,r=2===e.length?e[1]:"string"==typeof e[0]?void 0:e[0];return eD({[eS]:()=>({match:e=>{let n={[t??eA]:e};return{matched:void 0===r||eR(r,e,(e,t)=>{n[e]=t}),selections:n}},getSelectionKeys:()=>[t??eA].concat(void 0===r?[]:eP(r))})})}function ez(e){return"number"==typeof e}function eM(e){return"string"==typeof e}function eq(e){return"bigint"==typeof e}eD(ej(function(e){return!0}));var eZ=e=>Object.assign(eD(e),{startsWith:t=>eZ(eC(e,ej(e=>eM(e)&&e.startsWith(t)))),endsWith:t=>eZ(eC(e,ej(e=>eM(e)&&e.endsWith(t)))),minLength:t=>eZ(eC(e,ej(e=>eM(e)&&e.length>=t))),length:t=>eZ(eC(e,ej(e=>eM(e)&&e.length===t))),maxLength:t=>eZ(eC(e,ej(e=>eM(e)&&e.length<=t))),includes:t=>eZ(eC(e,ej(e=>eM(e)&&e.includes(t)))),regex:t=>eZ(eC(e,ej(e=>eM(e)&&!!e.match(t))))}),eV=(eZ(ej(eM)),e=>Object.assign(eD(e),{between:(t,r)=>eV(eC(e,ej(e=>ez(e)&&t<=e&&r>=e))),lt:t=>eV(eC(e,ej(e=>ez(e)&&e<t))),gt:t=>eV(eC(e,ej(e=>ez(e)&&e>t))),lte:t=>eV(eC(e,ej(e=>ez(e)&&e<=t))),gte:t=>eV(eC(e,ej(e=>ez(e)&&e>=t))),int:()=>eV(eC(e,ej(e=>ez(e)&&Number.isInteger(e)))),finite:()=>eV(eC(e,ej(e=>ez(e)&&Number.isFinite(e)))),positive:()=>eV(eC(e,ej(e=>ez(e)&&e>0))),negative:()=>eV(eC(e,ej(e=>ez(e)&&e<0)))})),eF=(eV(ej(ez)),e=>Object.assign(eD(e),{between:(t,r)=>eF(eC(e,ej(e=>eq(e)&&t<=e&&r>=e))),lt:t=>eF(eC(e,ej(e=>eq(e)&&e<t))),gt:t=>eF(eC(e,ej(e=>eq(e)&&e>t))),lte:t=>eF(eC(e,ej(e=>eq(e)&&e<=t))),gte:t=>eF(eC(e,ej(e=>eq(e)&&e>=t))),positive:()=>eF(eC(e,ej(e=>eq(e)&&e>0))),negative:()=>eF(eC(e,ej(e=>eq(e)&&e<0)))}));eF(ej(eq)),eD(ej(function(e){return"boolean"==typeof e})),eD(ej(function(e){return"symbol"==typeof e})),eD(ej(function(e){return null==e})),eD(ej(function(e){return null!=e}));var eB=class extends Error{constructor(e){let t;try{t=JSON.stringify(e)}catch{t=e}super(`Pattern matching error: no pattern matches value ${t}`),this.input=void 0,this.input=e}},eW={matched:!1,value:void 0};function eH(e){return new eK(e,eW)}var eK=class e{constructor(e,t){this.input=void 0,this.state=void 0,this.input=e,this.state=t}with(...t){if(this.state.matched)return this;let r=t[t.length-1],n=[t[0]],i;3===t.length&&"function"==typeof t[1]?i=t[1]:t.length>2&&n.push(...t.slice(1,t.length-1));let a=!1,s={},o=(e,t)=>{a=!0,s[e]=t},l=n.some(e=>eR(e,this.input,o))&&(!i||i(this.input))?{matched:!0,value:r(a?eA in s?s[eA]:s:this.input,this.input)}:eW;return new e(this.input,l)}when(t,r){if(this.state.matched)return this;let n=!!t(this.input);return new e(this.input,n?{matched:!0,value:r(this.input,this.input)}:eW)}otherwise(e){return this.state.matched?this.state.value:e(this.input)}exhaustive(){if(this.state.matched)return this.state.value;throw new eB(this.input)}run(){return this.exhaustive()}returnType(){return this}},eG=e.r(12057),eJ={warn:ee("prisma:warn")};function eQ(e,...t){process.env.PRISMA_DISABLE_WARNINGS||console.warn(`${eJ.warn} ${e}`,...t)}var eY=(0,eG.promisify)(eE.default.exec),eX=e_("prisma:get-platform"),e0=["1.0.x","1.1.x","3.0.x"];async function e1(){let e=eT.default.platform(),t=process.arch;if("freebsd"===e){let e=await tn("freebsd-version");if(e&&e.trim().length>0){let r=/^(\d+)\.?/.exec(e);if(r)return{platform:"freebsd",targetDistro:`freebsd${r[1]}`,arch:t}}}if("linux"!==e)return{platform:e,arch:t};let r=await e4(),n=await ti(),i=eH({arch:t,archFromUname:n,familyDistro:r.familyDistro}).with({familyDistro:"musl"},()=>(eX('Trying platform-specific paths for "alpine"'),["/lib","/usr/lib"])).with({familyDistro:"debian"},({archFromUname:e})=>(eX('Trying platform-specific paths for "debian" (and "ubuntu")'),[`/usr/lib/${e}-linux-gnu`,`/lib/${e}-linux-gnu`])).with({familyDistro:"rhel"},()=>(eX('Trying platform-specific paths for "rhel"'),["/lib64","/usr/lib64"])).otherwise(({familyDistro:e,arch:t,archFromUname:r})=>(eX(`Don't know any platform-specific paths for "${e}" on ${t} (${r})`),[])),{libssl:a}=await e9(i);return{platform:"linux",libssl:a,arch:t,archFromUname:n,...r}}async function e4(){try{var e;let t,r,n,i;return e=await e$.default.readFile("/etc/os-release",{encoding:"utf-8"}),r=(t=/^ID="?([^"\n]*)"?$/im.exec(e))&&t[1]&&t[1].toLowerCase()||"",n=/^ID_LIKE="?([^"\n]*)"?$/im.exec(e),i=eH({id:r,idLike:n&&n[1]&&n[1].toLowerCase()||""}).with({id:"alpine"},({id:e})=>({targetDistro:"musl",familyDistro:e,originalDistro:e})).with({id:"raspbian"},({id:e})=>({targetDistro:"arm",familyDistro:"debian",originalDistro:e})).with({id:"nixos"},({id:e})=>({targetDistro:"nixos",originalDistro:e,familyDistro:"nixos"})).with({id:"debian"},{id:"ubuntu"},({id:e})=>({targetDistro:"debian",familyDistro:"debian",originalDistro:e})).with({id:"rhel"},{id:"centos"},{id:"fedora"},({id:e})=>({targetDistro:"rhel",familyDistro:"rhel",originalDistro:e})).when(({idLike:e})=>e.includes("debian")||e.includes("ubuntu"),({id:e})=>({targetDistro:"debian",familyDistro:"debian",originalDistro:e})).when(({idLike:e})=>"arch"===r||e.includes("arch"),({id:e})=>({targetDistro:"debian",familyDistro:"arch",originalDistro:e})).when(({idLike:e})=>e.includes("centos")||e.includes("fedora")||e.includes("rhel")||e.includes("suse"),({id:e})=>({targetDistro:"rhel",familyDistro:"rhel",originalDistro:e})).otherwise(({id:e})=>({targetDistro:void 0,familyDistro:void 0,originalDistro:e})),eX(`Found distro info:
${JSON.stringify(i,null,2)}`),i}catch{return{targetDistro:void 0,familyDistro:void 0,originalDistro:void 0}}}function e6(e){let t=/libssl\.so\.(\d)(\.\d)?/.exec(e);if(t)return e2(`${t[1]}${t[2]??".0"}.x`)}function e2(e){let t=(()=>{if(ta(e))return e;let t=e.split(".");return t[1]="0",t.join(".")})();if(e0.includes(t))return t}async function e9(e){let t=await e3(e);if(t){eX(`Found libssl.so file using platform-specific paths: ${t}`);let e=e6(t);if(eX(`The parsed libssl version is: ${e}`),e)return{libssl:e,strategy:"libssl-specific-path"}}eX('Falling back to "ldconfig" and other generic paths');let r=await tn('ldconfig -p | sed "s/.*=>s*//" | sed "s|.*/||" | grep libssl | sort | grep -v "libssl.so.0"');if(r||(r=await e3(["/lib64","/usr/lib64","/lib","/usr/lib"])),r){eX(`Found libssl.so file using "ldconfig" or other generic paths: ${r}`);let e=e6(r);if(eX(`The parsed libssl version is: ${e}`),e)return{libssl:e,strategy:"ldconfig"}}let n=await tn("openssl version -v");if(n){eX(`Found openssl binary with version: ${n}`);let e=function(e){let t=/^OpenSSL\s(\d+\.\d+)\.\d+/.exec(e);if(t)return e2(`${t[1]}.x`)}(n);if(eX(`The parsed openssl version is: ${e}`),e)return{libssl:e,strategy:"openssl-binary"}}return eX("Couldn't find any version of libssl or OpenSSL in the system"),{}}async function e3(e){for(let t of e){let e=await e5(t);if(e)return e}}async function e5(e){try{return(await e$.default.readdir(e)).find(e=>e.startsWith("libssl.so.")&&!e.startsWith("libssl.so.0"))}catch(e){if("ENOENT"===e.code)return;throw e}}async function e8(){let{binaryTarget:e}=await tt();return e}async function e7(){let{memoized:e,...t}=await tt();return t}var te={};async function tt(){if(void 0!==te.binaryTarget)return Promise.resolve({...te,memoized:!0});let e=await e1(),t=function(e){let{platform:t,arch:r,archFromUname:n,libssl:i,targetDistro:a,familyDistro:s,originalDistro:o}=e;"linux"!==t||["x64","arm64"].includes(r)||eQ(`Prisma only officially supports Linux on amd64 (x86_64) and arm64 (aarch64) system architectures (detected "${r}" instead). If you are using your own custom Prisma engines, you can ignore this warning, as long as you've compiled the engines for your system architecture "${n}".`);let l="1.1.x";if("linux"===t&&void 0===i){let e=eH({familyDistro:s}).with({familyDistro:"debian"},()=>"Please manually install OpenSSL via `apt-get update -y && apt-get install -y openssl` and try installing Prisma again. If you're running Prisma on Docker, add this command to your Dockerfile, or switch to an image that already has OpenSSL installed.").otherwise(()=>"Please manually install OpenSSL and try installing Prisma again.");eQ(`Prisma failed to detect the libssl/openssl version to use, and may not work as expected. Defaulting to "openssl-${l}".
${e}`)}let u="debian";if("linux"===t&&void 0===a&&eX(`Distro is "${o}". Falling back to Prisma engines built for "${u}".`),"darwin"===t&&"arm64"===r)return"darwin-arm64";if("darwin"===t)return"darwin";if("win32"===t)return"windows";if("freebsd"===t)return a;if("openbsd"===t)return"openbsd";if("netbsd"===t)return"netbsd";if("linux"===t&&"nixos"===a)return"linux-nixos";if("linux"===t&&"arm64"===r)return`${"musl"===a?"linux-musl-arm64":"linux-arm64"}-openssl-${i||l}`;if("linux"===t&&"arm"===r)return`linux-arm-openssl-${i||l}`;if("linux"===t&&"musl"===a){let e="linux-musl";return!i||ta(i)?e:`${e}-openssl-${i}`}return"linux"===t&&a&&i?`${a}-openssl-${i}`:("linux"!==t&&eQ(`Prisma detected unknown OS "${t}" and may not work as expected. Defaulting to "linux".`),i?`${u}-openssl-${i}`:a?`${a}-openssl-${l}`:`${u}-openssl-${l}`)}(e);return{...te={...e,binaryTarget:t},memoized:!1}}async function tr(e){try{return await e()}catch{return}}function tn(e){return tr(async()=>{let t=await eY(e);return eX(`Command "${e}" successfully returned "${t.stdout}"`),t.stdout})}async function ti(){return"function"==typeof eT.default.machine?eT.default.machine():(await tn("uname -m"))?.trim()}function ta(e){return e.startsWith("1.")}var ts={};p(ts,{beep:()=>tM,clearScreen:()=>tC,clearTerminal:()=>tj,cursorBackward:()=>tv,cursorDown:()=>tg,cursorForward:()=>ty,cursorGetPosition:()=>tx,cursorHide:()=>t$,cursorLeft:()=>tb,cursorMove:()=>th,cursorNextLine:()=>tk,cursorPrevLine:()=>tE,cursorRestorePosition:()=>t_,cursorSavePosition:()=>tw,cursorShow:()=>tT,cursorTo:()=>tf,cursorUp:()=>tm,enterAlternativeScreen:()=>tL,eraseDown:()=>tN,eraseEndLine:()=>tI,eraseLine:()=>tO,eraseLines:()=>tS,eraseScreen:()=>tP,eraseStartLine:()=>tA,eraseUp:()=>tR,exitAlternativeScreen:()=>tz,iTerm:()=>tV,image:()=>tZ,link:()=>tq,scrollDown:()=>tD,scrollUp:()=>tU});var to=h(e.r(59639),1),tl=globalThis.window?.document!==void 0,tu=(globalThis.process?.versions?.node,globalThis.process?.versions?.bun,globalThis.Deno?.version?.deno,globalThis.process?.versions?.electron,globalThis.navigator?.userAgent?.includes("jsdom"),"u">typeof WorkerGlobalScope&&WorkerGlobalScope,"u">typeof DedicatedWorkerGlobalScope&&DedicatedWorkerGlobalScope,"u">typeof SharedWorkerGlobalScope&&SharedWorkerGlobalScope,"u">typeof ServiceWorkerGlobalScope&&ServiceWorkerGlobalScope,globalThis.navigator?.userAgentData?.platform);"macOS"===tu||globalThis.navigator?.platform==="MacIntel"||globalThis.navigator?.userAgent?.includes(" Mac ")===!0||globalThis.process?.platform,"Windows"===tu||globalThis.navigator?.platform==="Win32"||globalThis.process?.platform,"Linux"===tu||globalThis.navigator?.platform?.startsWith("Linux")===!0||globalThis.navigator?.userAgent?.includes(" Linux ")===!0||globalThis.process?.platform,"iOS"===tu||globalThis.navigator?.platform==="MacIntel"&&globalThis.navigator?.maxTouchPoints>1||/iPad|iPhone|iPod/.test(globalThis.navigator?.platform),"Android"===tu||globalThis.navigator?.platform==="Android"||globalThis.navigator?.userAgent?.includes(" Android ")===!0||globalThis.process?.platform;var tc=!tl&&"Apple_Terminal"===to.default.env.TERM_PROGRAM,td=!tl&&"win32"===to.default.platform,tp=tl?()=>{throw Error("`process.cwd()` only works in Node.js, not the browser.")}:to.default.cwd,tf=(e,t)=>{if("number"!=typeof e)throw TypeError("The `x` argument is required");return"number"!=typeof t?"\x1b["+(e+1)+"G":"\x1b["+(t+1)+";"+(e+1)+"H"},th=(e,t)=>{if("number"!=typeof e)throw TypeError("The `x` argument is required");let r="";return e<0?r+="\x1b["+-e+"D":e>0&&(r+="\x1b["+e+"C"),t<0?r+="\x1b["+-t+"A":t>0&&(r+="\x1b["+t+"B"),r},tm=(e=1)=>"\x1b["+e+"A",tg=(e=1)=>"\x1b["+e+"B",ty=(e=1)=>"\x1b["+e+"C",tv=(e=1)=>"\x1b["+e+"D",tb="\x1b[G",tw=tc?"\x1b7":"\x1b[s",t_=tc?"\x1b8":"\x1b[u",tx="\x1b[6n",tk="\x1b[E",tE="\x1b[F",t$="\x1b[?25l",tT="\x1b[?25h",tS=e=>{let t="";for(let r=0;r<e;r++)t+=tO+(r<e-1?tm():"");return e&&(t+=tb),t},tI="\x1b[K",tA="\x1b[1K",tO="\x1b[2K",tN="\x1b[J",tR="\x1b[1J",tP="\x1b[2J",tU="\x1b[S",tD="\x1b[T",tC="\x1bc",tj=td?`${tP}\x1b[0f`:`${tP}\x1b[3J\x1b[H`,tL="\x1b[?1049h",tz="\x1b[?1049l",tM="\x07",tq=(e,t)=>"\x1b]8;;"+t+"\x07"+e+"\x1b]8;;\x07",tZ=(e,t={})=>{let r=`\x1b]1337;File=inline=1`;return t.width&&(r+=`;width=${t.width}`),t.height&&(r+=`;height=${t.height}`),!1===t.preserveAspectRatio&&(r+=";preserveAspectRatio=0"),r+":"+Buffer.from(e).toString("base64")+"\x07"},tV={setCwd:(e=tp())=>`\x1b]50;CurrentDir=${e}\x07`,annotation(e,t={}){let r=`\x1b]1337;`,n=void 0!==t.x,i=void 0!==t.y;if((n||i)&&!(n&&i&&void 0!==t.length))throw Error("`x`, `y` and `length` must be defined when `x` or `y` is defined");return e=e.replaceAll("|",""),r+=t.isHidden?"AddHiddenAnnotation=":"AddAnnotation=",t.length>0?r+=(n?[e,t.length,t.x,t.y]:[t.length,e]).join("|"):r+=e,r+"\x07"}},tF=h(y(),1);function tB(e,t,{target:r="stdout",...n}={}){return tF.default[r]?ts.link(e,t):!1===n.fallback?e:"function"==typeof n.fallback?n.fallback(e,t):`${e} (\u200B${t}\u200B)`}tB.isSupported=tF.default.stdout,tB.stderr=(e,t,r={})=>tB(e,t,{target:"stderr",...r}),tB.stderr.isSupported=tF.default.stderr;var tW=v().version;function tH(e){let t;return("library"===(t=process.env.PRISMA_CLIENT_ENGINE_TYPE)?"library":"binary"===t?"binary":"client"===t?"client":void 0)||(e?.config.engineType==="library"?"library":e?.config.engineType==="binary"?"binary":e?.config.engineType==="client"?"client":"library")}function tK(e){return"DriverAdapterError"===e.name&&"object"==typeof e.cause}function tG(e){return{ok:!0,value:e,map:t=>tG(t(e)),flatMap:t=>t(e)}}function tJ(e){return{ok:!1,error:e,map:()=>tJ(e),flatMap:()=>tJ(e)}}var tQ=e_("driver-adapter-utils"),tY=class{registeredErrors=[];consumeError(e){return this.registeredErrors[e]}registerNewError(e){let t=0;for(;void 0!==this.registeredErrors[t];)t++;return this.registeredErrors[t]={error:e},t}},tX=(e,t=new tY)=>{var r,n;let i={adapterName:e.adapterName,errorRegistry:t,queryRaw:t1(t,e.queryRaw.bind(e)),executeRaw:t1(t,e.executeRaw.bind(e)),executeScript:t1(t,e.executeScript.bind(e)),dispose:t1(t,e.dispose.bind(e)),provider:e.provider,startTransaction:async(...r)=>(await t1(t,e.startTransaction.bind(e))(...r)).map(e=>t0(t,e))};return e.getConnectionInfo&&(r=t,n=e.getConnectionInfo.bind(e),i.getConnectionInfo=(...e)=>{try{return tG(n(...e))}catch(e){if(tQ("[error@wrapSync]",e),tK(e))return tJ(e.cause);return tJ({kind:"GenericJs",id:r.registerNewError(e)})}}),i},t0=(e,t)=>({adapterName:t.adapterName,provider:t.provider,options:t.options,queryRaw:t1(e,t.queryRaw.bind(t)),executeRaw:t1(e,t.executeRaw.bind(t)),commit:t1(e,t.commit.bind(t)),rollback:t1(e,t.rollback.bind(t))});function t1(e,t){return async(...r)=>{try{return tG(await t(...r))}catch(t){if(tQ("[error@wrapAsync]",t),tK(t))return tJ(t.cause);return tJ({kind:"GenericJs",id:e.registerNewError(t)})}}}h(w());var t4=h(e.r(50227));h(w()),e_("prisma:engines"),t4.default.join("/ROOT/athrd/apps/web/generated/prisma/runtime","../query-engine-darwin"),t4.default.join("/ROOT/athrd/apps/web/generated/prisma/runtime","../query-engine-darwin-arm64"),t4.default.join("/ROOT/athrd/apps/web/generated/prisma/runtime","../query-engine-debian-openssl-1.0.x"),t4.default.join("/ROOT/athrd/apps/web/generated/prisma/runtime","../query-engine-debian-openssl-1.1.x"),t4.default.join("/ROOT/athrd/apps/web/generated/prisma/runtime","../query-engine-debian-openssl-3.0.x"),t4.default.join("/ROOT/athrd/apps/web/generated/prisma/runtime","../query-engine-linux-static-x64"),t4.default.join("/ROOT/athrd/apps/web/generated/prisma/runtime","../query-engine-linux-static-arm64"),t4.default.join("/ROOT/athrd/apps/web/generated/prisma/runtime","../query-engine-rhel-openssl-1.0.x"),t4.default.join("/ROOT/athrd/apps/web/generated/prisma/runtime","../query-engine-rhel-openssl-1.1.x"),t4.default.join("/ROOT/athrd/apps/web/generated/prisma/runtime","../query-engine-rhel-openssl-3.0.x"),t4.default.join("/ROOT/athrd/apps/web/generated/prisma/runtime","../libquery_engine-darwin.dylib.node"),t4.default.join("/ROOT/athrd/apps/web/generated/prisma/runtime","../libquery_engine-darwin-arm64.dylib.node"),t4.default.join("/ROOT/athrd/apps/web/generated/prisma/runtime","../libquery_engine-debian-openssl-1.0.x.so.node"),t4.default.join("/ROOT/athrd/apps/web/generated/prisma/runtime","../libquery_engine-debian-openssl-1.1.x.so.node"),t4.default.join("/ROOT/athrd/apps/web/generated/prisma/runtime","../libquery_engine-debian-openssl-3.0.x.so.node"),t4.default.join("/ROOT/athrd/apps/web/generated/prisma/runtime","../libquery_engine-linux-arm64-openssl-1.0.x.so.node"),t4.default.join("/ROOT/athrd/apps/web/generated/prisma/runtime","../libquery_engine-linux-arm64-openssl-1.1.x.so.node"),t4.default.join("/ROOT/athrd/apps/web/generated/prisma/runtime","../libquery_engine-linux-arm64-openssl-3.0.x.so.node"),t4.default.join("/ROOT/athrd/apps/web/generated/prisma/runtime","../libquery_engine-linux-musl.so.node"),t4.default.join("/ROOT/athrd/apps/web/generated/prisma/runtime","../libquery_engine-linux-musl-openssl-3.0.x.so.node"),t4.default.join("/ROOT/athrd/apps/web/generated/prisma/runtime","../libquery_engine-rhel-openssl-1.0.x.so.node"),t4.default.join("/ROOT/athrd/apps/web/generated/prisma/runtime","../libquery_engine-rhel-openssl-1.1.x.so.node"),t4.default.join("/ROOT/athrd/apps/web/generated/prisma/runtime","../libquery_engine-rhel-openssl-3.0.x.so.node"),t4.default.join("/ROOT/athrd/apps/web/generated/prisma/runtime","../query_engine-windows.dll.node");var t6=h(e.r(2157)),t2=e_("chmodPlusX");h(_(),1);var t9="prisma+postgres:";function t3(e){return e?.toString().startsWith(`${t9}//`)??!1}var t5=h(x()),t8=class{constructor(e){this.config=e}toString(){var e;let t,{config:r}=this,n=JSON.parse(JSON.stringify({provider:r.provider.fromEnvVar?`env("${r.provider.fromEnvVar}")`:r.provider.value,binaryTargets:function(e){let t;if(e.length>0){let r=e.find(e=>null!==e.fromEnvVar);t=r?`env("${r.fromEnvVar}")`:e.map(e=>e.native?"native":e.value)}else t=void 0;return t}(r.binaryTargets)}));return`generator ${r.name} {
${(0,t5.default)((t=Object.keys(e=n).reduce((e,t)=>Math.max(e,t.length),0),Object.entries(e).map(([e,r])=>`${e.padEnd(t)} = ${JSON.parse(JSON.stringify(r,(e,t)=>Array.isArray(t)?`[${t.map(e=>JSON.stringify(e)).join(", ")}]`:JSON.stringify(t)))}`).join(`
`)),2)}
}`}},t7={};p(t7,{error:()=>ra,info:()=>ri,log:()=>rr,query:()=>rs,should:()=>rt,tags:()=>re,warn:()=>rn});var re={error:Y("prisma:error"),warn:ee("prisma:warn"),info:en("prisma:info"),query:et("prisma:query")},rt={warn:()=>!process.env.PRISMA_DISABLE_WARNINGS};function rr(...e){console.log(...e)}function rn(e,...t){rt.warn()&&console.warn(`${re.warn} ${e}`,...t)}function ri(e,...t){console.info(`${re.info} ${e}`,...t)}function ra(e,...t){console.error(`${re.error} ${e}`,...t)}function rs(e,...t){console.log(`${re.query} ${e}`,...t)}function ro(e,t){if(!e)throw Error(`${t}. This should never happen. If you see this error, please, open an issue at https://pris.ly/prisma-prisma-bug-report`)}function rl(e,t){throw Error(t)}var ru=function({onlyFirst:e=!1}={}){return RegExp("[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?(?:\\u0007|\\u001B\\u005C|\\u009C))|(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))",e?void 0:"g")}();function rc(e){if("string"!=typeof e)throw TypeError(`Expected a \`string\`, got \`${typeof e}\``);return e.replace(ru,"")}var rd=h(e.r(50227)),rp=h(E()),rf=h(e.r(2157)),rh=h(e.r(50227)),rm=e_("prisma:tryLoadEnv");function rg({rootEnvPath:e,schemaEnvPath:t},r={conflictCheck:"none"}){let n=ry(e);"none"!==r.conflictCheck&&function(e,t,r){let n=e?.dotenvResult.parsed,i=!rv(e?.path,t);if(n&&t&&i&&rf.default.existsSync(t)){let i=rp.default.parse(rf.default.readFileSync(t)),a=[];for(let e in i)n[e]===i[e]&&a.push(e);if(a.length>0){let n=rh.default.relative(process.cwd(),e.path),i=rh.default.relative(process.cwd(),t);if("error"===r)throw Error(`There is a conflict between env var${a.length>1?"s":""} in ${H(n)} and ${H(i)}
Conflicting env vars:
${a.map(e=>`  ${F(e)}`).join(`
`)}

We suggest to move the contents of ${H(i)} to ${H(n)} to consolidate your env vars.
`);if("warn"===r){let e=`Conflict for env var${a.length>1?"s":""} ${a.map(e=>F(e)).join(", ")} in ${H(n)} and ${H(i)}
Env vars from ${H(i)} overwrite the ones from ${H(n)}
      `;console.warn(`${ee("warn(prisma)")} ${e}`)}}}}(n,t,r.conflictCheck);let i=null;return rv(n?.path,t)||(i=ry(t)),n||i||rm("No Environment variables loaded"),i?.dotenvResult.error?console.error(Y(F("Schema Env Error: "))+i.dotenvResult.error):{message:[n?.message,i?.message].filter(Boolean).join(`
`),parsed:{...n?.dotenvResult?.parsed,...i?.dotenvResult?.parsed}}}function ry(e){var t;return(t=e)&&rf.default.existsSync(t)?(rm(`Environment variables loaded from ${e}`),{dotenvResult:function(e){let t=e.ignoreProcessEnv?{}:process.env,r=n=>n.match(/(.?\${(?:[a-zA-Z0-9_]+)?})/g)?.reduce(function(n,i){let a=/(.?)\${([a-zA-Z0-9_]+)?}/g.exec(i);if(!a)return n;let s=a[1],o,l;if("\\"===s)o=(l=a[0]).replace("\\$","$");else{let n=a[2];l=a[0].substring(s.length),o=r(o=Object.hasOwnProperty.call(t,n)?t[n]:e.parsed[n]||"")}return n.replace(l,o)},n)??n;for(let n in e.parsed){let i=Object.hasOwnProperty.call(t,n)?t[n]:e.parsed[n];e.parsed[n]=r(i)}for(let r in e.parsed)t[r]=e.parsed[r];return e}(rp.default.config({path:e,debug:!!process.env.DOTENV_CONFIG_DEBUG||void 0})),message:B(`Environment variables loaded from ${rh.default.relative(process.cwd(),e)}`),path:e}):(rm(`Environment variables not found at ${e}`),null)}function rv(e,t){return e&&t&&rh.default.resolve(e)===rh.default.resolve(t)}function rb(e,t){let r={};for(let n of Object.keys(e))r[n]=t(e[n],n);return r}function rw(e,t){Object.defineProperty(e,"name",{value:t,configurable:!0})}var r_=new Set,rx=(e,t,...r)=>{r_.has(e)||(r_.add(e),rn(t,...r))},rk=class e extends Error{clientVersion;errorCode;retryable;constructor(t,r,n){super(t),this.name="PrismaClientInitializationError",this.clientVersion=r,this.errorCode=n,Error.captureStackTrace(e)}get[Symbol.toStringTag](){return"PrismaClientInitializationError"}};rw(rk,"PrismaClientInitializationError");var rE=class extends Error{code;meta;clientVersion;batchRequestIdx;constructor(e,{code:t,clientVersion:r,meta:n,batchRequestIdx:i}){super(e),this.name="PrismaClientKnownRequestError",this.code=t,this.clientVersion=r,this.meta=n,Object.defineProperty(this,"batchRequestIdx",{value:i,enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return"PrismaClientKnownRequestError"}};rw(rE,"PrismaClientKnownRequestError");var r$=class extends Error{clientVersion;constructor(e,t){super(e),this.name="PrismaClientRustPanicError",this.clientVersion=t}get[Symbol.toStringTag](){return"PrismaClientRustPanicError"}};rw(r$,"PrismaClientRustPanicError");var rT=class extends Error{clientVersion;batchRequestIdx;constructor(e,{clientVersion:t,batchRequestIdx:r}){super(e),this.name="PrismaClientUnknownRequestError",this.clientVersion=t,Object.defineProperty(this,"batchRequestIdx",{value:r,writable:!0,enumerable:!1})}get[Symbol.toStringTag](){return"PrismaClientUnknownRequestError"}};rw(rT,"PrismaClientUnknownRequestError");var rS=class extends Error{name="PrismaClientValidationError";clientVersion;constructor(e,{clientVersion:t}){super(e),this.clientVersion=t}get[Symbol.toStringTag](){return"PrismaClientValidationError"}};rw(rS,"PrismaClientValidationError");var rI=class{_map=new Map;get(e){return this._map.get(e)?.value}set(e,t){this._map.set(e,{value:t})}getOrCreate(e,t){let r=this._map.get(e);if(r)return r.value;let n=t();return this.set(e,n),n}};function rA(e){return e.substring(0,1).toLowerCase()+e.substring(1)}function rO(e){let t;return{get:()=>(t||(t={value:e()}),t.value)}}function rN(e){return{models:rR(e.models),enums:rR(e.enums),types:rR(e.types)}}function rR(e){let t={};for(let{name:r,...n}of e)t[r]=n;return t}function rP(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function rU(e){return"Invalid Date"!==e.toString()}var rD,rC,rj="0123456789abcdef",rL="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",rz="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",rM={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:9e15,crypto:!1},rq=!0,rZ="[DecimalError] ",rV=rZ+"Invalid argument: ",rF=rZ+"Precision limit exceeded",rB=rZ+"crypto unavailable",rW="[object Decimal]",rH=Math.floor,rK=Math.pow,rG=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,rJ=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,rQ=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,rY=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,rX=rL.length-1,r0=rz.length-1,r1={toStringTag:rW};function r4(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)(r=7-(n=e[t]+"").length)&&(a+=nn(r)),a+=n;(r=7-(n=(s=e[t])+"").length)&&(a+=nn(r))}else if(0===s)return"0";for(;s%10==0;)s/=10;return a+s}function r6(e,t,r){if(e!==~~e||e<t||e>r)throw Error(rV+e)}function r2(e,t,r,n){var i,a,s,o;for(a=e[0];a>=10;a/=10)--t;return--t<0?(t+=7,i=0):(i=Math.ceil((t+1)/7),t%=7),a=rK(10,7-t),o=e[i]%a|0,null==n?t<3?(0==t?o=o/100|0:1==t&&(o=o/10|0),s=r<4&&99999==o||r>3&&49999==o||5e4==o||0==o):s=(r<4&&o+1==a||r>3&&o+1==a/2)&&(e[i+1]/a/100|0)==rK(10,t-2)-1||(o==a/2||0==o)&&(e[i+1]/a/100|0)==0:t<4?(0==t?o=o/1e3|0:1==t?o=o/100|0:2==t&&(o=o/10|0),s=(n||r<4)&&9999==o||!n&&r>3&&4999==o):s=((n||r<4)&&o+1==a||!n&&r>3&&o+1==a/2)&&(e[i+1]/a/1e3|0)==rK(10,t-3)-1,s}function r9(e,t,r){for(var n,i,a=[0],s=0,o=e.length;s<o;){for(i=a.length;i--;)a[i]*=t;for(a[0]+=rj.indexOf(e.charAt(s++)),n=0;n<a.length;n++)a[n]>r-1&&(void 0===a[n+1]&&(a[n+1]=0),a[n+1]+=a[n]/r|0,a[n]%=r)}return a.reverse()}r1.absoluteValue=r1.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),r5(e)},r1.ceil=function(){return r5(new this.constructor(this),this.e+1,2)},r1.clampedTo=r1.clamp=function(e,t){var r=this.constructor;if(e=new r(e),t=new r(t),!e.s||!t.s)return new r(NaN);if(e.gt(t))throw Error(rV+t);return 0>this.cmp(e)?e:this.cmp(t)>0?t:new r(this)},r1.comparedTo=r1.cmp=function(e){var t,r,n,i,a=this.d,s=(e=new this.constructor(e)).d,o=this.s,l=e.s;if(!a||!s)return o&&l?o!==l?o:a===s?0:!a^o<0?1:-1:NaN;if(!a[0]||!s[0])return a[0]?o:s[0]?-l:0;if(o!==l)return o;if(this.e!==e.e)return this.e>e.e^o<0?1:-1;for(n=a.length,i=s.length,t=0,r=n<i?n:i;t<r;++t)if(a[t]!==s[t])return a[t]>s[t]^o<0?1:-1;return n===i?0:n>i^o<0?1:-1},r1.cosine=r1.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+7,n.rounding=1,r=function(e,t){var r,n,i;if(t.isZero())return t;(n=t.d.length)<32?i=(1/np(4,r=Math.ceil(n/3))).toString():(r=16,i="2.3283064365386962890625e-10"),e.precision+=r,t=nd(e,1,t.times(i),new e(1));for(var a=r;a--;){var s=t.times(t);t=s.times(s).minus(s).times(8).plus(1)}return e.precision-=r,t}(n,nf(n,r)),n.precision=e,n.rounding=t,r5(2==rC||3==rC?r.neg():r,e,t,!0)):new n(1):new n(NaN)},r1.cubeRoot=r1.cbrt=function(){var e,t,r,n,i,a,s,o,l,u,c=this.constructor;if(!this.isFinite()||this.isZero())return new c(this);for(rq=!1,(a=this.s*rK(this.s*this,1/3))&&Math.abs(a)!=1/0?n=new c(a.toString()):(r=r4(this.d),(a=((e=this.e)-r.length+1)%3)&&(r+=1==a||-2==a?"0":"00"),a=rK(r,1/3),e=rH((e+1)/3)-(e%3==(e<0?-1:2)),(n=new c(r=a==1/0?"5e"+e:(r=a.toExponential()).slice(0,r.indexOf("e")+1)+e)).s=this.s),s=(e=c.precision)+3;;)if(n=r3((u=(l=(o=n).times(o).times(o)).plus(this)).plus(this).times(o),u.plus(l),s+2,1),r4(o.d).slice(0,s)===(r=r4(n.d)).slice(0,s))if("9999"!=(r=r.slice(s-3,s+1))&&(i||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(r5(n,e+1,1),t=!n.times(n).times(n).eq(this));break}else{if(!i&&(r5(o,e+1,0),o.times(o).times(o).eq(this))){n=o;break}s+=4,i=1}return rq=!0,r5(n,e,c.rounding,t)},r1.decimalPlaces=r1.dp=function(){var e,t=this.d,r=NaN;if(t){if(r=((e=t.length-1)-rH(this.e/7))*7,e=t[e])for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r},r1.dividedBy=r1.div=function(e){return r3(this,new this.constructor(e))},r1.dividedToIntegerBy=r1.divToInt=function(e){var t=this.constructor;return r5(r3(this,new t(e),0,1,1),t.precision,t.rounding)},r1.equals=r1.eq=function(e){return 0===this.cmp(e)},r1.floor=function(){return r5(new this.constructor(this),this.e+1,3)},r1.greaterThan=r1.gt=function(e){return this.cmp(e)>0},r1.greaterThanOrEqualTo=r1.gte=function(e){var t=this.cmp(e);return 1==t||0===t},r1.hyperbolicCosine=r1.cosh=function(){var e,t,r,n,i,a=this,s=a.constructor,o=new s(1);if(!a.isFinite())return new s(a.s?1/0:NaN);if(a.isZero())return o;r=s.precision,n=s.rounding,s.precision=r+Math.max(a.e,a.sd())+4,s.rounding=1,(i=a.d.length)<32?t=(1/np(4,e=Math.ceil(i/3))).toString():(e=16,t="2.3283064365386962890625e-10"),a=nd(s,1,a.times(t),new s(1),!0);for(var l,u=e,c=new s(8);u--;)l=a.times(a),a=o.minus(l.times(c.minus(l.times(c))));return r5(a,s.precision=r,s.rounding=n,!0)},r1.hyperbolicSine=r1.sinh=function(){var e,t,r,n,i=this,a=i.constructor;if(!i.isFinite()||i.isZero())return new a(i);if(t=a.precision,r=a.rounding,a.precision=t+Math.max(i.e,i.sd())+4,a.rounding=1,(n=i.d.length)<3)i=nd(a,2,i,i,!0);else{e=(e=1.4*Math.sqrt(n))>16?16:0|e,i=nd(a,2,i=i.times(1/np(5,e)),i,!0);for(var s,o=new a(5),l=new a(16),u=new a(20);e--;)s=i.times(i),i=i.times(o.plus(s.times(l.times(s).plus(u))))}return a.precision=t,a.rounding=r,r5(i,t,r,!0)},r1.hyperbolicTangent=r1.tanh=function(){var e,t,r=this.constructor;return this.isFinite()?this.isZero()?new r(this):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,r3(this.sinh(),this.cosh(),r.precision=e,r.rounding=t)):new r(this.s)},r1.inverseCosine=r1.acos=function(){var e=this,t=e.constructor,r=e.abs().cmp(1),n=t.precision,i=t.rounding;return -1!==r?0===r?e.isNeg()?nt(t,n,i):new t(0):new t(NaN):e.isZero()?nt(t,n+4,i).times(.5):(t.precision=n+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=n,t.rounding=i,e.times(2))},r1.inverseHyperbolicCosine=r1.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,rq=!1,r=r.times(r).minus(1).sqrt().plus(r),rq=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)},r1.inverseHyperbolicSine=r1.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,rq=!1,r=r.times(r).plus(1).sqrt().plus(r),rq=!0,n.precision=e,n.rounding=t,r.ln())},r1.inverseHyperbolicTangent=r1.atanh=function(){var e,t,r,n,i=this,a=i.constructor;return i.isFinite()?i.e>=0?new a(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=a.precision,t=a.rounding,Math.max(n=i.sd(),e)<-(2*i.e)-1?r5(new a(i),e,t,!0):(a.precision=r=n-i.e,i=r3(i.plus(1),new a(1).minus(i),r+e,1),a.precision=e+4,a.rounding=1,i=i.ln(),a.precision=e,a.rounding=t,i.times(.5))):new a(NaN)},r1.inverseSine=r1.asin=function(){var e,t,r,n,i=this,a=i.constructor;return i.isZero()?new a(i):(t=i.abs().cmp(1),r=a.precision,n=a.rounding,-1!==t?0===t?((e=nt(a,r+4,n).times(.5)).s=i.s,e):new a(NaN):(a.precision=r+6,a.rounding=1,i=i.div(new a(1).minus(i.times(i)).sqrt().plus(1)).atan(),a.precision=r,a.rounding=n,i.times(2)))},r1.inverseTangent=r1.atan=function(){var e,t,r,n,i,a,s,o,l,u=this,c=u.constructor,d=c.precision,p=c.rounding;if(u.isFinite()){if(u.isZero())return new c(u);if(u.abs().eq(1)&&d+4<=r0)return(s=nt(c,d+4,p).times(.25)).s=u.s,s}else{if(!u.s)return new c(NaN);if(d+4<=r0)return(s=nt(c,d+4,p).times(.5)).s=u.s,s}for(c.precision=o=d+10,c.rounding=1,e=r=Math.min(28,o/7+2|0);e;--e)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(rq=!1,t=Math.ceil(o/7),n=1,l=u.times(u),s=new c(u),i=u;-1!==e;)if(i=i.times(l),a=s.minus(i.div(n+=2)),i=i.times(l),void 0!==(s=a.plus(i.div(n+=2))).d[t])for(e=t;s.d[e]===a.d[e]&&e--;);return r&&(s=s.times(2<<r-1)),rq=!0,r5(s,c.precision=d,c.rounding=p,!0)},r1.isFinite=function(){return!!this.d},r1.isInteger=r1.isInt=function(){return!!this.d&&rH(this.e/7)>this.d.length-2},r1.isNaN=function(){return!this.s},r1.isNegative=r1.isNeg=function(){return this.s<0},r1.isPositive=r1.isPos=function(){return this.s>0},r1.isZero=function(){return!!this.d&&0===this.d[0]},r1.lessThan=r1.lt=function(e){return 0>this.cmp(e)},r1.lessThanOrEqualTo=r1.lte=function(e){return 1>this.cmp(e)},r1.logarithm=r1.log=function(e){var t,r,n,i,a,s,o,l=this.constructor,u=l.precision,c=l.rounding;if(null==e)e=new l(10),t=!0;else{if(r=(e=new l(e)).d,e.s<0||!r||!r[0]||e.eq(1))return new l(NaN);t=e.eq(10)}if(r=this.d,this.s<0||!r||!r[0]||this.eq(1))return new l(r&&!r[0]?-1/0:1!=this.s?NaN:r?0:1/0);if(t)if(r.length>1)i=!0;else{for(n=r[0];n%10==0;)n/=10;i=1!==n}if(rq=!1,r2((o=r3(a=nl(this,s=u+5),t?ne(l,s+10):nl(e,s),s,1)).d,n=u,c))do if(s+=10,o=r3(a=nl(this,s),t?ne(l,s+10):nl(e,s),s,1),!i){+r4(o.d).slice(n+1,n+15)+1==1e14&&(o=r5(o,u+1,0));break}while(r2(o.d,n+=10,c))return rq=!0,r5(o,u,c)},r1.minus=r1.sub=function(e){var t,r,n,i,a,s,o,l,u,c,d,p,f=this.constructor;if(e=new f(e),!this.d||!e.d)return this.s&&e.s?this.d?e.s=-e.s:e=new f(e.d||this.s!==e.s?this:NaN):e=new f(NaN),e;if(this.s!=e.s)return e.s=-e.s,this.plus(e);if(u=this.d,p=e.d,o=f.precision,l=f.rounding,!u[0]||!p[0]){if(p[0])e.s=-e.s;else{if(!u[0])return new f(3===l?-0:0);e=new f(this)}return rq?r5(e,o,l):e}if(r=rH(e.e/7),c=rH(this.e/7),u=u.slice(),a=c-r){for((d=a<0)?(t=u,a=-a,s=p.length):(t=p,r=c,s=u.length),a>(n=Math.max(Math.ceil(o/7),s)+2)&&(a=n,t.length=1),t.reverse(),n=a;n--;)t.push(0);t.reverse()}else{for((d=(n=u.length)<(s=p.length))&&(s=n),n=0;n<s;n++)if(u[n]!=p[n]){d=u[n]<p[n];break}a=0}for(d&&(t=u,u=p,p=t,e.s=-e.s),s=u.length,n=p.length-s;n>0;--n)u[s++]=0;for(n=p.length;n>a;){if(u[--n]<p[n]){for(i=n;i&&0===u[--i];)u[i]=1e7-1;--u[i],u[n]+=1e7}u[n]-=p[n]}for(;0===u[--s];)u.pop();for(;0===u[0];u.shift())--r;return u[0]?(e.d=u,e.e=r7(u,r),rq?r5(e,o,l):e):new f(3===l?-0:0)},r1.modulo=r1.mod=function(e){var t,r=this.constructor;return e=new r(e),this.d&&e.s&&(!e.d||e.d[0])?e.d&&(!this.d||this.d[0])?(rq=!1,9==r.modulo?(t=r3(this,e.abs(),0,3,1),t.s*=e.s):t=r3(this,e,0,r.modulo,1),t=t.times(e),rq=!0,this.minus(t)):r5(new r(this),r.precision,r.rounding):new r(NaN)},r1.naturalExponential=r1.exp=function(){return no(this)},r1.naturalLogarithm=r1.ln=function(){return nl(this)},r1.negated=r1.neg=function(){var e=new this.constructor(this);return e.s=-e.s,r5(e)},r1.plus=r1.add=function(e){var t,r,n,i,a,s,o,l,u,c,d=this.constructor;if(e=new d(e),!this.d||!e.d)return this.s&&e.s?this.d||(e=new d(e.d||this.s===e.s?this:NaN)):e=new d(NaN),e;if(this.s!=e.s)return e.s=-e.s,this.minus(e);if(u=this.d,c=e.d,o=d.precision,l=d.rounding,!u[0]||!c[0])return c[0]||(e=new d(this)),rq?r5(e,o,l):e;if(a=rH(this.e/7),n=rH(e.e/7),u=u.slice(),i=a-n){for(i<0?(r=u,i=-i,s=c.length):(r=c,n=a,s=u.length),i>(s=(a=Math.ceil(o/7))>s?a+1:s+1)&&(i=s,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for((s=u.length)-(i=c.length)<0&&(i=s,r=c,c=u,u=r),t=0;i;)t=(u[--i]=u[i]+c[i]+t)/1e7|0,u[i]%=1e7;for(t&&(u.unshift(t),++n),s=u.length;0==u[--s];)u.pop();return e.d=u,e.e=r7(u,n),rq?r5(e,o,l):e},r1.precision=r1.sd=function(e){var t;if(void 0!==e&&!!e!==e&&1!==e&&0!==e)throw Error(rV+e);return this.d?(t=nr(this.d),e&&this.e+1>t&&(t=this.e+1)):t=NaN,t},r1.round=function(){var e=this.constructor;return r5(new e(this),this.e+1,e.rounding)},r1.sine=r1.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+7,n.rounding=1,r=function(e,t){var r,n=t.d.length;if(n<3)return t.isZero()?t:nd(e,2,t,t);r=(r=1.4*Math.sqrt(n))>16?16:0|r,t=nd(e,2,t=t.times(1/np(5,r)),t);for(var i,a=new e(5),s=new e(16),o=new e(20);r--;)i=t.times(t),t=t.times(a.plus(i.times(s.times(i).minus(o))));return t}(n,nf(n,r)),n.precision=e,n.rounding=t,r5(rC>2?r.neg():r,e,t,!0)):new n(NaN)},r1.squareRoot=r1.sqrt=function(){var e,t,r,n,i,a,s=this.d,o=this.e,l=this.s,u=this.constructor;if(1!==l||!s||!s[0])return new u(!l||l<0&&(!s||s[0])?NaN:s?this:1/0);for(rq=!1,0==(l=Math.sqrt(+this))||l==1/0?(((t=r4(s)).length+o)%2==0&&(t+="0"),l=Math.sqrt(t),o=rH((o+1)/2)-(o<0||o%2),n=new u(t=l==1/0?"5e"+o:(t=l.toExponential()).slice(0,t.indexOf("e")+1)+o)):n=new u(l.toString()),r=(o=u.precision)+3;;)if(n=(a=n).plus(r3(this,a,r+2,1)).times(.5),r4(a.d).slice(0,r)===(t=r4(n.d)).slice(0,r))if("9999"!=(t=t.slice(r-3,r+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(r5(n,o+1,1),e=!n.times(n).eq(this));break}else{if(!i&&(r5(a,o+1,0),a.times(a).eq(this))){n=a;break}r+=4,i=1}return rq=!0,r5(n,o,u.rounding,e)},r1.tangent=r1.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,(r=r.sin()).s=1,r=r3(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,r5(2==rC||4==rC?r.neg():r,e,t,!0)):new n(NaN)},r1.times=r1.mul=function(e){var t,r,n,i,a,s,o,l,u,c=this.constructor,d=this.d,p=(e=new c(e)).d;if(e.s*=this.s,!d||!d[0]||!p||!p[0])return new c(!e.s||d&&!d[0]&&!p||p&&!p[0]&&!d?NaN:!d||!p?e.s/0:0*e.s);for(r=rH(this.e/7)+rH(e.e/7),(l=d.length)<(u=p.length)&&(a=d,d=p,p=a,s=l,l=u,u=s),a=[],n=s=l+u;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=l+n;i>n;)o=a[i]+p[n]*d[i-n-1]+t,a[i--]=o%1e7|0,t=o/1e7|0;a[i]=(a[i]+t)%1e7|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r7(a,r),rq?r5(e,c.precision,c.rounding):e},r1.toBinary=function(e,t){return nh(this,2,e,t)},r1.toDecimalPlaces=r1.toDP=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(r6(e,0,1e9),void 0===t?t=n.rounding:r6(t,0,8),r5(r,e+r.e+1,t))},r1.toExponential=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=r8(n,!0):(r6(e,0,1e9),void 0===t?t=i.rounding:r6(t,0,8),r=r8(n=r5(new i(n),e+1,t),!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r},r1.toFixed=function(e,t){var r,n,i=this.constructor;return void 0===e?r=r8(this):(r6(e,0,1e9),void 0===t?t=i.rounding:r6(t,0,8),r=r8(n=r5(new i(this),e+this.e+1,t),!1,e+n.e+1)),this.isNeg()&&!this.isZero()?"-"+r:r},r1.toFraction=function(e){var t,r,n,i,a,s,o,l,u,c,d,p,f=this.d,h=this.constructor;if(!f)return new h(this);if(u=r=new h(1),n=l=new h(0),s=(a=(t=new h(n)).e=nr(f)-this.e-1)%7,t.d[0]=rK(10,s<0?7+s:s),null==e)e=a>0?t:u;else{if(!(o=new h(e)).isInt()||o.lt(u))throw Error(rV+o);e=o.gt(t)?a>0?t:u:o}for(rq=!1,o=new h(r4(f)),c=h.precision,h.precision=a=7*f.length*2;d=r3(o,t,0,1,1),1!=(i=r.plus(d.times(n))).cmp(e);)r=n,n=i,i=u,u=l.plus(d.times(i)),l=i,i=t,t=o.minus(d.times(i)),o=i;return i=r3(e.minus(r),n,0,1,1),l=l.plus(i.times(u)),r=r.plus(i.times(n)),l.s=u.s=this.s,p=1>r3(u,n,a,1).minus(this).abs().cmp(r3(l,r,a,1).minus(this).abs())?[u,n]:[l,r],h.precision=c,rq=!0,p},r1.toHexadecimal=r1.toHex=function(e,t){return nh(this,16,e,t)},r1.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),null==e){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),void 0===t?t=n.rounding:r6(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(rq=!1,r=r3(r,e,0,t,1).times(e),rq=!0,r5(r)):(e.s=r.s,r=e),r},r1.toNumber=function(){return+this},r1.toOctal=function(e,t){return nh(this,8,e,t)},r1.toPower=r1.pow=function(e){var t,r,n,i,a,s,o=this,l=o.constructor,u=+(e=new l(e));if(!o.d||!e.d||!o.d[0]||!e.d[0])return new l(rK(+o,u));if((o=new l(o)).eq(1))return o;if(n=l.precision,a=l.rounding,e.eq(1))return r5(o,n,a);if((t=rH(e.e/7))>=e.d.length-1&&(r=u<0?-u:u)<=0x1fffffffffffff)return i=ni(l,o,r,n),e.s<0?new l(1).div(i):r5(i,n,a);if((s=o.s)<0){if(t<e.d.length-1)return new l(NaN);if((1&e.d[t])==0&&(s=1),0==o.e&&1==o.d[0]&&1==o.d.length)return o.s=s,o}return(t=0!=(r=rK(+o,u))&&isFinite(r)?new l(r+"").e:rH(u*(Math.log("0."+r4(o.d))/Math.LN10+o.e+1)))>l.maxE+1||t<l.minE-1?new l(t>0?s/0:0):(rq=!1,l.rounding=o.s=1,r=Math.min(12,(t+"").length),(i=no(e.times(nl(o,n+r)),n)).d&&r2((i=r5(i,n+5,1)).d,n,a)&&(t=n+10,+r4((i=r5(no(e.times(nl(o,t+r)),t),t+5,1)).d).slice(n+1,n+15)+1==1e14&&(i=r5(i,n+1,0))),i.s=s,rq=!0,l.rounding=a,r5(i,n,a))},r1.toPrecision=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=r8(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(r6(e,1,1e9),void 0===t?t=i.rounding:r6(t,0,8),r=r8(n=r5(new i(n),e,t),e<=n.e||n.e<=i.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r},r1.toSignificantDigits=r1.toSD=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(r6(e,1,1e9),void 0===t?t=r.rounding:r6(t,0,8)),r5(new r(this),e,t)},r1.toString=function(){var e=this.constructor,t=r8(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()&&!this.isZero()?"-"+t:t},r1.truncated=r1.trunc=function(){return r5(new this.constructor(this),this.e+1,1)},r1.valueOf=r1.toJSON=function(){var e=this.constructor,t=r8(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()?"-"+t:t};var r3=function(){function e(e,t,r){var n,i=0,a=e.length;for(e=e.slice();a--;)n=e[a]*t+i,e[a]=n%r|0,i=n/r|0;return i&&e.unshift(i),e}function t(e,t,r,n){var i,a;if(r!=n)a=r>n?1:-1;else for(i=a=0;i<r;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=+(e[r]<t[r]),e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,i,a,s,o,l){var u,c,d,p,f,h,m,g,y,v,b,w,_,x,k,E,$,T,S,I,A=n.constructor,O=n.s==i.s?1:-1,N=n.d,R=i.d;if(!N||!N[0]||!R||!R[0])return new A(!n.s||!i.s||(N?R&&N[0]==R[0]:!R)?NaN:N&&0==N[0]||!R?0*O:O/0);for(l?(f=1,c=n.e-i.e):(l=1e7,f=7,c=rH(n.e/f)-rH(i.e/f)),S=R.length,$=N.length,v=(y=new A(O)).d=[],d=0;R[d]==(N[d]||0);d++);if(R[d]>(N[d]||0)&&c--,null==a?(x=a=A.precision,s=A.rounding):x=o?a+(n.e-i.e)+1:a,x<0)v.push(1),h=!0;else{if(x=x/f+2|0,d=0,1==S){for(p=0,R=R[0],x++;(d<$||p)&&x--;d++)k=p*l+(N[d]||0),v[d]=k/R|0,p=k%R|0;h=p||d<$}else{for((p=l/(R[0]+1)|0)>1&&(R=e(R,p,l),N=e(N,p,l),S=R.length,$=N.length),E=S,w=(b=N.slice(0,S)).length;w<S;)b[w++]=0;(I=R.slice()).unshift(0),T=R[0],R[1]>=l/2&&++T;do p=0,(u=t(R,b,S,w))<0?(_=b[0],S!=w&&(_=_*l+(b[1]||0)),(p=_/T|0)>1?(p>=l&&(p=l-1),g=(m=e(R,p,l)).length,w=b.length,1==(u=t(m,b,g,w))&&(p--,r(m,S<g?I:R,g,l))):(0==p&&(u=p=1),m=R.slice()),(g=m.length)<w&&m.unshift(0),r(b,m,w,l),-1==u&&(w=b.length,(u=t(R,b,S,w))<1&&(p++,r(b,S<w?I:R,w,l))),w=b.length):0===u&&(p++,b=[0]),v[d++]=p,u&&b[0]?b[w++]=N[E]||0:(b=[N[E]],w=1);while((E++<$||void 0!==b[0])&&x--)h=void 0!==b[0]}v[0]||v.shift()}if(1==f)y.e=c,rD=h;else{for(d=1,p=v[0];p>=10;p/=10)d++;y.e=d+c*f-1,r5(y,o?a+y.e+1:a,s,h)}return y}}();function r5(e,t,r,n){var i,a,s,o,l,u,c,d,p,f=e.constructor;e:if(null!=t){if(!(d=e.d))return e;for(i=1,o=d[0];o>=10;o/=10)i++;if((a=t-i)<0)a+=7,s=t,l=(c=d[p=0])/rK(10,i-s-1)%10|0;else if((p=Math.ceil((a+1)/7))>=(o=d.length))if(n){for(;o++<=p;)d.push(0);c=l=0,i=1,a%=7,s=a-7+1}else break e;else{for(c=o=d[p],i=1;o>=10;o/=10)i++;a%=7,l=(s=a-7+i)<0?0:c/rK(10,i-s-1)%10|0}if(n=n||t<0||void 0!==d[p+1]||(s<0?c:c%rK(10,i-s-1)),u=r<4?(l||n)&&(0==r||r==(e.s<0?3:2)):l>5||5==l&&(4==r||n||6==r&&(a>0?s>0?c/rK(10,i-s):0:d[p-1])%10&1||r==(e.s<0?8:7)),t<1||!d[0])return d.length=0,u?(t-=e.e+1,d[0]=rK(10,(7-t%7)%7),e.e=-t||0):d[0]=e.e=0,e;if(0==a?(d.length=p,o=1,p--):(d.length=p+1,o=rK(10,7-a),d[p]=s>0?(c/rK(10,i-s)%rK(10,s)|0)*o:0),u)for(;;)if(0==p){for(a=1,s=d[0];s>=10;s/=10)a++;for(s=d[0]+=o,o=1;s>=10;s/=10)o++;a!=o&&(e.e++,1e7==d[0]&&(d[0]=1));break}else{if(d[p]+=o,1e7!=d[p])break;d[p--]=0,o=1}for(a=d.length;0===d[--a];)d.pop()}return rq&&(e.e>f.maxE?(e.d=null,e.e=NaN):e.e<f.minE&&(e.e=0,e.d=[0])),e}function r8(e,t,r){if(!e.isFinite())return nu(e);var n,i=e.e,a=r4(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+nn(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(e.e<0?"e":"e+")+e.e):i<0?(a="0."+nn(-i-1)+a,r&&(n=r-s)>0&&(a+=nn(n))):i>=s?(a+=nn(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+nn(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=nn(n))),a}function r7(e,t){var r=e[0];for(t*=7;r>=10;r/=10)t++;return t}function ne(e,t,r){if(t>rX)throw rq=!0,r&&(e.precision=r),Error(rF);return r5(new e(rL),t,1,!0)}function nt(e,t,r){if(t>r0)throw Error(rF);return r5(new e(rz),t,r,!0)}function nr(e){var t=e.length-1,r=7*t+1;if(t=e[t]){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function nn(e){for(var t="";e--;)t+="0";return t}function ni(e,t,r,n){var i,a=new e(1),s=Math.ceil(n/7+4);for(rq=!1;;){if(r%2&&nm((a=a.times(t)).d,s)&&(i=!0),0===(r=rH(r/2))){r=a.d.length-1,i&&0===a.d[r]&&++a.d[r];break}nm((t=t.times(t)).d,s)}return rq=!0,a}function na(e){return 1&e.d[e.d.length-1]}function ns(e,t,r){for(var n,i,a=new e(t[0]),s=0;++s<t.length;){if(!(i=new e(t[s])).s){a=i;break}((n=a.cmp(i))===r||0===n&&a.s===r)&&(a=i)}return a}function no(e,t){var r,n,i,a,s,o,l,u=0,c=0,d=0,p=e.constructor,f=p.rounding,h=p.precision;if(!e.d||!e.d[0]||e.e>17)return new p(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(rq=!1,l=h):l=t,o=new p(.03125);e.e>-2;)e=e.times(o),d+=5;for(l+=n=Math.log(rK(2,d))/Math.LN10*2+5|0,r=a=s=new p(1),p.precision=l;;){if(a=r5(a.times(e),l,1),r=r.times(++c),r4((o=s.plus(r3(a,r,l,1))).d).slice(0,l)===r4(s.d).slice(0,l)){for(i=d;i--;)s=r5(s.times(s),l,1);if(null!=t)return p.precision=h,s;if(!(u<3&&r2(s.d,l-n,f,u)))return r5(s,p.precision=h,f,rq=!0);p.precision=l+=10,r=a=o=new p(1),c=0,u++}s=o}}function nl(e,t){var r,n,i,a,s,o,l,u,c,d,p,f=1,h=e,m=h.d,g=h.constructor,y=g.rounding,v=g.precision;if(h.s<0||!m||!m[0]||!h.e&&1==m[0]&&1==m.length)return new g(m&&!m[0]?-1/0:1!=h.s?NaN:m?0:h);if(null==t?(rq=!1,c=v):c=t,g.precision=c+=10,n=(r=r4(m)).charAt(0),!(15e14>Math.abs(a=h.e)))return u=ne(g,c+2,v).times(a+""),h=nl(new g(n+"."+r.slice(1)),c-10).plus(u),g.precision=v,null==t?r5(h,v,y,rq=!0):h;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=r4((h=h.times(e)).d)).charAt(0),f++;for(a=h.e,n>1?(h=new g("0."+r),a++):h=new g(n+"."+r.slice(1)),d=h,l=s=h=r3(h.minus(1),h.plus(1),c,1),p=r5(h.times(h),c,1),i=3;;){if(s=r5(s.times(p),c,1),r4((u=l.plus(r3(s,new g(i),c,1))).d).slice(0,c)===r4(l.d).slice(0,c))if(l=l.times(2),0!==a&&(l=l.plus(ne(g,c+2,v).times(a+""))),l=r3(l,new g(f),c,1),null!=t)return g.precision=v,l;else{if(!r2(l.d,c-10,y,o))return r5(l,g.precision=v,y,rq=!0);g.precision=c+=10,u=s=h=r3(d.minus(1),d.plus(1),c,1),p=r5(h.times(h),c,1),i=o=1}l=u,i+=2}}function nu(e){return String(e.s*e.s/0)}function nc(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);n++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(n,i)){if(i-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%7,r<0&&(n+=7),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=7;n<i;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=i;for(;n--;)t+="0";e.d.push(+t),rq&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function nd(e,t,r,n,i){var a,s,o,l,u=e.precision,c=Math.ceil(u/7);for(rq=!1,l=r.times(r),o=new e(n);;){if(s=r3(o.times(l),new e(t++*t++),u,1),o=i?n.plus(s):n.minus(s),n=r3(s.times(l),new e(t++*t++),u,1),void 0!==(s=o.plus(n)).d[c]){for(a=c;s.d[a]===o.d[a]&&a--;);if(-1==a)break}a=o,o=n,n=s,s=a}return rq=!0,s.d.length=c+1,s}function np(e,t){for(var r=e;--t;)r*=e;return r}function nf(e,t){var r,n=t.s<0,i=nt(e,e.precision,1),a=i.times(.5);if((t=t.abs()).lte(a))return rC=n?4:1,t;if((r=t.divToInt(i)).isZero())rC=n?3:2;else{if((t=t.minus(r.times(i))).lte(a))return rC=na(r)?n?2:3:n?4:1,t;rC=na(r)?n?1:4:n?3:2}return t.minus(i).abs()}function nh(e,t,r,n){var i,a,s,o,l,u,c,d,p,f=e.constructor,h=void 0!==r;if(h?(r6(r,1,1e9),void 0===n?n=f.rounding:r6(n,0,8)):(r=f.precision,n=f.rounding),e.isFinite()){for(s=(c=r8(e)).indexOf("."),h?(i=2,16==t?r=4*r-3:8==t&&(r=3*r-2)):i=t,s>=0&&(c=c.replace(".",""),(p=new f(1)).e=c.length-s,p.d=r9(r8(p),10,i),p.e=p.d.length),a=l=(d=r9(c,10,i)).length;0==d[--l];)d.pop();if(d[0]){if(s<0?a--:((e=new f(e)).d=d,e.e=a,d=(e=r3(e,p,r,n,0,i)).d,a=e.e,u=rD),s=d[r],o=i/2,u=u||void 0!==d[r+1],u=n<4?(void 0!==s||u)&&(0===n||n===(e.s<0?3:2)):s>o||s===o&&(4===n||u||6===n&&1&d[r-1]||n===(e.s<0?8:7)),d.length=r,u)for(;++d[--r]>i-1;)d[r]=0,r||(++a,d.unshift(1));for(l=d.length;!d[l-1];--l);for(s=0,c="";s<l;s++)c+=rj.charAt(d[s]);if(h){if(l>1)if(16==t||8==t){for(s=16==t?4:3,--l;l%s;l++)c+="0";for(l=(d=r9(c,i,t)).length;!d[l-1];--l);for(s=1,c="1.";s<l;s++)c+=rj.charAt(d[s])}else c=c.charAt(0)+"."+c.slice(1);c=c+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)c="0"+c;c="0."+c}else if(++a>l)for(a-=l;a--;)c+="0";else a<l&&(c=c.slice(0,a)+"."+c.slice(a))}else c=h?"0p+0":"0";c=(16==t?"0x":2==t?"0b":8==t?"0o":"")+c}else c=nu(e);return e.s<0?"-"+c:c}function nm(e,t){if(e.length>t)return e.length=t,!0}function ng(e){return new this(e).abs()}function ny(e){return new this(e).acos()}function nv(e){return new this(e).acosh()}function nb(e,t){return new this(e).plus(t)}function nw(e){return new this(e).asin()}function n_(e){return new this(e).asinh()}function nx(e){return new this(e).atan()}function nk(e){return new this(e).atanh()}function nE(e,t){e=new this(e),t=new this(t);var r,n=this.precision,i=this.rounding,a=n+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(r=t.s<0?nt(this,n,i):new this(0)).s=e.s:!e.d||t.isZero()?(r=nt(this,a,1).times(.5)).s=e.s:t.s<0?(this.precision=a,this.rounding=1,r=this.atan(r3(e,t,a,1)),t=nt(this,a,1),this.precision=n,this.rounding=i,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(r3(e,t,a,1)):(r=nt(this,a,1).times(t.s>0?.25:.75)).s=e.s:r=new this(NaN),r}function n$(e){return new this(e).cbrt()}function nT(e){return r5(e=new this(e),e.e+1,2)}function nS(e,t,r){return new this(e).clamp(t,r)}function nI(e){if(!e||"object"!=typeof e)throw Error(rZ+"Object expected");var t,r,n,i=!0===e.defaults,a=["precision",1,1e9,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,9e15,"maxE",0,9e15,"minE",-9e15,0,"modulo",0,9];for(t=0;t<a.length;t+=3)if(r=a[t],i&&(this[r]=rM[r]),void 0!==(n=e[r]))if(rH(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(rV+r+": "+n);if(r="crypto",i&&(this[r]=rM[r]),void 0!==(n=e[r]))if(!0===n||!1===n||0===n||1===n)if(n)if("u">typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(rB);else this[r]=!1;else throw Error(rV+r+": "+n);return this}function nA(e){return new this(e).cos()}function nO(e){return new this(e).cosh()}function nN(e,t){return new this(e).div(t)}function nR(e){return new this(e).exp()}function nP(e){return r5(e=new this(e),e.e+1,3)}function nU(){var e,t,r=new this(0);for(rq=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return rq=!0,new this(1/0);r=t}return rq=!0,r.sqrt()}function nD(e){return e instanceof n4||e&&e.toStringTag===rW||!1}function nC(e){return new this(e).ln()}function nj(e,t){return new this(e).log(t)}function nL(e){return new this(e).log(2)}function nz(e){return new this(e).log(10)}function nM(){return ns(this,arguments,-1)}function nq(){return ns(this,arguments,1)}function nZ(e,t){return new this(e).mod(t)}function nV(e,t){return new this(e).mul(t)}function nF(e,t){return new this(e).pow(t)}function nB(e){var t,r,n,i,a=0,s=new this(1),o=[];if(void 0===e?e=this.precision:r6(e,1,1e9),n=Math.ceil(e/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));a<n;)(i=t[a])>=429e7?t[a]=crypto.getRandomValues(new Uint32Array(1))[0]:o[a++]=i%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(n*=4);a<n;)(i=t[a]+(t[a+1]<<8)+(t[a+2]<<16)+((127&t[a+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,a):(o.push(i%1e7),a+=4);a=n/4}else throw Error(rB);else for(;a<n;)o[a++]=1e7*Math.random()|0;for(n=o[--a],e%=7,n&&e&&(i=rK(10,7-e),o[a]=(n/i|0)*i);0===o[a];a--)o.pop();if(a<0)r=0,o=[0];else{for(r=-1;0===o[0];r-=7)o.shift();for(n=1,i=o[0];i>=10;i/=10)n++;n<7&&(r-=7-n)}return s.e=r,s.d=o,s}function nW(e){return r5(e=new this(e),e.e+1,this.rounding)}function nH(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function nK(e){return new this(e).sin()}function nG(e){return new this(e).sinh()}function nJ(e){return new this(e).sqrt()}function nQ(e,t){return new this(e).sub(t)}function nY(){var e=0,t=arguments,r=new this(t[0]);for(rq=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return rq=!0,r5(r,this.precision,this.rounding)}function nX(e){return new this(e).tan()}function n0(e){return new this(e).tanh()}function n1(e){return r5(e=new this(e),e.e+1,1)}r1[Symbol.for("nodejs.util.inspect.custom")]=r1.toString,r1[Symbol.toStringTag]="Decimal";var n4=r1.constructor=function e(t){var r,n,i;function a(e){var t,r,n;if(!(this instanceof a))return new a(e);if(this.constructor=a,nD(e)){this.s=e.s,rq?!e.d||e.e>a.maxE?(this.e=NaN,this.d=null):e.e<a.minE?(this.e=0,this.d=[0]):(this.e=e.e,this.d=e.d.slice()):(this.e=e.e,this.d=e.d?e.d.slice():e.d);return}if("number"==(n=typeof e)){if(0===e){this.s=1/e<0?-1:1,this.e=0,this.d=[0];return}if(e<0?(e=-e,this.s=-1):this.s=1,e===~~e&&e<1e7){for(t=0,r=e;r>=10;r/=10)t++;rq?t>a.maxE?(this.e=NaN,this.d=null):t<a.minE?(this.e=0,this.d=[0]):(this.e=t,this.d=[e]):(this.e=t,this.d=[e]);return}if(0*e!=0){e||(this.s=NaN),this.e=NaN,this.d=null;return}return nc(this,e.toString())}if("string"===n)return 45===(r=e.charCodeAt(0))?(e=e.slice(1),this.s=-1):(43===r&&(e=e.slice(1)),this.s=1),rY.test(e)?nc(this,e):function(e,t){var r,n,i,a,s,o,l,u,c;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),rY.test(t))return nc(e,t)}else if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(rJ.test(t))r=16,t=t.toLowerCase();else if(rG.test(t))r=2;else if(rQ.test(t))r=8;else throw Error(rV+t);for((a=t.search(/p/i))>0?(l=+t.slice(a+1),t=t.substring(2,a)):t=t.slice(2),s=(a=t.indexOf("."))>=0,n=e.constructor,s&&(a=(o=(t=t.replace(".","")).length)-a,i=ni(n,new n(r),a,2*a)),a=c=(u=r9(t,r,1e7)).length-1;0===u[a];--a)u.pop();return a<0?new n(0*e.s):(e.e=r7(u,c),e.d=u,rq=!1,s&&(e=r3(e,i,4*o)),l&&(e=e.times(54>Math.abs(l)?rK(2,l):n4.pow(2,l))),rq=!0,e)}(this,e);if("bigint"===n)return e<0?(e=-e,this.s=-1):this.s=1,nc(this,e.toString());throw Error(rV+e)}if(a.prototype=r1,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.EUCLID=9,a.config=a.set=nI,a.clone=e,a.isDecimal=nD,a.abs=ng,a.acos=ny,a.acosh=nv,a.add=nb,a.asin=nw,a.asinh=n_,a.atan=nx,a.atanh=nk,a.atan2=nE,a.cbrt=n$,a.ceil=nT,a.clamp=nS,a.cos=nA,a.cosh=nO,a.div=nN,a.exp=nR,a.floor=nP,a.hypot=nU,a.ln=nC,a.log=nj,a.log10=nz,a.log2=nL,a.max=nM,a.min=nq,a.mod=nZ,a.mul=nV,a.pow=nF,a.random=nB,a.round=nW,a.sign=nH,a.sin=nK,a.sinh=nG,a.sqrt=nJ,a.sub=nQ,a.sum=nY,a.tan=nX,a.tanh=n0,a.trunc=n1,void 0===t&&(t={}),t&&!0!==t.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],r=0;r<i.length;)t.hasOwnProperty(n=i[r++])||(t[n]=this[n]);return a.config(t),a}(rM);rL=new n4(rL),rz=new n4(rz);var n6=n4;function n2(e){return!!n4.isDecimal(e)||null!==e&&"object"==typeof e&&"number"==typeof e.s&&"number"==typeof e.e&&"function"==typeof e.toFixed&&Array.isArray(e.d)}var n9={};function n3(e){return{name:e.name,values:e.values.map(e=>e.name)}}p(n9,{ModelAction:()=>n5,datamodelEnumToSchemaEnum:()=>n3});var n5=((n=n5||{}).findUnique="findUnique",n.findUniqueOrThrow="findUniqueOrThrow",n.findFirst="findFirst",n.findFirstOrThrow="findFirstOrThrow",n.findMany="findMany",n.create="create",n.createMany="createMany",n.createManyAndReturn="createManyAndReturn",n.update="update",n.updateMany="updateMany",n.updateManyAndReturn="updateManyAndReturn",n.upsert="upsert",n.delete="delete",n.deleteMany="deleteMany",n.groupBy="groupBy",n.count="count",n.aggregate="aggregate",n.findRaw="findRaw",n.aggregateRaw="aggregateRaw",n);h(x()),h(e.r(2157));var n8={keyword:en,entity:en,value:e=>F(et(e)),punctuation:et,directive:en,function:en,variable:e=>F(et(e)),string:e=>F(X(e)),boolean:ee,number:en,comment:ea},n7=e=>e,ie={},it=0,ir={manual:ie.Prism&&ie.Prism.manual,disableWorkerMessageHandler:ie.Prism&&ie.Prism.disableWorkerMessageHandler,util:{encode:function(e){return e instanceof ii?new ii(e.type,ir.util.encode(e.content),e.alias):Array.isArray(e)?e.map(ir.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++it}),e.__id},clone:function e(t,r){let n,i,a=ir.util.type(t);switch(r=r||{},a){case"Object":if(r[i=ir.util.objId(t)])return r[i];for(let a in n={},r[i]=n,t)t.hasOwnProperty(a)&&(n[a]=e(t[a],r));return n;case"Array":return r[i=ir.util.objId(t)]?r[i]:(n=[],r[i]=n,t.forEach(function(t,i){n[i]=e(t,r)}),n);default:return t}}},languages:{extend:function(e,t){let r=ir.util.clone(ir.languages[e]);for(let e in t)r[e]=t[e];return r},insertBefore:function(e,t,r,n){let i=(n=n||ir.languages)[e],a={};for(let e in i)if(i.hasOwnProperty(e)){if(e==t)for(let e in r)r.hasOwnProperty(e)&&(a[e]=r[e]);r.hasOwnProperty(e)||(a[e]=i[e])}let s=n[e];return n[e]=a,ir.languages.DFS(ir.languages,function(t,r){r===s&&t!=e&&(this[t]=a)}),a},DFS:function e(t,r,n,i){i=i||{};let a=ir.util.objId;for(let s in t)if(t.hasOwnProperty(s)){r.call(t,s,t[s],n||s);let o=t[s],l=ir.util.type(o);"Object"!==l||i[a(o)]?"Array"!==l||i[a(o)]||(i[a(o)]=!0,e(o,r,s,i)):(i[a(o)]=!0,e(o,r,null,i))}}},plugins:{},highlight:function(e,t,r){let n={code:e,grammar:t,language:r};return ir.hooks.run("before-tokenize",n),n.tokens=ir.tokenize(n.code,n.grammar),ir.hooks.run("after-tokenize",n),ii.stringify(ir.util.encode(n.tokens),n.language)},matchGrammar:function(e,t,r,n,i,a,s){for(let m in r){if(!r.hasOwnProperty(m)||!r[m])continue;if(m==s)return;let g=r[m];g="Array"===ir.util.type(g)?g:[g];for(let s=0;s<g.length;++s){let y=g[s],v=y.inside,b=!!y.lookbehind,w=!!y.greedy,_=0,x=y.alias;if(w&&!y.pattern.global){let e=y.pattern.toString().match(/[imuy]*$/)[0];y.pattern=RegExp(y.pattern.source,e+"g")}y=y.pattern||y;for(let s=n,g=i;s<t.length;g+=t[s].length,++s){let n=t[s];if(t.length>e.length)return;if(n instanceof ii)continue;if(w&&s!=t.length-1){y.lastIndex=g;var o=y.exec(e);if(!o)break;var l=o.index+(b?o[1].length:0),u=o.index+o[0].length,c=s,d=g;for(let e=t.length;c<e&&(d<u||!t[c].type&&!t[c-1].greedy);++c)l>=(d+=t[c].length)&&(++s,g=d);if(t[s]instanceof ii)continue;p=c-s,n=e.slice(g,d),o.index-=g}else{y.lastIndex=0;var o=y.exec(n),p=1}if(!o){if(a)break;continue}b&&(_=o[1]?o[1].length:0);var l=o.index+_,o=o[0].slice(_),u=l+o.length,f=n.slice(0,l),h=n.slice(u);let i=[s,p];f&&(++s,g+=f.length,i.push(f));let k=new ii(m,v?ir.tokenize(o,v):o,x,o,w);if(i.push(k),h&&i.push(h),Array.prototype.splice.apply(t,i),1!=p&&ir.matchGrammar(e,t,r,s,g,!0,m),a)break}}}},tokenize:function(e,t){let r=[e],n=t.rest;if(n){for(let e in n)t[e]=n[e];delete t.rest}return ir.matchGrammar(e,r,t,0,0,!1),r},hooks:{all:{},add:function(e,t){let r=ir.hooks.all;r[e]=r[e]||[],r[e].push(t)},run:function(e,t){let r=ir.hooks.all[e];if(!(!r||!r.length))for(var n,i=0;n=r[i++];)n(t)}},Token:ii};function ii(e,t,r,n,i){this.type=e,this.content=t,this.alias=r,this.length=0|(n||"").length,this.greedy=!!i}ir.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},ir.languages.javascript=ir.languages.extend("clike",{"class-name":[ir.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.])\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,function:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/}),ir.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,ir.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:ir.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:ir.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:ir.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:ir.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),ir.languages.markup&&ir.languages.markup.tag.addInlined("script","javascript"),ir.languages.js=ir.languages.javascript,ir.languages.typescript=ir.languages.extend("javascript",{keyword:/\b(?:abstract|as|async|await|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|is|keyof|let|module|namespace|new|null|of|package|private|protected|public|readonly|return|require|set|static|super|switch|this|throw|try|type|typeof|var|void|while|with|yield)\b/,builtin:/\b(?:string|Function|any|number|boolean|Array|symbol|console|Promise|unknown|never)\b/}),ir.languages.ts=ir.languages.typescript,ii.stringify=function(e,t){return"string"==typeof e?e:Array.isArray(e)?e.map(function(e){return ii.stringify(e,t)}).join(""):(n8[e.type]||n7)(e.content)};var ia={red:Y,gray:ea,dim:B,bold:F,underline:H,highlightSource:e=>e.highlight()},is={red:e=>e,gray:e=>e,dim:e=>e,bold:e=>e,underline:e=>e,highlightSource:e=>e};function io(e){let t=e.showColors?ia:is;return function({functionName:e,location:t,message:r,isPanic:n,contextLines:i,callArguments:a},s){var o;let l,u=[""],c=t?" in":":";if(n?(u.push(s.red(`Oops, an unknown error occurred! This is ${s.bold("on us")}, you did nothing wrong.`)),u.push(s.red(`It occurred in the ${s.bold(`\`${e}\``)} invocation${c}`))):u.push(s.red(`Invalid ${s.bold(`\`${e}\``)} invocation${c}`)),t&&u.push(s.underline((l=[(o=t).fileName],o.lineNumber&&l.push(String(o.lineNumber)),o.columnNumber&&l.push(String(o.columnNumber)),l.join(":")))),i){u.push("");let e=[i.toString()];a&&(e.push(a),e.push(s.dim(")"))),u.push(e.join("")),a&&u.push("")}else u.push(""),a&&u.push(a),u.push("");return u.push(r),u.join(`
`)}(function({callsite:e,message:t,originalMethod:r,isPanic:n,callArguments:i},a){return function({message:e,originalMethod:t,isPanic:r,callArguments:n}){return{functionName:`prisma.${t}()`,message:e,isPanic:r??!1,callArguments:n}}({message:t,originalMethod:r,isPanic:n,callArguments:i})}(e,0),t)}var il=h(T());function iu(e){let t=0;return Array.isArray(e.selectionPath)&&(t+=e.selectionPath.length),Array.isArray(e.argumentPath)&&(t+=e.argumentPath.length),t}function ic(e){switch(e.kind){case"InvalidArgumentValue":case"ValueTooLarge":return 20;case"InvalidArgumentType":return 10;case"RequiredArgumentMissing":return -10;default:return 0}}var id=class{constructor(e,t){this.name=e,this.value=t}isRequired=!1;makeRequired(){return this.isRequired=!0,this}write(e){let{colors:{green:t}}=e.context;e.addMarginSymbol(t(this.isRequired?"+":"?")),e.write(t(this.name)),this.isRequired||e.write(t("?")),e.write(t(": ")),"string"==typeof this.value?e.write(t(this.value)):e.write(this.value)}};I();var ip=class{constructor(e=0,t){this.context=t,this.currentIndent=e}lines=[];currentLine="";currentIndent=0;marginSymbol;afterNextNewLineCallback;write(e){return"string"==typeof e?this.currentLine+=e:e.write(this),this}writeJoined(e,t,r=(e,t)=>t.write(e)){let n=t.length-1;for(let i=0;i<t.length;i++)r(t[i],this),i!==n&&this.write(e);return this}writeLine(e){return this.write(e).newLine()}newLine(){this.lines.push(this.indentedCurrentLine()),this.currentLine="",this.marginSymbol=void 0;let e=this.afterNextNewLineCallback;return this.afterNextNewLineCallback=void 0,e?.(),this}withIndent(e){return this.indent(),e(this),this.unindent(),this}afterNextNewline(e){return this.afterNextNewLineCallback=e,this}indent(){return this.currentIndent++,this}unindent(){return this.currentIndent>0&&this.currentIndent--,this}addMarginSymbol(e){return this.marginSymbol=e,this}toString(){return this.lines.concat(this.indentedCurrentLine()).join(`
`)}getCurrentLineLength(){return this.currentLine.length}indentedCurrentLine(){let e=this.currentLine.padStart(this.currentLine.length+2*this.currentIndent);return this.marginSymbol?this.marginSymbol+e.slice(1):e}};S();var ih=class{constructor(e){this.value=e}write(e){e.write(this.value)}markAsError(){this.value.markAsError()}},im=e=>e,ig={bold:im,red:im,green:im,dim:im,enabled:!1},iy={bold:F,red:Y,green:X,dim:B,enabled:!0},iv={write(e){e.writeLine(",")}},ib=class{constructor(e){this.contents=e}isUnderlined=!1;color=e=>e;underline(){return this.isUnderlined=!0,this}setColor(e){return this.color=e,this}write(e){let t=e.getCurrentLineLength();e.write(this.color(this.contents)),this.isUnderlined&&e.afterNextNewline(()=>{e.write(" ".repeat(t)).writeLine(this.color("~".repeat(this.contents.length)))})}},iw=class{hasError=!1;markAsError(){return this.hasError=!0,this}},i_=class extends iw{items=[];addItem(e){return this.items.push(new ih(e)),this}getField(e){return this.items[e]}getPrintWidth(){return 0===this.items.length?2:Math.max(...this.items.map(e=>e.value.getPrintWidth()))+2}write(e){0===this.items.length?this.writeEmpty(e):this.writeWithItems(e)}writeEmpty(e){let t=new ib("[]");this.hasError&&t.setColor(e.context.colors.red).underline(),e.write(t)}writeWithItems(e){let{colors:t}=e.context;e.writeLine("[").withIndent(()=>e.writeJoined(iv,this.items).newLine()).write("]"),this.hasError&&e.afterNextNewline(()=>{e.writeLine(t.red("~".repeat(this.getPrintWidth())))})}asObject(){}},ix=class e extends iw{fields={};suggestions=[];addField(e){this.fields[e.name]=e}addSuggestion(e){this.suggestions.push(e)}getField(e){return this.fields[e]}getDeepField(t){let[r,...n]=t,i=this.getField(r);if(!i)return;let a=i;for(let t of n){let r;if(a.value instanceof e?r=a.value.getField(t):a.value instanceof i_&&(r=a.value.getField(Number(t))),!r)return;a=r}return a}getDeepFieldValue(e){return 0===e.length?this:this.getDeepField(e)?.value}hasField(e){return!!this.getField(e)}removeAllFields(){this.fields={}}removeField(e){delete this.fields[e]}getFields(){return this.fields}isEmpty(){return 0===Object.keys(this.fields).length}getFieldValue(e){return this.getField(e)?.value}getDeepSubSelectionValue(t){let r=this;for(let n of t){if(!(r instanceof e))return;let t=r.getSubSelectionValue(n);if(!t)return;r=t}return r}getDeepSelectionParent(t){let r=this.getSelectionParent();if(!r)return;let n=r;for(let r of t){let t=n.value.getFieldValue(r);if(!t||!(t instanceof e))return;let i=t.getSelectionParent();if(!i)return;n=i}return n}getSelectionParent(){let e=this.getField("select")?.value.asObject();if(e)return{kind:"select",value:e};let t=this.getField("include")?.value.asObject();if(t)return{kind:"include",value:t}}getSubSelectionValue(e){return this.getSelectionParent()?.value.fields[e].value}getPrintWidth(){let e=Object.values(this.fields);return 0==e.length?2:Math.max(...e.map(e=>e.getPrintWidth()))+2}write(e){let t=Object.values(this.fields);0===t.length&&0===this.suggestions.length?this.writeEmpty(e):this.writeWithContents(e,t)}asObject(){return this}writeEmpty(e){let t=new ib("{}");this.hasError&&t.setColor(e.context.colors.red).underline(),e.write(t)}writeWithContents(e,t){e.writeLine("{").withIndent(()=>{e.writeJoined(iv,[...t,...this.suggestions]).newLine()}),e.write("}"),this.hasError&&e.afterNextNewline(()=>{e.writeLine(e.context.colors.red("~".repeat(this.getPrintWidth())))})}},ik=class extends iw{constructor(e){super(),this.text=e}getPrintWidth(){return this.text.length}write(e){let t=new ib(this.text);this.hasError&&t.underline().setColor(e.context.colors.red),e.write(t)}asObject(){}},iE=class{fields=[];addField(e,t){return this.fields.push({write(r){let{green:n,dim:i}=r.context.colors;r.write(n(i(`${e}: ${t}`))).addMarginSymbol(n(i("+")))}}),this}write(e){let{colors:{green:t}}=e.context;e.writeLine(t("{")).withIndent(()=>{e.writeJoined(iv,this.fields).newLine()}).write(t("}")).addMarginSymbol(t("+"))}};function i$(e,t,r){let n=[`Unknown argument \`${e.red(t)}\`.`],i=function(e,t){let r=1/0,n;for(let i of t){let t=(0,il.default)(e,i);t>3||t<r&&(r=t,n=i)}return n}(t,r);return i&&n.push(`Did you mean \`${e.green(i)}\`?`),r.length>0&&n.push(iO(e)),n.join(" ")}function iT(e,t){for(let r of t.fields)e.hasField(r.name)||e.addSuggestion(new id(r.name,"true"))}function iS(e,t){let[r,n]=iA(e),i=t.arguments.getDeepSubSelectionValue(r)?.asObject();if(!i)return{parentKind:"unknown",fieldName:n};let a=i.getFieldValue("select")?.asObject(),s=i.getFieldValue("include")?.asObject(),o=i.getFieldValue("omit")?.asObject(),l=a?.getField(n);return a&&l?{parentKind:"select",parent:a,field:l,fieldName:n}:(l=s?.getField(n),s&&l?{parentKind:"include",field:l,parent:s,fieldName:n}:(l=o?.getField(n),o&&l?{parentKind:"omit",field:l,parent:o,fieldName:n}:{parentKind:"unknown",fieldName:n}))}function iI(e,t){if("object"===t.kind)for(let r of t.fields)e.hasField(r.name)||e.addSuggestion(new id(r.name,r.typeNames.join(" | ")))}function iA(e){let t=[...e],r=t.pop();if(!r)throw Error("unexpected empty path");return[t,r]}function iO({green:e,enabled:t}){return"Available options are "+(t?`listed in ${e("green")}`:"marked with ?")+"."}function iN(e,t){if(1===t.length)return t[0];let r=[...t],n=r.pop();return`${r.join(", ")} ${e} ${n}`}var iR=class{modelName;name;typeName;isList;isEnum;constructor(e,t,r,n,i){this.modelName=e,this.name=t,this.typeName=r,this.isList=n,this.isEnum=i}_toGraphQLInputType(){let e=this.isList?"List":"",t=this.isEnum?"Enum":"";return`${e}${t}${this.typeName}FieldRefInput<${this.modelName}>`}};function iP(e){return e instanceof iR}var iU=Symbol(),iD=new WeakMap,iC=class{constructor(e){e===iU?iD.set(this,`Prisma.${this._getName()}`):iD.set(this,`new Prisma.${this._getNamespace()}.${this._getName()}()`)}_getName(){return this.constructor.name}toString(){return iD.get(this)}},ij=class extends iC{_getNamespace(){return"NullTypes"}},iL=class extends ij{#e};iZ(iL,"DbNull");var iz=class extends ij{#e};iZ(iz,"JsonNull");var iM=class extends ij{#e};iZ(iM,"AnyNull");var iq={classes:{DbNull:iL,JsonNull:iz,AnyNull:iM},instances:{DbNull:new iL(iU),JsonNull:new iz(iU),AnyNull:new iM(iU)}};function iZ(e,t){Object.defineProperty(e,"name",{value:t,configurable:!0})}var iV=class{constructor(e,t){this.name=e,this.value=t}hasError=!1;markAsError(){this.hasError=!0}getPrintWidth(){return this.name.length+this.value.getPrintWidth()+2}write(e){let t=new ib(this.name);this.hasError&&t.underline().setColor(e.context.colors.red),e.write(t).write(": ").write(this.value)}},iF=class{arguments;errorMessages=[];constructor(e){this.arguments=e}write(e){e.write(this.arguments)}addErrorMessage(e){this.errorMessages.push(e)}renderAllMessages(e){return this.errorMessages.map(t=>t(e)).join(`
`)}};function iB(e){return new iF(iW(e))}function iW(e){let t=new ix;for(let[r,n]of Object.entries(e)){let e=new iV(r,function e(t){if("string"==typeof t)return new ik(JSON.stringify(t));if("number"==typeof t||"boolean"==typeof t)return new ik(String(t));if("bigint"==typeof t)return new ik(`${t}n`);if(null===t)return new ik("null");if(void 0===t)return new ik("undefined");if(n2(t))return new ik(`new Prisma.Decimal("${t.toFixed()}")`);if(t instanceof Uint8Array)return Buffer.isBuffer(t)?new ik(`Buffer.alloc(${t.byteLength})`):new ik(`new Uint8Array(${t.byteLength})`);if(t instanceof Date){let e=rU(t)?t.toISOString():"Invalid Date";return new ik(`new Date("${e}")`)}return t instanceof iC?new ik(`Prisma.${t._getName()}`):iP(t)?new ik(`prisma.${rA(t.modelName)}.$fields.${t.name}`):Array.isArray(t)?function(t){let r=new i_;for(let n of t)r.addItem(e(n));return r}(t):"object"==typeof t?iW(t):new ik(Object.prototype.toString.call(t))}(n));t.addField(e)}return t}function iH(e,t){let r="pretty"===t?iy:ig;return{message:e.renderAllMessages(r),args:new ip(0,{colors:r}).write(e).toString()}}function iK({args:e,errors:t,errorFormat:r,callsite:n,originalMethod:i,clientVersion:a,globalOmit:s}){let o=iB(e);for(let e of t)!function e(t,r,n){switch(t.kind){case"MutuallyExclusiveFields":let i;p=t,f=r,(i=f.arguments.getDeepSubSelectionValue(p.selectionPath)?.asObject())&&(i.getField(p.firstField)?.markAsError(),i.getField(p.secondField)?.markAsError()),f.addErrorMessage(e=>`Please ${e.bold("either")} use ${e.green(`\`${p.firstField}\``)} or ${e.green(`\`${p.secondField}\``)}, but ${e.red("not both")} at the same time.`);break;case"IncludeOnScalar":!function(e,t){let[r,n]=iA(e.selectionPath),i=e.outputType,a=t.arguments.getDeepSelectionParent(r)?.value;if(a&&(a.getField(n)?.markAsError(),i))for(let e of i.fields)e.isRelation&&a.addSuggestion(new id(e.name,"true"));t.addErrorMessage(e=>{let t=`Invalid scalar field ${e.red(`\`${n}\``)} for ${e.bold("include")} statement`;return i?t+=` on model ${e.bold(i.name)}. ${iO(e)}`:t+=".",t+=`
Note that ${e.bold("include")} statements only accept relation fields.`})}(t,r);break;case"EmptySelection":!function(e,t,r){let n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(n){let r=n.getField("omit")?.value.asObject();if(r){var i,a,s=e,o=t,l=r;for(let e of(l.removeAllFields(),s.outputType.fields))l.addSuggestion(new id(e.name,"false"));o.addErrorMessage(e=>`The ${e.red("omit")} statement includes every field of the model ${e.bold(s.outputType.name)}. At least one field must be included in the result`);return}if(n.hasField("select")){let r,n,s;return i=e,a=t,r=i.outputType,n=a.arguments.getDeepSelectionParent(i.selectionPath)?.value,s=n?.isEmpty()??!1,n&&(n.removeAllFields(),iT(n,r)),a.addErrorMessage(e=>s?`The ${e.red("`select`")} statement for type ${e.bold(r.name)} must not be empty. ${iO(e)}`:`The ${e.red("`select`")} statement for type ${e.bold(r.name)} needs ${e.bold("at least one truthy value")}.`)}}r?.[rA(e.outputType.name)]?function(e,t){let r=new iE;for(let t of e.outputType.fields)t.isRelation||r.addField(t.name,"false");let n=new id("omit",r).makeRequired();if(0===e.selectionPath.length)t.arguments.addSuggestion(n);else{let[r,i]=iA(e.selectionPath),a=t.arguments.getDeepSelectionParent(r)?.value.asObject()?.getField(i);if(a){let e=a?.value.asObject()??new ix;e.addSuggestion(n),a.value=e}}t.addErrorMessage(t=>`The global ${t.red("omit")} configuration excludes every field of the model ${t.bold(e.outputType.name)}. At least one field must be included in the result`)}(e,t):t.addErrorMessage(()=>`Unknown field at "${e.selectionPath.join(".")} selection"`)}(t,r,n);break;case"UnknownSelectionField":!function(e,t){let r=iS(e.selectionPath,t);if("unknown"!==r.parentKind){r.field.markAsError();let t=r.parent;switch(r.parentKind){case"select":iT(t,e.outputType);break;case"include":var n=t,i=e.outputType;for(let e of i.fields)e.isRelation&&!n.hasField(e.name)&&n.addSuggestion(new id(e.name,"true"));break;case"omit":var a=t,s=e.outputType;for(let e of s.fields)a.hasField(e.name)||e.isRelation||a.addSuggestion(new id(e.name,"true"))}}t.addErrorMessage(t=>{let n=[`Unknown field ${t.red(`\`${r.fieldName}\``)}`];return"unknown"!==r.parentKind&&n.push(`for ${t.bold(r.parentKind)} statement`),n.push(`on model ${t.bold(`\`${e.outputType.name}\``)}.`),n.push(iO(t)),n.join(" ")})}(t,r);break;case"InvalidSelectionValue":let a;h=t,m=r,"unknown"!==(a=iS(h.selectionPath,m)).parentKind&&a.field.value.markAsError(),m.addErrorMessage(e=>`Invalid value for selection field \`${e.red(a.fieldName)}\`: ${h.underlyingError}`);break;case"UnknownArgument":let s,o;g=t,y=r,s=g.argumentPath[0],(o=y.arguments.getDeepSubSelectionValue(g.selectionPath)?.asObject())&&(o.getField(s)?.markAsError(),function(e,t){for(let r of t)e.hasField(r.name)||e.addSuggestion(new id(r.name,r.typeNames.join(" | ")))}(o,g.arguments)),y.addErrorMessage(e=>i$(e,s,g.arguments.map(e=>e.name)));break;case"UnknownInputField":!function(e,t){let[r,n]=iA(e.argumentPath),i=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(i){i.getDeepField(e.argumentPath)?.markAsError();let t=i.getDeepFieldValue(r)?.asObject();t&&iI(t,e.inputType)}t.addErrorMessage(t=>i$(t,n,e.inputType.fields.map(e=>e.name)))}(t,r);break;case"RequiredArgumentMissing":!function(e,t){let r;t.addErrorMessage(e=>r?.value instanceof ik&&"null"===r.value.text?`Argument \`${e.green(a)}\` must not be ${e.red("null")}.`:`Argument \`${e.green(a)}\` is missing.`);let n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(!n)return;let[i,a]=iA(e.argumentPath),s=new iE,o=n.getDeepFieldValue(i)?.asObject();if(o){if((r=o.getField(a))&&o.removeField(a),1===e.inputTypes.length&&"object"===e.inputTypes[0].kind){for(let t of e.inputTypes[0].fields)s.addField(t.name,t.typeNames.join(" | "));o.addSuggestion(new id(a,s).makeRequired())}else{let t=e.inputTypes.map(function e(t){return"list"===t.kind?`${e(t.elementType)}[]`:t.name}).join(" | ");o.addSuggestion(new id(a,t).makeRequired())}if(e.dependentArgumentPath){n.getDeepField(e.dependentArgumentPath)?.markAsError();let[,r]=iA(e.dependentArgumentPath);t.addErrorMessage(e=>`Argument \`${e.green(a)}\` is required because argument \`${e.green(r)}\` was provided.`)}}}(t,r);break;case"InvalidArgumentType":let l,u;v=t,b=r,l=v.argument.name,(u=b.arguments.getDeepSubSelectionValue(v.selectionPath)?.asObject())&&u.getDeepFieldValue(v.argumentPath)?.markAsError(),b.addErrorMessage(e=>{let t=iN("or",v.argument.typeNames.map(t=>e.green(t)));return`Argument \`${e.bold(l)}\`: Invalid value provided. Expected ${t}, provided ${e.red(v.inferredType)}.`});break;case"InvalidArgumentValue":let c,d;w=t,_=r,c=w.argument.name,(d=_.arguments.getDeepSubSelectionValue(w.selectionPath)?.asObject())&&d.getDeepFieldValue(w.argumentPath)?.markAsError(),_.addErrorMessage(e=>{let t=[`Invalid value for argument \`${e.bold(c)}\``];if(w.underlyingError&&t.push(`: ${w.underlyingError}`),t.push("."),w.argument.typeNames.length>0){let r=iN("or",w.argument.typeNames.map(t=>e.green(t)));t.push(` Expected ${r}.`)}return t.join("")});break;case"ValueTooLarge":var p,f,h,m,g,y,v,b,w,_,x=t,k=r;let E=x.argument.name,$=k.arguments.getDeepSubSelectionValue(x.selectionPath)?.asObject(),T;if($){let e=$.getDeepField(x.argumentPath)?.value;e?.markAsError(),e instanceof ik&&(T=e.text)}k.addErrorMessage(e=>{let t=["Unable to fit value"];return T&&t.push(e.red(T)),t.push(`into a 64-bit signed integer for field \`${e.bold(E)}\``),t.join(" ")});break;case"SomeFieldsMissing":var S=t,I=r;let A=S.argumentPath[S.argumentPath.length-1],O=I.arguments.getDeepSubSelectionValue(S.selectionPath)?.asObject();if(O){let e=O.getDeepFieldValue(S.argumentPath)?.asObject();e&&iI(e,S.inputType)}I.addErrorMessage(e=>{let t=[`Argument \`${e.bold(A)}\` of type ${e.bold(S.inputType.name)} needs`];return 1===S.constraints.minFieldCount?S.constraints.requiredFields?t.push(`${e.green("at least one of")} ${iN("or",S.constraints.requiredFields.map(t=>`\`${e.bold(t)}\``))} arguments.`):t.push(`${e.green("at least one")} argument.`):t.push(`${e.green(`at least ${S.constraints.minFieldCount}`)} arguments.`),t.push(iO(e)),t.join(" ")});break;case"TooManyFieldsGiven":var N=t,R=r;let P=N.argumentPath[N.argumentPath.length-1],U=R.arguments.getDeepSubSelectionValue(N.selectionPath)?.asObject(),D=[];if(U){let e=U.getDeepFieldValue(N.argumentPath)?.asObject();e&&(e.markAsError(),D=Object.keys(e.getFields()))}R.addErrorMessage(e=>{let t=[`Argument \`${e.bold(P)}\` of type ${e.bold(N.inputType.name)} needs`];return 1===N.constraints.minFieldCount&&1==N.constraints.maxFieldCount?t.push(`${e.green("exactly one")} argument,`):1==N.constraints.maxFieldCount?t.push(`${e.green("at most one")} argument,`):t.push(`${e.green(`at most ${N.constraints.maxFieldCount}`)} arguments,`),t.push(`but you provided ${iN("and",D.map(t=>e.red(t)))}. Please choose`),1===N.constraints.maxFieldCount?t.push("one."):t.push(`${N.constraints.maxFieldCount}.`),t.join(" ")});break;case"Union":let C;(C=function(e){var t=(e,t)=>{let r=iu(e),n=iu(t);return r!==n?r-n:ic(e)-ic(t)};if(0===e.length)return;let r=e[0];for(let n=1;n<e.length;n++)0>t(r,e[n])&&(r=e[n]);return r}(function(e){let t=new Map,r=[];for(let a of e){var n,i;if("InvalidArgumentType"!==a.kind){r.push(a);continue}let e=`${a.selectionPath.join(".")}:${a.argumentPath.join(".")}`,s=t.get(e);s?t.set(e,{...a,argument:{...a.argument,typeNames:(n=s.argument.typeNames,i=a.argument.typeNames,[...new Set(n.concat(i))])}}):t.set(e,a)}return r.push(...t.values()),r}(function e(t){return t.errors.flatMap(t=>"Union"===t.kind?e(t):[t])}(t))))?e(C,r,n):r.addErrorMessage(()=>"Unknown error");break;default:throw Error("not implemented: "+t.kind)}}(e,o,s);let{message:l,args:u}=iH(o,r);throw new rS(io({message:l,callsite:n,originalMethod:i,showColors:"pretty"===r,callArguments:u}),{clientVersion:a})}function iG(e){return e.replace(/^./,e=>e.toLowerCase())}function iJ(e,t,r){return r?rb(r,({needs:e,compute:r},n)=>{var i,a,s;let o;return{name:n,needs:e?Object.keys(e).filter(t=>e[t]):[],compute:(i=t,a=n,s=r,(o=i?.[a]?.compute)?e=>s({...e,[a]:o(e)}):s)}}):{}}var iQ=class{constructor(e,t){this.extension=e,this.previous=t}computedFieldsCache=new rI;modelExtensionsCache=new rI;queryCallbacksCache=new rI;clientExtensions=rO(()=>this.extension.client?{...this.previous?.getAllClientExtensions(),...this.extension.client}:this.previous?.getAllClientExtensions());batchCallbacks=rO(()=>{let e=this.previous?.getAllBatchQueryCallbacks()??[],t=this.extension.query?.$__internalBatch;return t?e.concat(t):e});getAllComputedFields(e){return this.computedFieldsCache.getOrCreate(e,()=>{var t,r,n;let i,a,s;return t=this.previous?.getAllComputedFields(e),r=this.extension,i=iG(e),r.result&&(r.result.$allModels||r.result[i])?(n={...t,...iJ(r.name,t,r.result.$allModels),...iJ(r.name,t,r.result[i])},a=new rI,s=(e,t)=>a.getOrCreate(e,()=>t.has(e)?[e]:(t.add(e),n[e]?n[e].needs.flatMap(e=>s(e,t)):[e])),rb(n,e=>({...e,needs:s(e.name,new Set)}))):t})}getAllClientExtensions(){return this.clientExtensions.get()}getAllModelExtensions(e){return this.modelExtensionsCache.getOrCreate(e,()=>{let t=iG(e);return this.extension.model&&(this.extension.model[t]||this.extension.model.$allModels)?{...this.previous?.getAllModelExtensions(e),...this.extension.model.$allModels,...this.extension.model[t]}:this.previous?.getAllModelExtensions(e)})}getAllQueryCallbacks(e,t){return this.queryCallbacksCache.getOrCreate(`${e}:${t}`,()=>{let r=this.previous?.getAllQueryCallbacks(e,t)??[],n=[],i=this.extension.query;return i&&(i[e]||i.$allModels||i[t]||i.$allOperations)?(void 0!==i[e]&&(void 0!==i[e][t]&&n.push(i[e][t]),void 0!==i[e].$allOperations&&n.push(i[e].$allOperations)),"$none"!==e&&void 0!==i.$allModels&&(void 0!==i.$allModels[t]&&n.push(i.$allModels[t]),void 0!==i.$allModels.$allOperations&&n.push(i.$allModels.$allOperations)),void 0!==i[t]&&n.push(i[t]),void 0!==i.$allOperations&&n.push(i.$allOperations),r.concat(n)):r})}getAllBatchQueryCallbacks(){return this.batchCallbacks.get()}},iY=class e{constructor(e){this.head=e}static empty(){return new e}static single(t){return new e(new iQ(t))}isEmpty(){return void 0===this.head}append(t){return new e(new iQ(t,this.head))}getAllComputedFields(e){return this.head?.getAllComputedFields(e)}getAllClientExtensions(){return this.head?.getAllClientExtensions()}getAllModelExtensions(e){return this.head?.getAllModelExtensions(e)}getAllQueryCallbacks(e,t){return this.head?.getAllQueryCallbacks(e,t)??[]}getAllBatchQueryCallbacks(){return this.head?.getAllBatchQueryCallbacks()??[]}},iX=class{constructor(e){this.name=e}};function i0(e){return new iX(e)}var i1=Symbol(),i4=class{constructor(e){if(e!==i1)throw Error("Skip instance can not be constructed directly")}ifUndefined(e){return void 0===e?i6:e}},i6=new i4(i1);function i2(e){return e instanceof i4}var i9={findUnique:"findUnique",findUniqueOrThrow:"findUniqueOrThrow",findFirst:"findFirst",findFirstOrThrow:"findFirstOrThrow",findMany:"findMany",count:"aggregate",create:"createOne",createMany:"createMany",createManyAndReturn:"createManyAndReturn",update:"updateOne",updateMany:"updateMany",updateManyAndReturn:"updateManyAndReturn",upsert:"upsertOne",delete:"deleteOne",deleteMany:"deleteMany",executeRaw:"executeRaw",queryRaw:"queryRaw",aggregate:"aggregate",groupBy:"groupBy",runCommandRaw:"runCommandRaw",findRaw:"findRaw",aggregateRaw:"aggregateRaw"},i3="explicitly `undefined` values are not allowed";function i5({modelName:e,action:t,args:r,runtimeDataModel:n,extensions:i=iY.empty(),callsite:a,clientMethod:s,errorFormat:o,clientVersion:l,previewFeatures:u,globalOmit:c}){let d=new ae({runtimeDataModel:n,modelName:e,action:t,rootArgs:r,callsite:a,extensions:i,selectionPath:[],argumentPath:[],originalMethod:s,errorFormat:o,clientVersion:l,previewFeatures:u,globalOmit:c});return{modelName:e,action:i9[t],query:function e({select:t,include:r,...n}={},i){var a,s,o,l,u,c,d;let p,f=n.omit;return delete n.omit,{arguments:i8(n,i),selection:(a=t,s=r,o=f,l=i,a?(s?l.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"include",secondField:"select",selectionPath:l.getSelectionPath()}):o&&l.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"omit",secondField:"select",selectionPath:l.getSelectionPath()}),function(t,r){let n={},i=r.getComputedFields();for(let[a,s]of Object.entries(function(e,t){if(!t)return e;let r={...e};for(let n of Object.values(t))if(e[n.name])for(let e of n.needs)r[e]=!0;return r}(t,i))){if(i2(s))continue;let t=r.nestSelection(a);i7(s,t);let o=r.findField(a);if(!(i?.[a]&&!o)){if(!1===s||void 0===s||i2(s)){n[a]=!1;continue}if(!0===s){o?.kind==="object"?n[a]=e({},t):n[a]=!0;continue}n[a]=e(s,t)}}return n}(a,l)):(u=l,c=s,d=o,p={},u.modelOrType&&!u.isRawAction()&&(p.$composites=!0,p.$scalars=!0),c&&function(t,r,n){for(let[i,a]of Object.entries(r)){if(i2(a))continue;let r=n.nestSelection(i);if(i7(a,r),!1===a||void 0===a){t[i]=!1;continue}let s=n.findField(i);if(s&&"object"!==s.kind&&n.throwValidationError({kind:"IncludeOnScalar",selectionPath:n.getSelectionPath().concat(i),outputType:n.getOutputTypeDescription()}),s){t[i]=e(!0===a?{}:a,r);continue}if(!0===a){t[i]=!0;continue}t[i]=e(a,r)}}(p,c,u),function(e,t,r){let n=r.getComputedFields();for(let[i,a]of Object.entries(function(e,t){if(!t)return e;let r={...e};for(let n of Object.values(t))if(!e[n.name])for(let e of n.needs)delete r[e];return r}({...r.getGlobalOmit(),...t},n))){if(i2(a))continue;i7(a,r.nestSelection(i));let t=r.findField(i);n?.[i]&&!t||(e[i]=!a)}}(p,d,u),p))}}(r,d)}}function i8(e,t){if(e.$type)return{$type:"Raw",value:e};let r={};for(let n in e){let i=e[n],a=t.nestArgument(n);i2(i)||(void 0!==i?r[n]=function e(t,r){var n,i;if(null===t)return null;if("string"==typeof t||"number"==typeof t||"boolean"==typeof t)return t;if("bigint"==typeof t)return{$type:"BigInt",value:String(t)};if(rP(t)){if(rU(t))return{$type:"DateTime",value:t.toISOString()};r.throwValidationError({kind:"InvalidArgumentValue",selectionPath:r.getSelectionPath(),argumentPath:r.getArgumentPath(),argument:{name:r.getArgumentName(),typeNames:["Date"]},underlyingError:"Provided Date object is invalid"})}if(t instanceof iX)return{$type:"Param",value:t.name};if(iP(t))return{$type:"FieldRef",value:{_ref:t.name,_container:t.modelName}};if(Array.isArray(t))return function(t,r){let n=[];for(let i=0;i<t.length;i++){let a=r.nestArgument(String(i)),s=t[i];if(void 0===s||i2(s)){let e=void 0===s?"undefined":"Prisma.skip";r.throwValidationError({kind:"InvalidArgumentValue",selectionPath:a.getSelectionPath(),argumentPath:a.getArgumentPath(),argument:{name:`${r.getArgumentName()}[${i}]`,typeNames:[]},underlyingError:`Can not use \`${e}\` value within array. Use \`null\` or filter out \`${e}\` values`})}n.push(e(s,a))}return n}(t,r);if(ArrayBuffer.isView(t)){let{buffer:e,byteOffset:r,byteLength:n}=t;return{$type:"Bytes",value:Buffer.from(e,r,n).toString("base64")}}if("object"==typeof(n=t)&&null!==n&&!0===n.__prismaRawParameters__)return t.values;if(n2(t))return{$type:"Decimal",value:t.toFixed()};if(t instanceof iC){if(t!==iq.instances[t._getName()])throw Error("Invalid ObjectEnumValue");return{$type:"Enum",value:t._getName()}}return"object"==typeof(i=t)&&null!==i&&"function"==typeof i.toJSON?t.toJSON():"object"==typeof t?i8(t,r):void r.throwValidationError({kind:"InvalidArgumentValue",selectionPath:r.getSelectionPath(),argumentPath:r.getArgumentPath(),argument:{name:r.getArgumentName(),typeNames:[]},underlyingError:`We could not serialize ${Object.prototype.toString.call(t)} value. Serialize the object to JSON or implement a ".toJSON()" method on it`})}(i,a):t.isPreviewFeatureOn("strictUndefinedChecks")&&t.throwValidationError({kind:"InvalidArgumentValue",argumentPath:a.getArgumentPath(),selectionPath:t.getSelectionPath(),argument:{name:t.getArgumentName(),typeNames:[]},underlyingError:i3}))}return r}function i7(e,t){void 0===e&&t.isPreviewFeatureOn("strictUndefinedChecks")&&t.throwValidationError({kind:"InvalidSelectionValue",selectionPath:t.getSelectionPath(),underlyingError:i3})}var ae=class e{constructor(e){this.params=e,this.params.modelName&&(this.modelOrType=this.params.runtimeDataModel.models[this.params.modelName]??this.params.runtimeDataModel.types[this.params.modelName])}modelOrType;throwValidationError(e){iK({errors:[e],originalMethod:this.params.originalMethod,args:this.params.rootArgs??{},callsite:this.params.callsite,errorFormat:this.params.errorFormat,clientVersion:this.params.clientVersion,globalOmit:this.params.globalOmit})}getSelectionPath(){return this.params.selectionPath}getArgumentPath(){return this.params.argumentPath}getArgumentName(){return this.params.argumentPath[this.params.argumentPath.length-1]}getOutputTypeDescription(){if(!(!this.params.modelName||!this.modelOrType))return{name:this.params.modelName,fields:this.modelOrType.fields.map(e=>({name:e.name,typeName:"boolean",isRelation:"object"===e.kind}))}}isRawAction(){return["executeRaw","queryRaw","runCommandRaw","findRaw","aggregateRaw"].includes(this.params.action)}isPreviewFeatureOn(e){return this.params.previewFeatures.includes(e)}getComputedFields(){if(this.params.modelName)return this.params.extensions.getAllComputedFields(this.params.modelName)}findField(e){return this.modelOrType?.fields.find(t=>t.name===e)}nestSelection(t){let r=this.findField(t),n=r?.kind==="object"?r.type:void 0;return new e({...this.params,modelName:n,selectionPath:this.params.selectionPath.concat(t)})}getGlobalOmit(){return this.params.modelName&&this.shouldApplyGlobalOmit()?this.params.globalOmit?.[rA(this.params.modelName)]??{}:{}}shouldApplyGlobalOmit(){switch(this.params.action){case"findFirst":case"findFirstOrThrow":case"findUniqueOrThrow":case"findMany":case"upsert":case"findUnique":case"createManyAndReturn":case"create":case"update":case"updateManyAndReturn":case"delete":return!0;case"executeRaw":case"aggregateRaw":case"runCommandRaw":case"findRaw":case"createMany":case"deleteMany":case"groupBy":case"updateMany":case"count":case"aggregate":case"queryRaw":return!1;default:rl(this.params.action,"Unknown action")}}nestArgument(t){return new e({...this.params,argumentPath:this.params.argumentPath.concat(t)})}};function at(e){if(!e._hasPreviewFlag("metrics"))throw new rS("`metrics` preview feature must be enabled in order to access metrics API",{clientVersion:e._clientVersion})}var ar=class{_client;constructor(e){this._client=e}prometheus(e){return at(this._client),this._client._engine.metrics({format:"prometheus",...e})}json(e){return at(this._client),this._client._engine.metrics({format:"json",...e})}};function an(e,t){let r=rO(()=>{var e;return{datamodel:{models:ai((e=t).models),enums:ai(e.enums),types:ai(e.types)}}});Object.defineProperty(e,"dmmf",{get:()=>r.get()})}function ai(e){return Object.entries(e).map(([e,t])=>({name:e,...t}))}var aa=new WeakMap,as="$$PrismaTypedSql",ao=class{constructor(e,t){aa.set(this,{sql:e,values:t}),Object.defineProperty(this,as,{value:as})}get sql(){return aa.get(this).sql}get values(){return aa.get(this).values}};function al(e){return(...t)=>new ao(e,t)}function au(e){return null!=e&&e[as]===as}var ac=h(b()),ad=e.r(78500),ap=e.r(87769),af=h(e.r(2157)),ah=h(e.r(50227)),am=class e{constructor(t,r){if(t.length-1!==r.length)throw 0===t.length?TypeError("Expected at least 1 string"):TypeError(`Expected ${t.length} strings to have ${t.length-1} values`);let n=r.reduce((t,r)=>t+(r instanceof e?r.values.length:1),0);this.values=Array(n),this.strings=Array(n+1),this.strings[0]=t[0];let i=0,a=0;for(;i<r.length;){let n=r[i++],s=t[i];if(n instanceof e){this.strings[a]+=n.strings[0];let e=0;for(;e<n.values.length;)this.values[a++]=n.values[e++],this.strings[a]=n.strings[e];this.strings[a]+=s}else this.values[a++]=n,this.strings[a]=s}}get sql(){let e=this.strings.length,t=1,r=this.strings[0];for(;t<e;)r+=`?${this.strings[t++]}`;return r}get statement(){let e=this.strings.length,t=1,r=this.strings[0];for(;t<e;)r+=`:${t}${this.strings[t++]}`;return r}get text(){let e=this.strings.length,t=1,r=this.strings[0];for(;t<e;)r+=`$${t}${this.strings[t++]}`;return r}inspect(){return{sql:this.sql,statement:this.statement,text:this.text,values:this.values}}};function ag(e,t=",",r="",n=""){if(0===e.length)throw TypeError("Expected `join([])` to be called with an array of multiple elements, but got an empty array");return new am([r,...Array(e.length-1).fill(t),n],e)}function ay(e){return new am([e],[])}var av=ay("");function ab(e,...t){return new am(e,t)}function aw(e){return{getKeys:()=>Object.keys(e),getPropertyValue:t=>e[t]}}function a_(e,t){return{getKeys:()=>[e],getPropertyValue:()=>t()}}function ax(e){let t=new rI;return{getKeys:()=>e.getKeys(),getPropertyValue:r=>t.getOrCreate(r,()=>e.getPropertyValue(r)),getPropertyDescriptor:t=>e.getPropertyDescriptor?.(t)}}var ak={enumerable:!0,configurable:!0,writable:!0};function aE(e){let t=new Set(e);return{getPrototypeOf:()=>Object.prototype,getOwnPropertyDescriptor:()=>ak,has:(e,r)=>t.has(r),set:(e,r,n)=>t.add(r)&&Reflect.set(e,r,n),ownKeys:()=>[...t]}}var a$=Symbol.for("nodejs.util.inspect.custom");function aT(e,t){let r=function(e){let t=new Map;for(let r of e)for(let e of r.getKeys())t.set(e,r);return t}(t),n=new Set,i=new Proxy(e,{get(e,t){if(n.has(t))return e[t];let i=r.get(t);return i?i.getPropertyValue(t):e[t]},has(e,t){if(n.has(t))return!0;let i=r.get(t);return i?i.has?.(t)??!0:Reflect.has(e,t)},ownKeys:e=>[...new Set([...aS(Reflect.ownKeys(e),r),...aS(Array.from(r.keys()),r),...n])],set:(e,t,i)=>r.get(t)?.getPropertyDescriptor?.(t)?.writable!==!1&&(n.add(t),Reflect.set(e,t,i)),getOwnPropertyDescriptor(e,t){let n=Reflect.getOwnPropertyDescriptor(e,t);if(n&&!n.configurable)return n;let i=r.get(t);return i?i.getPropertyDescriptor?{...ak,...i?.getPropertyDescriptor(t)}:ak:n},defineProperty:(e,t,r)=>(n.add(t),Reflect.defineProperty(e,t,r)),getPrototypeOf:()=>Object.prototype});return i[a$]=function(){let e={...this};return delete e[a$],e},i}function aS(e,t){return e.filter(e=>t.get(e)?.has?.(e)??!0)}function aI(e){return{getKeys:()=>e,has:()=>!1,getPropertyValue(){}}}function aA(e,t){return{batch:e,transaction:t?.kind==="batch"?{isolationLevel:t.options.isolationLevel}:void 0}}function aO({error:e,user_facing_error:t},r,n){var i,a;let s;return t.error_code?new rE((i=t,a=n,s=i.message,("postgresql"===a||"postgres"===a||"mysql"===a)&&"P2037"===i.error_code&&(s+=`
Prisma Accelerate has built-in connection pooling to prevent such errors: https://pris.ly/client/error-accelerate`),s),{code:t.error_code,clientVersion:r,meta:t.meta,batchRequestIdx:t.batch_request_idx}):new rT(e,{clientVersion:r,batchRequestIdx:t.batch_request_idx})}var aN="<unknown>",aR=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|rsc|<anonymous>|\/|[a-z]:\\|\\\\).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,aP=/\((\S*)(?::(\d+))(?::(\d+))\)/,aU=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|rsc|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,aD=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|rsc|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,aC=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,aj=/^\s*(?:([^@]*)(?:\((.*?)\))?@)?(\S.*?):(\d+)(?::(\d+))?\s*$/i,aL=/^\s*at (?:((?:\[object object\])?[^\\/]+(?: \[as \S+\])?) )?\(?(.*?):(\d+)(?::(\d+))?\)?\s*$/i,az=class{getLocation(){return null}},aM=class{_error;constructor(){this._error=Error()}getLocation(){let e=this._error.stack;if(!e)return null;let t=e.split(`
`).reduce(function(e,t){var r,n,i,a,s,o,l=function(e){var t=aR.exec(e);if(!t)return null;var r=t[2]&&0===t[2].indexOf("native"),n=t[2]&&0===t[2].indexOf("eval"),i=aP.exec(t[2]);return n&&null!=i&&(t[2]=i[1],t[3]=i[2],t[4]=i[3]),{file:r?null:t[2],methodName:t[1]||aN,arguments:r?[t[2]]:[],lineNumber:t[3]?+t[3]:null,column:t[4]?+t[4]:null}}(t)||(r=t,(n=aU.exec(r))?{file:n[2],methodName:n[1]||aN,arguments:[],lineNumber:+n[3],column:n[4]?+n[4]:null}:null)||function(e){var t=aD.exec(e);if(!t)return null;var r=t[3]&&t[3].indexOf(" > eval")>-1,n=aC.exec(t[3]);return r&&null!=n&&(t[3]=n[1],t[4]=n[2],t[5]=null),{file:t[3],methodName:t[1]||aN,arguments:t[2]?t[2].split(","):[],lineNumber:t[4]?+t[4]:null,column:t[5]?+t[5]:null}}(t)||(i=t,(a=aL.exec(i))?{file:a[2],methodName:a[1]||aN,arguments:[],lineNumber:+a[3],column:a[4]?+a[4]:null}:null)||(s=t,(o=aj.exec(s))?{file:o[3],methodName:o[1]||aN,arguments:[],lineNumber:+o[4],column:o[5]?+o[5]:null}:null);return l&&e.push(l),e},[]).find(e=>{var t;if(!e.file)return!1;let r=(t=e.file,rd.default.sep===rd.default.posix.sep?t:t.split(rd.default.sep).join(rd.default.posix.sep));return"<anonymous>"!==r&&!r.includes("@prisma")&&!r.includes("/packages/client/src/runtime/")&&!r.endsWith("/runtime/binary.js")&&!r.endsWith("/runtime/library.js")&&!r.endsWith("/runtime/edge.js")&&!r.endsWith("/runtime/edge-esm.js")&&!r.startsWith("internal/")&&!e.methodName.includes("new ")&&!e.methodName.includes("getCallSite")&&!e.methodName.includes("Proxy.")&&e.methodName.split(".").length<4});return t&&t.file?{fileName:t.file,lineNumber:t.lineNumber,columnNumber:t.column}:null}};function aq(e){return"minimal"===e?"function"==typeof $EnabledCallSite&&"minimal"!==e?new $EnabledCallSite:new az:new aM}var aZ={_avg:!0,_count:!0,_sum:!0,_min:!0,_max:!0};function aV(e={}){return Object.entries(function(e={}){return"boolean"==typeof e._count?{...e,_count:{_all:e._count}}:e}(e)).reduce((e,[t,r])=>(void 0!==aZ[t]?e.select[t]={select:r}:e[t]=r,e),{select:{}})}function aF(e={}){return t=>("boolean"==typeof e._count&&(t._count=t._count._all),t)}function aB(e={}){let{select:t,...r}=e;return"object"==typeof t?aV({...r,_count:t}):aV({...r,_count:{_all:!0}})}function aW(e={}){let t=aV(e);if(Array.isArray(t.by))for(let e of t.by)"string"==typeof e&&(t.select[e]=!0);else"string"==typeof t.by&&(t.select[t.by]=!0);return t}var aH=e=>Array.isArray(e)?e:e.split("."),aK=(e,t)=>aH(t).reduce((e,t)=>e&&e[t],e),aG=["findUnique","findUniqueOrThrow","findFirst","findFirstOrThrow","create","update","upsert","delete"],aJ=["aggregate","count","groupBy"];function aQ(e,t){var r,n,i,a;let s,o,l=e._extensions.getAllModelExtensions(t)??{};return aT({},[(r=e,s=iG(n=t),o=Object.keys(n5).concat("count"),{getKeys:()=>o,getPropertyValue(e){var t;let i=t=>i=>{let a=aq(r._errorFormat);return r._createPrismaPromise(o=>{let l={args:i,dataPath:[],action:e,model:n,clientMethod:`${s}.${e}`,jsModelName:s,transaction:o,callsite:a};return r._request({...l,...t})},{action:e,args:i,model:n})};return aG.includes(e)?function e(t,r,n,i,a,s){let o=t._runtimeDataModel.models[r].fields.reduce((e,t)=>({...e,[t.name]:t}),{});return l=>{var u,c;let d,p=aq(t._errorFormat),f=void 0===i||void 0===a?[]:[...a,"select",i],h=void 0===s?l??{}:(d=l||!0,aH(f).reduceRight((e,t,r,n)=>Object.assign({},aK(s,n.slice(0,r)),{[t]:e}),d)),m=n({dataPath:f,callsite:p})(h),g=(u=t,c=r,u._runtimeDataModel.models[c].fields.filter(e=>"object"===e.kind).map(e=>e.name));return new Proxy(m,{get:(r,i)=>g.includes(i)?e(t,o[i].type,n,i,f,h):r[i],...aE([...g,...Object.getOwnPropertyNames(m)])})}}(r,n,i):(t=e,aJ.includes(t))?"aggregate"===e?e=>i({action:"aggregate",unpacker:aF(e),argsMapper:aV})(e):"count"===e?e=>i({action:"count",unpacker:function(e={}){return"object"==typeof e.select?t=>aF(e)(t)._count:t=>aF(e)(t)._count._all}(e),argsMapper:aB})(e):"groupBy"===e?e=>i({action:"groupBy",unpacker:function(e={}){return t=>("boolean"==typeof e?._count&&t.forEach(e=>{e._count=e._count._all}),t)}(e),argsMapper:aW})(e):void 0:i({})}}),(i=e,a=t,ax(a_("fields",()=>{let e,t=i._runtimeDataModel.models[a];return new Proxy({},{get(t,r){if(r in t||"symbol"==typeof r)return t[r];let n=e[r];if(n)return new iR(a,r,n.type,n.isList,"enum"===n.kind)},...aE(Object.keys(e=function(e,t){let r={};for(let n of e)r[n[t]]=n;return r}(t.fields.filter(e=>!e.relationName),"name")))})}))),aw(l),a_("name",()=>t),a_("$name",()=>t),a_("$parent",()=>e._appliedParent)])}var aY=Symbol();function aX(e){var t,r;let n,i,a,s,o=[(n=[...new Set(Object.getOwnPropertyNames(Object.getPrototypeOf((t=e)._originalClient)))],{getKeys:()=>n,getPropertyValue:e=>t[e]}),(a=(i=Object.keys((r=e)._runtimeDataModel.models)).map(iG),s=[...new Set(i.concat(a))],ax({getKeys:()=>s,getPropertyValue(e){let t=e.replace(/^./,e=>e.toUpperCase());return void 0!==r._runtimeDataModel.models[t]?aQ(r,t):void 0!==r._runtimeDataModel.models[e]?aQ(r,e):void 0},getPropertyDescriptor(e){if(!a.includes(e))return{enumerable:!1}}})),a_(aY,()=>e),a_("$parent",()=>e._appliedParent)],l=e._extensions.getAllClientExtensions();return l&&o.push(aw(l)),aT(e,o)}function a0(e){if("function"==typeof e)return e(this);if(e.client?.__AccelerateEngine){let t=e.client.__AccelerateEngine;this._originalClient._engine=new t(this._originalClient._accelerateEngineConfig)}return aX(Object.create(this._originalClient,{_extensions:{value:this._extensions.append(e)},_appliedParent:{value:this,configurable:!0},$on:{value:void 0}}))}function a1({visitor:e,result:t,args:r,runtimeDataModel:n,modelName:i}){if(Array.isArray(t)){for(let a=0;a<t.length;a++)t[a]=a1({result:t[a],args:r,modelName:i,runtimeDataModel:n,visitor:e});return t}let a=e(t,i,r)??t;return r.include&&a4({includeOrSelect:r.include,result:a,parentModelName:i,runtimeDataModel:n,visitor:e}),r.select&&a4({includeOrSelect:r.select,result:a,parentModelName:i,runtimeDataModel:n,visitor:e}),a}function a4({includeOrSelect:e,result:t,parentModelName:r,runtimeDataModel:n,visitor:i}){for(let[a,s]of Object.entries(e)){if(!s||null==t[a]||i2(s))continue;let e=n.models[r].fields.find(e=>e.name===a);if(!e||"object"!==e.kind||!e.relationName)continue;let o="object"==typeof s?s:{};t[a]=a1({visitor:i,result:t[a],args:o,modelName:e.type,runtimeDataModel:n})}}var a6=["$connect","$disconnect","$on","$transaction","$extends"];function a2(e){if("object"!=typeof e||null==e||e instanceof iC||iP(e))return e;if(n2(e))return new n6(e.toFixed());if(rP(e))return new Date(+e);if(ArrayBuffer.isView(e))return e.slice(0);if(Array.isArray(e)){let t=e.length,r;for(r=Array(t);t--;)r[t]=a2(e[t]);return r}if("object"==typeof e){let t={};for(let r in e)"__proto__"===r?Object.defineProperty(t,r,{value:a2(e[r]),configurable:!0,enumerable:!0,writable:!0}):t[r]=a2(e[r]);return t}rl(e,"Unknown value")}var a9=e=>e;function a3(e=a9,t=a9){return r=>e(t(r))}var a5=e_("prisma:client"),a8={Vercel:"vercel","Netlify CI":"netlify"},a7=h(e.r(2157)),se=h(e.r(50227));function st(e){let{runtimeBinaryTarget:t}=e;return`Add "${t}" to \`binaryTargets\` in the "schema.prisma" file and run \`prisma generate\` after saving it:

${function(e){let{generator:t,generatorBinaryTargets:r,runtimeBinaryTarget:n}=e,i=[...r,{fromEnvVar:null,value:n}];return String(new t8({...t,binaryTargets:i}))}(e)}`}function sr(e){let{runtimeBinaryTarget:t}=e;return`Prisma Client could not locate the Query Engine for runtime "${t}".`}function sn(e){let{searchedLocations:t}=e;return`The following locations have been searched:
${[...new Set(t)].map(e=>`  ${e}`).join(`
`)}`}function si(e){return`We would appreciate if you could take the time to share some information with us.
Please help us by answering a few questions: https://pris.ly/${e}`}function sa(e){let{errorStack:t}=e;return t?.match(/\/\.next|\/next@|\/next\//)?`

We detected that you are using Next.js, learn how to fix this: https://pris.ly/d/engine-not-found-nextjs.`:""}var ss=e_("prisma:client:engines:resolveEnginePath");async function so(e,t){let r={binary:process.env.PRISMA_QUERY_ENGINE_BINARY,library:process.env.PRISMA_QUERY_ENGINE_LIBRARY}[e]??t.prismaPath;if(void 0!==r)return r;let{enginePath:n,searchedLocations:i}=await sl(e,t);if(ss("enginePath",n),void 0!==n&&"binary"===e&&function(e){let t=t6.default.statSync(e),r=64|t.mode|9;if(t.mode===r)return t2(`Execution permissions of ${e} are fine`);let n=r.toString(8).slice(-3);t2(`Have to call chmodPlusX on ${e}`),t6.default.chmodSync(e,n)}(n),void 0!==n)return t.prismaPath=n;let a=await e8(),s=t.generator?.binaryTargets??[],o=s.some(e=>e.native),l=!s.some(e=>e.value===a),u=null==="/ROOT/athrd/apps/web/generated/prisma/runtime/library.js".match(RegExp("runtime[\\\\/]library\\.m?js$")),c={searchedLocations:i,generatorBinaryTargets:s,generator:t.generator,runtimeBinaryTarget:a,queryEngineName:su(e,a),expectedLocation:se.default.relative(process.cwd(),t.dirname),errorStack:Error().stack};throw new rk(o&&l?function(e){let{runtimeBinaryTarget:t,generatorBinaryTargets:r}=e,n=r.find(e=>e.native);return`${sr(e)}

This happened because Prisma Client was generated for "${n?.value??"unknown"}", but the actual deployment required "${t}".
${st(e)}

${sn(e)}`}(c):l?function(e){let{runtimeBinaryTarget:t}=e;return`${sr(e)}

This happened because \`binaryTargets\` have been pinned, but the actual deployment also required "${t}".
${st(e)}

${sn(e)}`}(c):u?function(e){let{queryEngineName:t}=e;return`${sr(e)}${sa(e)}

This is likely caused by a bundler that has not copied "${t}" next to the resulting bundle.
Ensure that "${t}" has been copied next to the bundle or in "${e.expectedLocation}".

${si("engine-not-found-bundler-investigation")}

${sn(e)}`}(c):function(e){let{queryEngineName:t}=e;return`${sr(e)}${sa(e)}

This is likely caused by tooling that has not copied "${t}" to the deployment folder.
Ensure that you ran \`prisma generate\` and that "${t}" has been copied to "${e.expectedLocation}".

${si("engine-not-found-tooling-investigation")}

${sn(e)}`}(c),t.clientVersion)}async function sl(e,t){let r=await e8(),n=[],i=[t.dirname,se.default.resolve("/ROOT/athrd/apps/web/generated/prisma/runtime",".."),t.generator?.output?.value??"/ROOT/athrd/apps/web/generated/prisma/runtime",se.default.resolve("/ROOT/athrd/apps/web/generated/prisma/runtime","../../../.prisma/client"),"/tmp/prisma-engines",t.cwd];for(let t of("/ROOT/athrd/apps/web/generated/prisma/runtime/library.js".includes("resolveEnginePath")&&i.push(t4.default.join("/ROOT/athrd/apps/web/generated/prisma/runtime","../")),i)){let i=su(e,r),a=se.default.join(t,i);if(n.push(t),a7.default.existsSync(a))return{enginePath:a,searchedLocations:n}}return{enginePath:void 0,searchedLocations:n}}function su(e,t){return"library"===e?t.includes("windows")?`query_engine-${t}.dll.node`:t.includes("darwin")?`${ek}-${t}.dylib.node`:`${ek}-${t}.so.node`:`query-engine-${t}${"windows"===t?".exe":""}`}var sc=h($());function sd(e){return null===e?e:Array.isArray(e)?e.map(sd):"object"==typeof e?null!==e&&"object"==typeof e&&"string"==typeof e.$type?function({$type:e,value:t}){switch(e){case"BigInt":return BigInt(t);case"Bytes":{let{buffer:e,byteOffset:r,byteLength:n}=Buffer.from(t,"base64");return new Uint8Array(e,r,n)}case"DateTime":return new Date(t);case"Decimal":return new n4(t);case"Json":return JSON.parse(t);default:throw Error("Unknown tagged value")}}(e):null!==e.constructor&&"Object"!==e.constructor.name?e:function(e,t){let r={};for(let n of Object.keys(e))r[n]=t(e[n],n);return r}(e,sd):e}var sp=()=>globalThis.process?.release?.name==="node",sf=()=>!!globalThis.Bun||!!globalThis.process?.versions?.bun,sh=()=>!!globalThis.Deno,sm=()=>"object"==typeof globalThis.Netlify,sg=()=>"object"==typeof globalThis.EdgeRuntime,sy=()=>globalThis.navigator?.userAgent==="Cloudflare-Workers",sv={node:"Node.js",workerd:"Cloudflare Workers",deno:"Deno and Deno Deploy",netlify:"Netlify Edge Functions","edge-light":"Edge Runtime (Vercel Edge Functions, Vercel Edge Middleware, Next.js (Pages Router) Edge API Routes, Next.js (App Router) Edge Route Handlers or Next.js Middleware)"};function sb(){let e=[[sm,"netlify"],[sg,"edge-light"],[sy,"workerd"],[sh,"deno"],[sf,"bun"],[sp,"node"]].flatMap(e=>e[0]()?[e[1]]:[]).at(0)??"";return{id:e,prettyName:sv[e]||e,isEdge:["workerd","deno","netlify","edge-light"].includes(e)}}function sw({inlineDatasources:e,overrideDatasources:t,env:r,clientVersion:n}){let i,a=Object.keys(e)[0],s=e[a]?.url,o=t[a]?.url;if(void 0===a?i=void 0:o?i=o:s?.value?i=s.value:s?.fromEnvVar&&(i=r[s.fromEnvVar]),s?.fromEnvVar!==void 0&&void 0===i)throw new rk(`error: Environment variable not found: ${s.fromEnvVar}.`,n);if(void 0===i)throw new rk("error: Missing URL environment variable, value, or override.",n);return i}var s_=class extends Error{clientVersion;cause;constructor(e,t){super(e),this.clientVersion=t.clientVersion,this.cause=t.cause}get[Symbol.toStringTag](){return this.name}},sx=class extends s_{isRetryable;constructor(e,t){super(e,t),this.isRetryable=t.isRetryable??!0}};function sk(e,t){return{...e,isRetryable:t}}var sE=class extends sx{name="InvalidDatasourceError";code="P6001";constructor(e,t){super(e,sk(t,!1))}};rw(sE,"InvalidDatasourceError");var s$=h(w()),sT=class{apiKey;tracingHelper;logLevel;logQueries;engineHash;constructor({apiKey:e,tracingHelper:t,logLevel:r,logQueries:n,engineHash:i}){this.apiKey=e,this.tracingHelper=t,this.logLevel=r,this.logQueries=n,this.engineHash=i}build({traceparent:e,transactionId:t}={}){let r={Accept:"application/json",Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json","Prisma-Engine-Hash":this.engineHash,"Prisma-Engine-Version":s$.enginesVersion};this.tracingHelper.isEnabled()&&(r.traceparent=e??this.tracingHelper.getTraceParent()),t&&(r["X-Transaction-Id"]=t);let n=this.#e();return n.length>0&&(r["X-Capture-Telemetry"]=n.join(", ")),r}#e(){let e=[];return this.tracingHelper.isEnabled()&&e.push("tracing"),this.logLevel&&e.push(this.logLevel),this.logQueries&&e.push("query"),e}};function sS(e){return new Date(1e3*e[0]+e[1]/1e6)}var sI=class extends sx{name="ForcedRetryError";code="P5001";constructor(e){super("This request must be retried",sk(e,!0))}};rw(sI,"ForcedRetryError");var sA=class extends sx{name="NotImplementedYetError";code="P5004";constructor(e,t){super(e,sk(t,!1))}};rw(sA,"NotImplementedYetError");var sO=class extends sx{response;constructor(e,t){super(e,t),this.response=t.response;let r=this.response.headers.get("prisma-request-id");if(r){let e=`(The request id was: ${r})`;this.message=this.message+" "+e}}},sN=class extends sO{name="SchemaMissingError";code="P5005";constructor(e){super("Schema needs to be uploaded",sk(e,!0))}};rw(sN,"SchemaMissingError");var sR="This request could not be understood by the server",sP=class extends sO{name="BadRequestError";code="P5000";constructor(e,t,r){super(t||sR,sk(e,!1)),r&&(this.code=r)}};rw(sP,"BadRequestError");var sU=class extends sO{name="HealthcheckTimeoutError";code="P5013";logs;constructor(e,t){super("Engine not started: healthcheck timeout",sk(e,!0)),this.logs=t}};rw(sU,"HealthcheckTimeoutError");var sD=class extends sO{name="EngineStartupError";code="P5014";logs;constructor(e,t,r){super(t,sk(e,!0)),this.logs=r}};rw(sD,"EngineStartupError");var sC=class extends sO{name="EngineVersionNotSupportedError";code="P5012";constructor(e){super("Engine version is not supported",sk(e,!1))}};rw(sC,"EngineVersionNotSupportedError");var sj="Request timed out",sL=class extends sO{name="GatewayTimeoutError";code="P5009";constructor(e,t=sj){super(t,sk(e,!1))}};rw(sL,"GatewayTimeoutError");var sz=class extends sO{name="InteractiveTransactionError";code="P5015";constructor(e,t="Interactive transaction error"){super(t,sk(e,!1))}};rw(sz,"InteractiveTransactionError");var sM=class extends sO{name="InvalidRequestError";code="P5011";constructor(e,t="Request parameters are invalid"){super(t,sk(e,!1))}};rw(sM,"InvalidRequestError");var sq="Requested resource does not exist",sZ=class extends sO{name="NotFoundError";code="P5003";constructor(e,t=sq){super(t,sk(e,!1))}};rw(sZ,"NotFoundError");var sV="Unknown server error",sF=class extends sO{name="ServerError";code="P5006";logs;constructor(e,t,r){super(t||sV,sk(e,!0)),this.logs=r}};rw(sF,"ServerError");var sB="Unauthorized, check your connection string",sW=class extends sO{name="UnauthorizedError";code="P5007";constructor(e,t=sB){super(t,sk(e,!1))}};rw(sW,"UnauthorizedError");var sH="Usage exceeded, retry again later",sK=class extends sO{name="UsageExceededError";code="P5008";constructor(e,t=sH){super(t,sk(e,!0))}};async function sG(e){let t;try{t=await e.text()}catch{return{type:"EmptyError"}}try{let e=JSON.parse(t);if("string"==typeof e)if("InternalDataProxyError"===e)return{type:"DataProxyError",body:e};else return{type:"UnknownTextError",body:e};if("object"==typeof e&&null!==e){if("is_panic"in e&&"message"in e&&"error_code"in e)return{type:"QueryEngineError",body:e};if("EngineNotStarted"in e||"InteractiveTransactionMisrouted"in e||"InvalidRequestError"in e){let t=Object.values(e)[0].reason;return"string"!=typeof t||["SchemaMissing","EngineVersionNotSupported"].includes(t)?{type:"DataProxyError",body:e}:{type:"UnknownJsonError",body:e}}}return{type:"UnknownJsonError",body:e}}catch{return""===t?{type:"EmptyError"}:{type:"UnknownTextError",body:t}}}async function sJ(e,t){if(e.ok)return;let r={clientVersion:t,response:e},n=await sG(e);if("QueryEngineError"===n.type)throw new rE(n.body.message,{code:n.body.error_code,clientVersion:t});if("DataProxyError"===n.type){if("InternalDataProxyError"===n.body)throw new sF(r,"Internal Data Proxy error");if("EngineNotStarted"in n.body){if("SchemaMissing"===n.body.EngineNotStarted.reason)return new sN(r);if("EngineVersionNotSupported"===n.body.EngineNotStarted.reason)throw new sC(r);if("EngineStartupError"in n.body.EngineNotStarted.reason){let{msg:e,logs:t}=n.body.EngineNotStarted.reason.EngineStartupError;throw new sD(r,e,t)}if("KnownEngineStartupError"in n.body.EngineNotStarted.reason){let{msg:e,error_code:r}=n.body.EngineNotStarted.reason.KnownEngineStartupError;throw new rk(e,t,r)}if("HealthcheckTimeout"in n.body.EngineNotStarted.reason){let{logs:e}=n.body.EngineNotStarted.reason.HealthcheckTimeout;throw new sU(r,e)}}if("InteractiveTransactionMisrouted"in n.body)throw new sz(r,{IDParseError:"Could not parse interactive transaction ID",NoQueryEngineFoundError:"Could not find Query Engine for the specified host and transaction ID",TransactionStartError:"Could not start interactive transaction"}[n.body.InteractiveTransactionMisrouted.reason]);if("InvalidRequestError"in n.body)throw new sM(r,n.body.InvalidRequestError.reason)}if(401===e.status||403===e.status)throw new sW(r,sQ(sB,n));if(404===e.status)return new sZ(r,sQ(sq,n));if(429===e.status)throw new sK(r,sQ(sH,n));if(504===e.status)throw new sL(r,sQ(sj,n));if(e.status>=500)throw new sF(r,sQ(sV,n));if(e.status>=400)throw new sP(r,sQ(sR,n))}function sQ(e,t){return"EmptyError"===t.type?e:`${e}: ${JSON.stringify(t)}`}rw(sK,"UsageExceededError");var sY="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",sX=class extends sx{name="RequestError";code="P5010";constructor(e,t){super(`Cannot fetch data from service:
${e}`,sk(t,!0))}};async function s0(e,t,r=e=>e){let{clientVersion:n,...i}=t,a=r(fetch);try{return await a(e,i)}catch(e){throw new sX(e.message??"Unknown error",{clientVersion:n,cause:e})}}rw(sX,"RequestError");var s1=/^[1-9][0-9]*\.[0-9]+\.[0-9]+$/,s4=e_("prisma:client:dataproxyEngine");async function s6(e,t){let r=t.clientVersion??"unknown";if(process.env.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION||globalThis.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION)return process.env.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION||globalThis.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION;if(e.includes("accelerate")&&"0.0.0"!==r&&"in-memory"!==r)return r;let[n,i]=r?.split("-")??[];if(void 0===i&&s1.test(n))return n;if(void 0!==i||"0.0.0"===r||"in-memory"===r){var a;let e,[t]="6.19.0-26.2ba551f319ab1df4bc874a89965d8b3641056773".split("-")??[],[n,i,s]=t.split("."),o=(a=`<=${n}.${i}.${s}`,encodeURI(`https://unpkg.com/prisma@${a}/package.json`)),l=await s0(o,{clientVersion:r});if(!l.ok)throw Error(`Failed to fetch stable Prisma version, unpkg.com status ${l.status} ${l.statusText}, response body: ${await l.text()||"<empty body>"}`);let u=await l.text();s4("length of body fetched from unpkg.com",u.length);try{e=JSON.parse(u)}catch(e){throw console.error("JSON.parse error: body fetched from unpkg.com: ",u),e}return e.version}throw new sA("Only `major.minor.patch` versions are supported by Accelerate.",{clientVersion:r})}async function s2(e,t){let r=await s6(e,t);return s4("version",r),r}var s9,s3=e_("prisma:client:dataproxyEngine"),s5=class{name="DataProxyEngine";inlineSchema;inlineSchemaHash;inlineDatasources;config;logEmitter;env;clientVersion;engineHash;tracingHelper;remoteClientVersion;host;headerBuilder;startPromise;protocol;constructor(e){(function(e){if(e.generator?.previewFeatures.some(e=>e.toLowerCase().includes("metrics")))throw new rk("The `metrics` preview feature is not yet available with Accelerate.\nPlease remove `metrics` from the `previewFeatures` in your schema.\n\nMore information about Accelerate: https://pris.ly/d/accelerate",e.clientVersion)})(e),this.config=e,this.env=e.env,this.inlineSchema=function(e){let t=new TextEncoder().encode(e),r="",n=t.byteLength,i=n%3,a=n-i,s,o,l,u,c;for(let e=0;e<a;e+=3)s=(0xfc0000&(c=t[e]<<16|t[e+1]<<8|t[e+2]))>>18,o=(258048&c)>>12,l=(4032&c)>>6,u=63&c,r+=sY[s]+sY[o]+sY[l]+sY[u];return 1==i?(s=(252&(c=t[a]))>>2,o=(3&c)<<4,r+=sY[s]+sY[o]+"=="):2==i&&(s=(64512&(c=t[a]<<8|t[a+1]))>>10,o=(1008&c)>>4,l=(15&c)<<2,r+=sY[s]+sY[o]+sY[l]+"="),r}(e.inlineSchema),this.inlineDatasources=e.inlineDatasources,this.inlineSchemaHash=e.inlineSchemaHash,this.clientVersion=e.clientVersion,this.engineHash=e.engineVersion,this.logEmitter=e.logEmitter,this.tracingHelper=e.tracingHelper}apiKey(){return this.headerBuilder.apiKey}version(){return this.engineHash}async start(){void 0!==this.startPromise&&await this.startPromise,this.startPromise=(async()=>{let{apiKey:e,url:t}=this.getURLAndAPIKey();this.host=t.host,this.protocol=t.protocol,this.headerBuilder=new sT({apiKey:e,tracingHelper:this.tracingHelper,logLevel:this.config.logLevel??"error",logQueries:this.config.logQueries,engineHash:this.engineHash}),this.remoteClientVersion=await s2(this.host,this.config),s3("host",this.host),s3("protocol",this.protocol)})(),await this.startPromise}async stop(){}propagateResponseExtensions(e){e?.logs?.length&&e.logs.forEach(e=>{switch(e.level){case"debug":case"trace":s3(e);break;case"error":case"warn":case"info":this.logEmitter.emit(e.level,{timestamp:sS(e.timestamp),message:e.attributes.message??"",target:e.target??"BinaryEngine"});break;case"query":this.logEmitter.emit("query",{query:e.attributes.query??"",timestamp:sS(e.timestamp),duration:e.attributes.duration_ms??0,params:e.attributes.params??"",target:e.target??"BinaryEngine"});break;default:e.level}}),e?.traces?.length&&this.tracingHelper.dispatchEngineSpans(e.traces)}onBeforeExit(){throw Error('"beforeExit" hook is not applicable to the remote query engine')}async url(e){return await this.start(),`${this.protocol}//${this.host}/${this.remoteClientVersion}/${this.inlineSchemaHash}/${e}`}async uploadSchema(){return this.tracingHelper.runInChildSpan({name:"schemaUpload",internal:!0},async()=>{let e=await s0(await this.url("schema"),{method:"PUT",headers:this.headerBuilder.build(),body:this.inlineSchema,clientVersion:this.clientVersion});e.ok||s3("schema response status",e.status);let t=await sJ(e,this.clientVersion);if(t)throw this.logEmitter.emit("warn",{message:`Error while uploading schema: ${t.message}`,timestamp:new Date,target:""}),t;this.logEmitter.emit("info",{message:`Schema (re)uploaded (hash: ${this.inlineSchemaHash})`,timestamp:new Date,target:""})})}request(e,{traceparent:t,interactiveTransaction:r,customDataProxyFetch:n}){return this.requestInternal({body:e,traceparent:t,interactiveTransaction:r,customDataProxyFetch:n})}async requestBatch(e,{traceparent:t,transaction:r,customDataProxyFetch:n}){let i=r?.kind==="itx"?r.options:void 0,a=aA(e,r);return(await this.requestInternal({body:a,customDataProxyFetch:n,interactiveTransaction:i,traceparent:t})).map(e=>(e.extensions&&this.propagateResponseExtensions(e.extensions),"errors"in e?this.convertProtocolErrorsToClientError(e.errors):e))}requestInternal({body:e,traceparent:t,customDataProxyFetch:r,interactiveTransaction:n}){return this.withRetry({actionGerund:"querying",callback:async({logHttpCall:i})=>{let a=n?`${n.payload.endpoint}/graphql`:await this.url("graphql");i(a);let s=await s0(a,{method:"POST",headers:this.headerBuilder.build({traceparent:t,transactionId:n?.id}),body:JSON.stringify(e),clientVersion:this.clientVersion},r);s.ok||s3("graphql response status",s.status),await this.handleError(await sJ(s,this.clientVersion));let o=await s.json();if(o.extensions&&this.propagateResponseExtensions(o.extensions),"errors"in o)throw this.convertProtocolErrorsToClientError(o.errors);return"batchResult"in o?o.batchResult:o}})}async transaction(e,t,r){return this.withRetry({actionGerund:`${{start:"starting",commit:"committing",rollback:"rolling back"}[e]} transaction`,callback:async({logHttpCall:n})=>{if("start"===e){let e=JSON.stringify({max_wait:r.maxWait,timeout:r.timeout,isolation_level:r.isolationLevel}),i=await this.url("transaction/start");n(i);let a=await s0(i,{method:"POST",headers:this.headerBuilder.build({traceparent:t.traceparent}),body:e,clientVersion:this.clientVersion});await this.handleError(await sJ(a,this.clientVersion));let s=await a.json(),{extensions:o}=s;return o&&this.propagateResponseExtensions(o),{id:s.id,payload:{endpoint:s["data-proxy"].endpoint}}}{let i=`${r.payload.endpoint}/${e}`;n(i);let a=await s0(i,{method:"POST",headers:this.headerBuilder.build({traceparent:t.traceparent}),clientVersion:this.clientVersion});await this.handleError(await sJ(a,this.clientVersion));let{extensions:s}=await a.json();s&&this.propagateResponseExtensions(s);return}}})}getURLAndAPIKey(){return function(e){let t={clientVersion:e.clientVersion},r=Object.keys(e.inlineDatasources)[0],n=sw({inlineDatasources:e.inlineDatasources,overrideDatasources:e.overrideDatasources,clientVersion:e.clientVersion,env:{...e.env,..."u">typeof process?process.env:{}}}),i;try{i=new URL(n)}catch{throw new sE(`Error validating datasource \`${r}\`: the URL must start with the protocol \`prisma://\``,t)}let{protocol:a,searchParams:s}=i;if("prisma:"!==a&&a!==t9)throw new sE(`Error validating datasource \`${r}\`: the URL must start with the protocol \`prisma://\` or \`prisma+postgres://\``,t);let o=s.get("api_key");if(null===o||o.length<1)throw new sE(`Error validating datasource \`${r}\`: the URL must contain a valid API key`,t);let l=!function(e){if(!t3(e))return!1;let{host:t}=new URL(e);return t.includes("localhost")||t.includes("127.0.0.1")||t.includes("[::1]")}(i)?"https:":"http:";return process.env.TEST_CLIENT_ENGINE_REMOTE_EXECUTOR&&i.searchParams.has("use_http")&&(l="http:"),{apiKey:o,url:new URL(i.href.replace(a,l))}}({clientVersion:this.clientVersion,env:this.env,inlineDatasources:this.inlineDatasources,overrideDatasources:this.config.overrideDatasources})}metrics(){throw new sA("Metrics are not yet supported for Accelerate",{clientVersion:this.clientVersion})}async withRetry(e){for(let t=0;;t++){let r=e=>{this.logEmitter.emit("info",{message:`Calling ${e} (n=${t})`,timestamp:new Date,target:""})};try{return await e.callback({logHttpCall:r})}catch(n){if(!(n instanceof sx)||!n.isRetryable)throw n;if(t>=3)throw n instanceof sI?n.cause:n;this.logEmitter.emit("warn",{message:`Attempt ${t+1}/3 failed for ${e.actionGerund}: ${n.message??"(unknown)"}`,timestamp:new Date,target:""});let r=await function(e){let t=50*Math.pow(2,e),r=Math.ceil(Math.random()*t)-Math.ceil(t/2),n=t+r;return new Promise(e=>setTimeout(()=>e(n),n))}(t);this.logEmitter.emit("warn",{message:`Retrying after ${r}ms`,timestamp:new Date,target:""})}}}async handleError(e){if(e instanceof sN)throw await this.uploadSchema(),new sI({clientVersion:this.clientVersion,cause:e});if(e)throw e}convertProtocolErrorsToClientError(e){return 1===e.length?aO(e[0],this.config.clientVersion,this.config.activeProvider):new rT(JSON.stringify(e),{clientVersion:this.config.clientVersion})}applyPendingMigrations(){throw Error("Method not implemented.")}},s8=h(e.r(60526)),s7=h(e.r(50227)),oe=Symbol("PrismaLibraryEngineCache"),ot={async loadLibrary(e){let t=await e7(),r=await so("library",e);try{return e.tracingHelper.runInChildSpan({name:"loadLibrary",internal:!0},()=>(function(e){let t,r=(void 0===(t=globalThis)[oe]&&(t[oe]={}),t[oe]);if(void 0!==r[e])return r[e];let n=s7.default.toNamespacedPath(e),i={exports:{}},a=0;return"win32"!==process.platform&&(a=s8.default.constants.dlopen.RTLD_LAZY|s8.default.constants.dlopen.RTLD_DEEPBIND),process.dlopen(i,n,a),r[e]=i.exports,i.exports})(r))}catch(c){var n;let i,a,s,o,l,u;throw new rk((i=(n={e:c,platformInfo:t,id:r}).e,a=e=>`Prisma cannot find the required \`${e}\` system library in your system`,s=i.message.includes("cannot open shared object file"),o=`Please refer to the documentation about Prisma's system requirements: ${tB("https://pris.ly/d/system-requirements","https://pris.ly/d/system-requirements",{fallback:H})}`,l=`Unable to require(\`${B(n.id)}\`).`,u=eH({message:i.message,code:i.code}).with({code:"ENOENT"},()=>"File does not exist.").when(({message:e})=>s&&e.includes("libz"),()=>`${a("libz")}. Please install it and try again.`).when(({message:e})=>s&&e.includes("libgcc_s"),()=>`${a("libgcc_s")}. Please install it and try again.`).when(({message:e})=>s&&e.includes("libssl"),()=>{let e=n.platformInfo.libssl?`openssl-${n.platformInfo.libssl}`:"openssl";return`${a("libssl")}. Please install ${e} and try again.`}).when(({message:e})=>e.includes("GLIBC"),()=>`Prisma has detected an incompatible version of the \`glibc\` C standard library installed in your system. This probably means your system may be too old to run Prisma. ${o}`).when(({message:e})=>"linux"===n.platformInfo.platform&&e.includes("symbol not found"),()=>`The Prisma engines are not compatible with your system ${n.platformInfo.originalDistro} on (${n.platformInfo.archFromUname}) which uses the \`${n.platformInfo.binaryTarget}\` binaryTarget by default. ${o}`).otherwise(()=>`The Prisma engines do not seem to be compatible with your system. ${o}`),`${l}
${u}

Details: ${i.message}`),e.clientVersion)}}},or={async loadLibrary(e){let{clientVersion:t,adapter:r,engineWasm:n}=e;if(void 0===r)throw new rk(`The \`adapter\` option for \`PrismaClient\` is required in this context (${sb().prettyName})`,t);if(void 0===n)throw new rk("WASM engine was unexpectedly `undefined`",t);return void 0===s9&&(s9=(async()=>{let e=await n.getRuntime(),r=await n.getQueryEngineWasmModule();if(null==r)throw new rk("The loaded wasm module was unexpectedly `undefined` or `null` once loaded",t);let i=new WebAssembly.Instance(r,{"./query_engine_bg.js":e}),a=i.exports.__wbindgen_start;return e.__wbg_set_wasm(i.exports),a(),e.QueryEngine})()),{debugPanic:()=>Promise.reject("{}"),dmmf:()=>Promise.resolve("{}"),version:()=>({commit:"unknown",version:"unknown"}),QueryEngine:await s9}}},on=e_("prisma:client:libraryEngine"),oi=["darwin","darwin-arm64","debian-openssl-1.0.x","debian-openssl-1.1.x","debian-openssl-3.0.x","rhel-openssl-1.0.x","rhel-openssl-1.1.x","rhel-openssl-3.0.x","linux-arm64-openssl-1.1.x","linux-arm64-openssl-1.0.x","linux-arm64-openssl-3.0.x","linux-arm-openssl-1.1.x","linux-arm-openssl-1.0.x","linux-arm-openssl-3.0.x","linux-musl","linux-musl-openssl-3.0.x","linux-musl-arm64-openssl-1.1.x","linux-musl-arm64-openssl-3.0.x","linux-nixos","linux-static-x64","linux-static-arm64","windows","freebsd11","freebsd12","freebsd13","freebsd14","freebsd15","openbsd","netbsd","arm","native"],oa=1n,os=class{name="LibraryEngine";engine;libraryInstantiationPromise;libraryStartingPromise;libraryStoppingPromise;libraryStarted;executingQueryPromise;config;QueryEngineConstructor;libraryLoader;library;logEmitter;libQueryEnginePath;binaryTarget;datasourceOverrides;datamodel;logQueries;logLevel;lastQuery;loggerRustPanic;tracingHelper;adapterPromise;versionInfo;constructor(e,t){this.libraryLoader=t??ot,void 0!==e.engineWasm&&(this.libraryLoader=t??or),this.config=e,this.libraryStarted=!1,this.logQueries=e.logQueries??!1,this.logLevel=e.logLevel??"error",this.logEmitter=e.logEmitter,this.datamodel=e.inlineSchema,this.tracingHelper=e.tracingHelper,e.enableDebugLogs&&(this.logLevel="debug");let r=Object.keys(e.overrideDatasources)[0],n=e.overrideDatasources[r]?.url;void 0!==r&&void 0!==n&&(this.datasourceOverrides={[r]:n}),this.libraryInstantiationPromise=this.instantiateLibrary()}wrapEngine(e){return{applyPendingMigrations:e.applyPendingMigrations?.bind(e),commitTransaction:this.withRequestId(e.commitTransaction.bind(e)),connect:this.withRequestId(e.connect.bind(e)),disconnect:this.withRequestId(e.disconnect.bind(e)),metrics:e.metrics?.bind(e),query:this.withRequestId(e.query.bind(e)),rollbackTransaction:this.withRequestId(e.rollbackTransaction.bind(e)),sdlSchema:e.sdlSchema?.bind(e),startTransaction:this.withRequestId(e.startTransaction.bind(e)),trace:e.trace.bind(e),free:e.free?.bind(e)}}withRequestId(e){return async(...t)=>{let r,n=(r=oa++,oa>0xffffffffffffffffn&&(oa=1n),r).toString();try{return await e(...t,n)}finally{if(this.tracingHelper.isEnabled()){let e=await this.engine?.trace(n);if(e){let t=JSON.parse(e);this.tracingHelper.dispatchEngineSpans(t.spans)}}}}}async applyPendingMigrations(){throw Error("Cannot call this method from this type of engine instance")}async transaction(e,t,r){var n;await this.start();let i=await this.adapterPromise,a=JSON.stringify(t),s;if("start"===e){let e=JSON.stringify({max_wait:r.maxWait,timeout:r.timeout,isolation_level:r.isolationLevel});s=await this.engine?.startTransaction(e,a)}else"commit"===e?s=await this.engine?.commitTransaction(r.id,a):"rollback"===e&&(s=await this.engine?.rollbackTransaction(r.id,a));let o=this.parseEngineResponse(s);if("object"==typeof(n=o)&&null!==n&&void 0!==n.error_code){let e=this.getExternalAdapterError(o,i?.errorRegistry);throw e?e.error:new rE(o.message,{code:o.error_code,clientVersion:this.config.clientVersion,meta:o.meta})}if("string"==typeof o.message)throw new rT(o.message,{clientVersion:this.config.clientVersion});return o}async instantiateLibrary(){let e;if(on("internalSetup"),this.libraryInstantiationPromise)return this.libraryInstantiationPromise;(e=process.env.PRISMA_QUERY_ENGINE_LIBRARY)&&ex.default.existsSync(e)||process.arch,this.binaryTarget=await this.getCurrentBinaryTarget(),await this.tracingHelper.runInChildSpan("load_engine",()=>this.loadEngine()),this.version()}async getCurrentBinaryTarget(){{if(this.binaryTarget)return this.binaryTarget;let e=await this.tracingHelper.runInChildSpan("detect_platform",()=>e8());if(!oi.includes(e))throw new rk(`Unknown ${Y("PRISMA_QUERY_ENGINE_LIBRARY")} ${Y(F(e))}. Possible binaryTargets: ${X(oi.join(", "))} or a path to the query engine library.
You may have to run ${X("prisma generate")} for your changes to take effect.`,this.config.clientVersion);return e}}parseEngineResponse(e){if(!e)throw new rT("Response from the Engine was empty",{clientVersion:this.config.clientVersion});try{return JSON.parse(e)}catch{throw new rT("Unable to JSON.parse response from engine",{clientVersion:this.config.clientVersion})}}async loadEngine(){if(!this.engine){this.QueryEngineConstructor||(this.library=await this.libraryLoader.loadLibrary(this.config),this.QueryEngineConstructor=this.library.QueryEngine);try{let e=new WeakRef(this);this.adapterPromise||(this.adapterPromise=this.config.adapter?.connect()?.then(tX));let t=await this.adapterPromise;t&&on("Using driver adapter: %O",t),this.engine=this.wrapEngine(new this.QueryEngineConstructor({datamodel:this.datamodel,env:process.env,logQueries:this.config.logQueries??!1,ignoreEnvVarErrors:!0,datasourceOverrides:this.datasourceOverrides??{},logLevel:this.logLevel,configDir:this.config.cwd,engineProtocol:"json",enableTracing:this.tracingHelper.isEnabled()},t=>{e.deref()?.logger(t)},t))}catch(t){let e=this.parseInitError(t.message);throw"string"==typeof e?t:new rk(e.message,this.config.clientVersion,e.error_code)}}}logger(e){let t=this.parseEngineResponse(e);t&&(t.level=t?.level.toLowerCase()??"unknown","query"===t.item_type&&"query"in t?this.logEmitter.emit("query",{timestamp:new Date,query:t.query,params:t.params,duration:Number(t.duration_ms),target:t.module_path}):"level"in t&&"error"===t.level&&"PANIC"===t.message?this.loggerRustPanic=new r$(oo(this,`${t.message}: ${t.reason} in ${t.file}:${t.line}:${t.column}`),this.config.clientVersion):this.logEmitter.emit(t.level,{timestamp:new Date,message:t.message,target:t.module_path}))}parseInitError(e){try{return JSON.parse(e)}catch{}return e}parseRequestError(e){try{return JSON.parse(e)}catch{}return e}onBeforeExit(){throw Error('"beforeExit" hook is not applicable to the library engine since Prisma 5.0.0, it is only relevant and implemented for the binary engine. Please add your event listener to the `process` object directly instead.')}async start(){if(this.libraryInstantiationPromise||(this.libraryInstantiationPromise=this.instantiateLibrary()),await this.libraryInstantiationPromise,await this.libraryStoppingPromise,this.libraryStartingPromise)return on(`library already starting, this.libraryStarted: ${this.libraryStarted}`),this.libraryStartingPromise;if(this.libraryStarted)return;let e=async()=>{on("library starting");try{let e={traceparent:this.tracingHelper.getTraceParent()};await this.engine?.connect(JSON.stringify(e)),this.libraryStarted=!0,this.adapterPromise||(this.adapterPromise=this.config.adapter?.connect()?.then(tX)),await this.adapterPromise,on("library started")}catch(t){let e=this.parseInitError(t.message);throw"string"==typeof e?t:new rk(e.message,this.config.clientVersion,e.error_code)}finally{this.libraryStartingPromise=void 0}};return this.libraryStartingPromise=this.tracingHelper.runInChildSpan("connect",e),this.libraryStartingPromise}async stop(){if(await this.libraryInstantiationPromise,await this.libraryStartingPromise,await this.executingQueryPromise,this.libraryStoppingPromise)return on("library is already stopping"),this.libraryStoppingPromise;if(!this.libraryStarted){await (await this.adapterPromise)?.dispose(),this.adapterPromise=void 0;return}let e=async()=>{await new Promise(e=>setImmediate(e)),on("library stopping");let e={traceparent:this.tracingHelper.getTraceParent()};await this.engine?.disconnect(JSON.stringify(e)),this.engine?.free&&this.engine.free(),this.engine=void 0,this.libraryStarted=!1,this.libraryStoppingPromise=void 0,this.libraryInstantiationPromise=void 0,await (await this.adapterPromise)?.dispose(),this.adapterPromise=void 0,on("library stopped")};return this.libraryStoppingPromise=this.tracingHelper.runInChildSpan("disconnect",e),this.libraryStoppingPromise}version(){return this.versionInfo=this.library?.version(),this.versionInfo?.version??"unknown"}debugPanic(e){return this.library?.debugPanic(e)}async request(e,{traceparent:t,interactiveTransaction:r}){on(`sending request, this.libraryStarted: ${this.libraryStarted}`);let n=JSON.stringify({traceparent:t}),i=JSON.stringify(e);try{await this.start();let e=await this.adapterPromise;this.executingQueryPromise=this.engine?.query(i,n,r?.id),this.lastQuery=i;let t=this.parseEngineResponse(await this.executingQueryPromise);if(t.errors)throw 1===t.errors.length?this.buildQueryError(t.errors[0],e?.errorRegistry):new rT(JSON.stringify(t.errors),{clientVersion:this.config.clientVersion});if(this.loggerRustPanic)throw this.loggerRustPanic;return{data:t}}catch(t){if(t instanceof rk)throw t;if("GenericFailure"===t.code&&t.message?.startsWith("PANIC:"))throw new r$(oo(this,t.message),this.config.clientVersion);let e=this.parseRequestError(t.message);throw"string"==typeof e?t:new rT(`${e.message}
${e.backtrace}`,{clientVersion:this.config.clientVersion})}}async requestBatch(e,{transaction:t,traceparent:r}){on("requestBatch");let n=aA(e,t);await this.start();let i=await this.adapterPromise;this.lastQuery=JSON.stringify(n),this.executingQueryPromise=this.engine?.query(this.lastQuery,JSON.stringify({traceparent:r}),function(e){if(e?.kind==="itx")return e.options.id}(t));let a=await this.executingQueryPromise,s=this.parseEngineResponse(a);if(s.errors)throw 1===s.errors.length?this.buildQueryError(s.errors[0],i?.errorRegistry):new rT(JSON.stringify(s.errors),{clientVersion:this.config.clientVersion});let{batchResult:o,errors:l}=s;if(Array.isArray(o))return o.map(e=>e.errors&&e.errors.length>0?this.loggerRustPanic??this.buildQueryError(e.errors[0],i?.errorRegistry):{data:e});throw l&&1===l.length?Error(l[0].error):Error(JSON.stringify(s))}buildQueryError(e,t){if(e.user_facing_error.is_panic)return new r$(oo(this,e.user_facing_error.message),this.config.clientVersion);let r=this.getExternalAdapterError(e.user_facing_error,t);return r?r.error:aO(e,this.config.clientVersion,this.config.activeProvider)}getExternalAdapterError(e,t){if("P2036"===e.error_code&&t){let r=e.meta?.id;ro("number"==typeof r,"Malformed external JS error received from the engine");let n=t.consumeError(r);return ro(n,"External error with reported id was not registered"),n}}async metrics(e){await this.start();let t=await this.engine.metrics(JSON.stringify(e));return"prometheus"===e.format?t:this.parseEngineResponse(t)}};function oo(e,t){return function({version:e,binaryTarget:t,title:r,description:n,engineVersion:i,database:a,query:s}){var o;let l=rc(function(e=7500){let t=eg.map(([e,...t])=>`${e} ${t.map(e=>"string"==typeof e?e:JSON.stringify(e)).join(" ")}`).join(`
`);return t.length<e?t:t.slice(-e)}(6e3-(s?.length??0))).split(`
`).map(e=>e.replace(/^\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)\s*/,"").replace(/\+\d+\s*ms$/,"")).join(`
`),u=n?`# Description
\`\`\`
${n}
\`\`\``:"",c=function({title:e,user:t="prisma",repo:r="prisma",template:n="bug_report.yml",body:i}){return(0,sc.default)({user:t,repo:r,template:n,title:e,body:i})}({title:r,body:rc(`Hi Prisma Team! My Prisma Client just crashed. This is the report:
## Versions

| Name            | Version            |
|-----------------|--------------------|
| Node            | ${process.version?.padEnd(19)}| 
| OS              | ${t?.padEnd(19)}|
| Prisma Client   | ${e?.padEnd(19)}|
| Query Engine    | ${i?.padEnd(19)}|
| Database        | ${a?.padEnd(19)}|

${u}

## Logs
\`\`\`
${l}
\`\`\`

## Client Snippet
\`\`\`ts
// PLEASE FILL YOUR CODE SNIPPET HERE
\`\`\`

## Schema
\`\`\`prisma
// PLEASE ADD YOUR SCHEMA HERE IF POSSIBLE
\`\`\`

## Prisma Engine Query
\`\`\`
${s&&(o=s)?o.replace(/".*"/g,'"X"').replace(/[\s:\[]([+-]?([0-9]*[.])?[0-9]+)/g,e=>`${e[0]}5`):""}
\`\`\`
`)});return`${r}

This is a non-recoverable error which probably happens when the Prisma Query Engine has a panic.

${H(c)}

If you want the Prisma team to look into it, please open the link above \u{1F64F}
To increase the chance of success, please post your schema and a snippet of
how you used Prisma Client in the issue. 
`}({binaryTarget:e.binaryTarget,title:t,version:e.config.clientVersion,engineVersion:e.versionInfo?.commit,database:e.config.activeProvider,query:e.lastQuery})}var ol=e=>({command:e});function ou(e){try{return oc(e,"fast")}catch{return oc(e,"slow")}}function oc(e,t){return JSON.stringify(e.map(e=>(function e(t,r){var n;if(Array.isArray(t))return t.map(t=>e(t,r));if("bigint"==typeof t)return{prisma__type:"bigint",prisma__value:t.toString()};if(rP(t))return{prisma__type:"date",prisma__value:t.toJSON()};if(n6.isDecimal(t))return{prisma__type:"decimal",prisma__value:t.toJSON()};if(Buffer.isBuffer(t))return{prisma__type:"bytes",prisma__value:t.toString("base64")};if((n=t)instanceof ArrayBuffer||n instanceof SharedArrayBuffer||"object"==typeof n&&null!==n&&("ArrayBuffer"===n[Symbol.toStringTag]||"SharedArrayBuffer"===n[Symbol.toStringTag]))return{prisma__type:"bytes",prisma__value:Buffer.from(t).toString("base64")};if(ArrayBuffer.isView(t)){let{buffer:e,byteOffset:r,byteLength:n}=t;return{prisma__type:"bytes",prisma__value:Buffer.from(e,r,n).toString("base64")}}return"object"==typeof t&&"slow"===r?od(t):t})(e,t)))}function od(e){if("object"!=typeof e||null===e)return e;if("function"==typeof e.toJSON)return e.toJSON();if(Array.isArray(e))return e.map(op);let t={};for(let r of Object.keys(e))t[r]=op(e[r]);return t}function op(e){return"bigint"==typeof e?e.toString():od(e)}var of=/^(\s*alter\s)/i,oh=e_("prisma:client");function om(e,t,r,n){if(("postgresql"===e||"cockroachdb"===e)&&r.length>0&&of.exec(t))throw Error(`Running ALTER using ${n} is not supported
Using the example below you can still execute your query with Prisma, but please note that it is vulnerable to SQL injection attacks and requires you to take care of input sanitization.

Example:
  await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)

More Information: https://pris.ly/d/execute-raw
`)}var og=({clientMethod:e,activeProvider:t})=>r=>{let n="",i;if(au(r))n=r.sql,i={values:ou(r.values),__prismaRawParameters__:!0};else if(Array.isArray(r)){let[e,...t]=r;n=e,i={values:ou(t||[]),__prismaRawParameters__:!0}}else switch(t){case"sqlite":case"mysql":n=r.sql,i={values:ou(r.values),__prismaRawParameters__:!0};break;case"cockroachdb":case"postgresql":case"postgres":n=r.text,i={values:ou(r.values),__prismaRawParameters__:!0};break;case"sqlserver":n=r.strings.reduce((e,t,r)=>`${e}@P${r}${t}`),i={values:ou(r.values),__prismaRawParameters__:!0};break;default:throw Error(`The ${t} provider does not support ${e}`)}return i?.values?oh(`prisma.${e}(${n}, ${i.values})`):oh(`prisma.${e}(${n})`),{query:n,parameters:i}},oy={requestArgsToMiddlewareArgs:e=>[e.strings,...e.values],middlewareArgsToRequestArgs(e){let[t,...r]=e;return new am(t,r)}},ov={requestArgsToMiddlewareArgs:e=>[e],middlewareArgsToRequestArgs:e=>e[0]};function ob(e){return function(t,r){let n,i=(r=e)=>{try{return void 0===r||r?.kind==="itx"?n??=ow(t(r)):ow(t(r))}catch(e){return Promise.reject(e)}};return{get spec(){return r},then:(e,t)=>i().then(e,t),catch:e=>i().catch(e),finally:e=>i().finally(e),requestTransaction(e){let t=i(e);return t.requestTransaction?t.requestTransaction(e):t},[Symbol.toStringTag]:"PrismaPromise"}}}function ow(e){return"function"==typeof e.then?e:Promise.resolve(e)}var o_=tW.split(".")[0],ox={isEnabled:()=>!1,getTraceParent:()=>"00-10-10-00",dispatchEngineSpans(){},getActiveContext(){},runInChildSpan:(e,t)=>t()},ok=class{isEnabled(){return this.getGlobalTracingHelper().isEnabled()}getTraceParent(e){return this.getGlobalTracingHelper().getTraceParent(e)}dispatchEngineSpans(e){return this.getGlobalTracingHelper().dispatchEngineSpans(e)}getActiveContext(){return this.getGlobalTracingHelper().getActiveContext()}runInChildSpan(e,t){return this.getGlobalTracingHelper().runInChildSpan(e,t)}getGlobalTracingHelper(){let e=globalThis[`V${o_}_PRISMA_INSTRUMENTATION`],t=globalThis.PRISMA_INSTRUMENTATION;return e?.helper??t?.helper??ox}};function oE(e){return"number"==typeof e.batchRequestIdx}function o$(e){return`(${Object.keys(e).sort().map(t=>{let r=e[t];return"object"==typeof r&&null!==r?`(${t} ${o$(r)})`:t}).join(" ")})`}var oT={aggregate:!1,aggregateRaw:!1,createMany:!0,createManyAndReturn:!0,createOne:!0,deleteMany:!0,deleteOne:!0,executeRaw:!0,findFirst:!1,findFirstOrThrow:!1,findMany:!1,findRaw:!1,findUnique:!1,findUniqueOrThrow:!1,groupBy:!1,queryRaw:!1,runCommandRaw:!0,updateMany:!0,updateManyAndReturn:!0,updateOne:!0,upsertOne:!0},oS=class{constructor(e){this.options=e,this.batches={}}batches;tickActive=!1;request(e){let t=this.options.batchBy(e);return t?(this.batches[t]||(this.batches[t]=[],this.tickActive||(this.tickActive=!0,process.nextTick(()=>{this.dispatchBatches(),this.tickActive=!1}))),new Promise((r,n)=>{this.batches[t].push({request:e,resolve:r,reject:n})})):this.options.singleLoader(e)}dispatchBatches(){for(let e in this.batches){let t=this.batches[e];delete this.batches[e],1===t.length?this.options.singleLoader(t[0].request).then(e=>{e instanceof Error?t[0].reject(e):t[0].resolve(e)}).catch(e=>{t[0].reject(e)}):(t.sort((e,t)=>this.options.batchOrder(e.request,t.request)),this.options.batchLoader(t.map(e=>e.request)).then(e=>{if(e instanceof Error)for(let r=0;r<t.length;r++)t[r].reject(e);else for(let r=0;r<t.length;r++){let n=e[r];n instanceof Error?t[r].reject(n):t[r].resolve(n)}}).catch(e=>{for(let r=0;r<t.length;r++)t[r].reject(e)}))}}get[Symbol.toStringTag](){return"DataLoader"}};function oI(e){let t=[],r=function(e){let t={};for(let r=0;r<e.columns.length;r++)t[e.columns[r]]=null;return t}(e);for(let n=0;n<e.rows.length;n++){let i=e.rows[n],a={...r};for(let t=0;t<i.length;t++)a[e.columns[t]]=function e(t,r){if(null===r)return r;switch(t){case"bigint":return BigInt(r);case"bytes":{let{buffer:e,byteOffset:t,byteLength:n}=Buffer.from(r,"base64");return new Uint8Array(e,t,n)}case"decimal":return new n6(r);case"datetime":case"date":return new Date(r);case"time":return new Date(`1970-01-01T${r}Z`);case"bigint-array":return r.map(t=>e("bigint",t));case"bytes-array":return r.map(t=>e("bytes",t));case"decimal-array":return r.map(t=>e("decimal",t));case"datetime-array":return r.map(t=>e("datetime",t));case"date-array":return r.map(t=>e("date",t));case"time-array":return r.map(t=>e("time",t));default:return r}}(e.types[t],i[t]);t.push(a)}return t}var oA=e_("prisma:client:request_handler"),oO=class{client;dataloader;logEmitter;constructor(e,t){this.logEmitter=t,this.client=e,this.dataloader=new oS({batchLoader:function(e){return t=>{let r={requests:t},n=t[0].extensions.getAllBatchQueryCallbacks();return n.length?function e(t,r,n,i){if(n===r.length)return i(t);let a=t.customDataProxyFetch,s=t.requests[0].transaction;return r[n]({args:{queries:t.requests.map(e=>({model:e.modelName,operation:e.action,args:e.args})),transaction:s?{isolationLevel:"batch"===s.kind?s.isolationLevel:void 0}:void 0},__internalParams:t,query(s,o=t){let l=o.customDataProxyFetch;return o.customDataProxyFetch=a3(a,l),e(o,r,n+1,i)}})}(r,n,0,e):e(r)}}(async({requests:e,customDataProxyFetch:t})=>{let{transaction:r,otelParentCtx:n}=e[0],i=e.map(e=>e.protocolQuery),a=this.client._tracingHelper.getTraceParent(n),s=e.some(e=>oT[e.protocolQuery.action]);return(await this.client._engine.requestBatch(i,{traceparent:a,transaction:function(e){if(e){if("batch"===e.kind)return{kind:"batch",options:{isolationLevel:e.isolationLevel}};if("itx"===e.kind)return{kind:"itx",options:oN(e)};rl(e,"Unknown transaction kind")}}(r),containsWrite:s,customDataProxyFetch:t})).map((t,r)=>{if(t instanceof Error)return t;try{return this.mapQueryEngineResult(e[r],t)}catch(e){return e}})}),singleLoader:async e=>{let t=e.transaction?.kind==="itx"?oN(e.transaction):void 0,r=await this.client._engine.request(e.protocolQuery,{traceparent:this.client._tracingHelper.getTraceParent(),interactiveTransaction:t,isWrite:oT[e.protocolQuery.action],customDataProxyFetch:e.customDataProxyFetch});return this.mapQueryEngineResult(e,r)},batchBy:e=>e.transaction?.id?`transaction-${e.transaction.id}`:function(e){if("findUnique"!==e.action&&"findUniqueOrThrow"!==e.action)return;let t=[];return e.modelName&&t.push(e.modelName),e.query.arguments&&t.push(o$(e.query.arguments)),t.push(o$(e.query.selection)),t.join("")}(e.protocolQuery),batchOrder:(e,t)=>e.transaction?.kind==="batch"&&t.transaction?.kind==="batch"?e.transaction.index-t.transaction.index:0})}async request(e){try{return await this.dataloader.request(e)}catch(s){let{clientMethod:t,callsite:r,transaction:n,args:i,modelName:a}=e;this.handleAndLogRequestError({error:s,clientMethod:t,callsite:r,transaction:n,args:i,modelName:a,globalOmit:e.globalOmit})}}mapQueryEngineResult({dataPath:e,unpacker:t},r){let n=r?.data,i=this.unpack(n,e,t);return process.env.PRISMA_CLIENT_GET_TIME?{data:i}:i}handleAndLogRequestError(e){try{this.handleRequestError(e)}catch(t){throw this.logEmitter&&this.logEmitter.emit("error",{message:t.message,target:e.clientMethod,timestamp:new Date}),t}}handleRequestError({error:e,clientMethod:t,callsite:r,transaction:n,args:i,modelName:a,globalOmit:s}){var o,l,u;if(oA(e),o=e,l=n,oE(o)&&l?.kind==="batch"&&o.batchRequestIdx!==l.index)throw e;e instanceof rE&&("P2009"===(u=e).code||"P2012"===u.code)&&iK({args:i,errors:[function e(t){if("Union"===t.kind)return{kind:"Union",errors:t.errors.map(e)};if(Array.isArray(t.selectionPath)){let[,...e]=t.selectionPath;return{...t,selectionPath:e}}return t}(e.meta)],callsite:r,errorFormat:this.client._errorFormat,originalMethod:t,clientVersion:this.client._clientVersion,globalOmit:s});let c=e.message;if(r&&(c=io({callsite:r,originalMethod:t,isPanic:e.isPanic,showColors:"pretty"===this.client._errorFormat,message:c})),c=this.sanitizeMessage(c),e.code){let t=a?{modelName:a,...e.meta}:e.meta;throw new rE(c,{code:e.code,clientVersion:this.client._clientVersion,meta:t,batchRequestIdx:e.batchRequestIdx})}if(e.isPanic)throw new r$(c,this.client._clientVersion);if(e instanceof rT)throw new rT(c,{clientVersion:this.client._clientVersion,batchRequestIdx:e.batchRequestIdx});if(e instanceof rk)throw new rk(c,this.client._clientVersion);if(e instanceof r$)throw new r$(c,this.client._clientVersion);throw e.clientVersion=this.client._clientVersion,e}sanitizeMessage(e){return this.client._errorFormat&&"pretty"!==this.client._errorFormat?rc(e):e}unpack(e,t,r){if(!e||(e.data&&(e=e.data),!e))return e;let n=Object.keys(e)[0],i=aK(Object.values(e)[0],t.filter(e=>"select"!==e&&"include"!==e)),a="queryRaw"===n?oI(i):sd(i);return r?r(a):a}get[Symbol.toStringTag](){return"RequestHandler"}};function oN(e){return{id:e.id,payload:e.payload}}var oR=h(T()),oP=class extends Error{constructor(e){super(e+`
Read more at https://pris.ly/d/client-constructor`),this.name="PrismaClientConstructorValidationError"}get[Symbol.toStringTag](){return"PrismaClientConstructorValidationError"}};rw(oP,"PrismaClientConstructorValidationError");var oU=["datasources","datasourceUrl","errorFormat","adapter","log","transactionOptions","omit","__internal"],oD=["pretty","colorless","minimal"],oC=["info","query","warn","error"],oj={datasources:(e,{datasourceNames:t})=>{if(e){if("object"!=typeof e||Array.isArray(e))throw new oP(`Invalid value ${JSON.stringify(e)} for "datasources" provided to PrismaClient constructor`);for(let[r,n]of Object.entries(e)){if(!t.includes(r)){let e=oL(r,t)||` Available datasources: ${t.join(", ")}`;throw new oP(`Unknown datasource ${r} provided to PrismaClient constructor.${e}`)}if("object"!=typeof n||Array.isArray(n))throw new oP(`Invalid value ${JSON.stringify(e)} for datasource "${r}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`);if(n&&"object"==typeof n)for(let[t,i]of Object.entries(n)){if("url"!==t)throw new oP(`Invalid value ${JSON.stringify(e)} for datasource "${r}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`);if("string"!=typeof i)throw new oP(`Invalid value ${JSON.stringify(i)} for datasource "${r}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`)}}}},adapter:(e,t)=>{if(!e&&"client"===tH(t.generator))throw new oP('Using engine type "client" requires a driver adapter to be provided to PrismaClient constructor.');if(null!==e){if(void 0===e)throw new oP('"adapter" property must not be undefined, use null to conditionally disable driver adapters.');if("binary"===tH(t.generator))throw new oP('Cannot use a driver adapter with the "binary" Query Engine. Please use the "library" Query Engine.')}},datasourceUrl:e=>{if("u">typeof e&&"string"!=typeof e)throw new oP(`Invalid value ${JSON.stringify(e)} for "datasourceUrl" provided to PrismaClient constructor.
Expected string or undefined.`)},errorFormat:e=>{if(e){if("string"!=typeof e)throw new oP(`Invalid value ${JSON.stringify(e)} for "errorFormat" provided to PrismaClient constructor.`);if(!oD.includes(e)){let t=oL(e,oD);throw new oP(`Invalid errorFormat ${e} provided to PrismaClient constructor.${t}`)}}},log:e=>{if(e){if(!Array.isArray(e))throw new oP(`Invalid value ${JSON.stringify(e)} for "log" provided to PrismaClient constructor.`);for(let r of e){t(r);let e={level:t,emit:e=>{let t=["stdout","event"];if(!t.includes(e)){let r=oL(e,t);throw new oP(`Invalid value ${JSON.stringify(e)} for "emit" in logLevel provided to PrismaClient constructor.${r}`)}}};if(r&&"object"==typeof r)for(let[t,n]of Object.entries(r))if(e[t])e[t](n);else throw new oP(`Invalid property ${t} for "log" provided to PrismaClient constructor`)}}function t(e){if("string"==typeof e&&!oC.includes(e)){let t=oL(e,oC);throw new oP(`Invalid log level "${e}" provided to PrismaClient constructor.${t}`)}}},transactionOptions:e=>{if(!e)return;let t=e.maxWait;if(null!=t&&t<=0)throw new oP(`Invalid value ${t} for maxWait in "transactionOptions" provided to PrismaClient constructor. maxWait needs to be greater than 0`);let r=e.timeout;if(null!=r&&r<=0)throw new oP(`Invalid value ${r} for timeout in "transactionOptions" provided to PrismaClient constructor. timeout needs to be greater than 0`)},omit:(e,t)=>{if("object"!=typeof e)throw new oP('"omit" option is expected to be an object.');if(null===e)throw new oP('"omit" option can not be `null`');let r=[];for(let[a,s]of Object.entries(e)){var n,i;let e=(n=a,oz((i=t.runtimeDataModel).models,n)??oz(i.types,n));if(!e){r.push({kind:"UnknownModel",modelKey:a});continue}for(let[t,n]of Object.entries(s)){let i=e.fields.find(e=>e.name===t);if(!i){r.push({kind:"UnknownField",modelKey:a,fieldName:t});continue}if(i.relationName){r.push({kind:"RelationInOmit",modelKey:a,fieldName:t});continue}"boolean"!=typeof n&&r.push({kind:"InvalidFieldValue",modelKey:a,fieldName:t})}}if(r.length>0)throw new oP(function(e,t){let r=iB(e);for(let e of t)switch(e.kind){case"UnknownModel":r.arguments.getField(e.modelKey)?.markAsError(),r.addErrorMessage(()=>`Unknown model name: ${e.modelKey}.`);break;case"UnknownField":r.arguments.getDeepField([e.modelKey,e.fieldName])?.markAsError(),r.addErrorMessage(()=>`Model "${e.modelKey}" does not have a field named "${e.fieldName}".`);break;case"RelationInOmit":r.arguments.getDeepField([e.modelKey,e.fieldName])?.markAsError(),r.addErrorMessage(()=>'Relations are already excluded by default and can not be specified in "omit".');break;case"InvalidFieldValue":r.arguments.getDeepFieldValue([e.modelKey,e.fieldName])?.markAsError(),r.addErrorMessage(()=>"Omit field option value must be a boolean.")}let{message:n,args:i}=iH(r,"colorless");return`Error validating "omit" option:

${i}

${n}`}(e,r))},__internal:e=>{if(!e)return;let t=["debug","engine","configOverride"];if("object"!=typeof e)throw new oP(`Invalid value ${JSON.stringify(e)} for "__internal" to PrismaClient constructor`);for(let[r]of Object.entries(e))if(!t.includes(r)){let e=oL(r,t);throw new oP(`Invalid property ${JSON.stringify(r)} for "__internal" provided to PrismaClient constructor.${e}`)}}};function oL(e,t){if(0===t.length||"string"!=typeof e)return"";let r=function(e,t){if(0===t.length)return null;let r=t.map(t=>({value:t,distance:(0,oR.default)(e,t)}));r.sort((e,t)=>e.distance<t.distance?-1:1);let n=r[0];return n.distance<3?n.value:null}(e,t);return r?` Did you mean "${r}"?`:""}function oz(e,t){let r=Object.keys(e).find(e=>rA(e)===t);if(r)return e[r]}var oM=e_("prisma:client");"object"==typeof globalThis&&(globalThis.NODE_CLIENT=!0);var oq={requestArgsToMiddlewareArgs:e=>e,middlewareArgsToRequestArgs:e=>e},oZ=Symbol.for("prisma.client.transaction.id"),oV={id:0,nextId(){return++this.id}};function oF(e){class t{_originalClient=this;_runtimeDataModel;_requestHandler;_connectionPromise;_disconnectionPromise;_engineConfig;_accelerateEngineConfig;_clientVersion;_errorFormat;_tracingHelper;_previewFeatures;_activeProvider;_globalOmit;_extensions;_engine;_appliedParent;_createPrismaPromise=ob();constructor(t){(function({postinstall:e,ciName:t,clientVersion:r,generator:n}){if(a5("checkPlatformCaching:postinstall",e),a5("checkPlatformCaching:ciName",t),!0===e&&!(n?.output&&"string"==typeof(n.output.fromEnvVar??n.output.value))&&t&&t in a8){let e=`Prisma has detected that this project was built on ${t}, which caches dependencies. This leads to an outdated Prisma Client because Prisma's auto-generation isn't triggered. To fix this, make sure to run the \`prisma generate\` command during the build process.

Learn how: https://pris.ly/d/${a8[t]}-build`;throw console.error(e),new rk(e,r)}})(e=t?.__internal?.configOverride?.(e)??e),t&&function(e,t){for(let[r,n]of Object.entries(e)){if(!oU.includes(r)){let e=oL(r,oU);throw new oP(`Unknown property ${r} provided to PrismaClient constructor.${e}`)}oj[r](n,t)}if(e.datasourceUrl&&e.datasources)throw new oP('Can not use "datasourceUrl" and "datasources" options at the same time. Pick one of them')}(t,e);let r=new ap.EventEmitter().on("error",()=>{});this._extensions=iY.empty(),this._previewFeatures=function({generator:e}){return e?.previewFeatures??[]}(e),this._clientVersion=e.clientVersion??"6.19.0",this._activeProvider=e.activeProvider,this._globalOmit=t?.omit,this._tracingHelper=new ok;let n=e.relativeEnvPaths&&{rootEnvPath:e.relativeEnvPaths.rootEnvPath&&ah.default.resolve(e.dirname,e.relativeEnvPaths.rootEnvPath),schemaEnvPath:e.relativeEnvPaths.schemaEnvPath&&ah.default.resolve(e.dirname,e.relativeEnvPaths.schemaEnvPath)},i;if(t?.adapter){i=t.adapter;let r="postgresql"===e.activeProvider||"cockroachdb"===e.activeProvider?"postgres":e.activeProvider;if(i.provider!==r)throw new rk(`The Driver Adapter \`${i.adapterName}\`, based on \`${i.provider}\`, is not compatible with the provider \`${r}\` specified in the Prisma schema.`,this._clientVersion);if(t.datasources||void 0!==t.datasourceUrl)throw new rk("Custom datasource configuration is not compatible with Prisma Driver Adapters. Please define the database connection string directly in the Driver Adapter configuration.",this._clientVersion)}let a=!i&&n&&rg(n,{conflictCheck:"none"})||e.injectableEdgeEnv?.();try{let n=t??{},s=n.__internal??{},o=!0===s.debug;o&&e_.enable("prisma:client");let l=ah.default.resolve(e.dirname,e.relativePath);af.default.existsSync(l)||(l=e.dirname),oM("dirname",e.dirname),oM("relativePath",e.relativePath),oM("cwd",l);let u=s.engine||{};if(n.errorFormat?this._errorFormat=n.errorFormat:this._errorFormat="minimal",this._runtimeDataModel=e.runtimeDataModel,this._engineConfig={cwd:l,dirname:e.dirname,enableDebugLogs:o,allowTriggerPanic:u.allowTriggerPanic,prismaPath:u.binaryPath??void 0,engineEndpoint:u.endpoint,generator:e.generator,showColors:"pretty"===this._errorFormat,logLevel:n.log&&function(e){return"string"==typeof e?e:e.reduce((e,t)=>{let r="string"==typeof t?t:t.level;return"query"===r?e:e&&("info"===t||"info"===e)?"info":r},void 0)}(n.log),logQueries:n.log&&!!("string"==typeof n.log?"query"===n.log:n.log.find(e=>"string"==typeof e?"query"===e:"query"===e.level)),env:a?.parsed??{},flags:[],engineWasm:e.engineWasm,compilerWasm:e.compilerWasm,clientVersion:e.clientVersion,engineVersion:e.engineVersion,previewFeatures:this._previewFeatures,activeProvider:e.activeProvider,inlineSchema:e.inlineSchema,overrideDatasources:function(e,t){return e?e.datasources?e.datasources:e.datasourceUrl?{[t[0]]:{url:e.datasourceUrl}}:{}:{}}(n,e.datasourceNames),inlineDatasources:e.inlineDatasources,inlineSchemaHash:e.inlineSchemaHash,tracingHelper:this._tracingHelper,transactionOptions:{maxWait:n.transactionOptions?.maxWait??2e3,timeout:n.transactionOptions?.timeout??5e3,isolationLevel:n.transactionOptions?.isolationLevel},logEmitter:r,isBundled:e.isBundled,adapter:i},this._accelerateEngineConfig={...this._engineConfig,accelerateUtils:{resolveDatasourceUrl:sw,getBatchRequestPayload:aA,prismaGraphQLToJSError:aO,PrismaClientUnknownRequestError:rT,PrismaClientInitializationError:rk,PrismaClientKnownRequestError:rE,debug:e_("prisma:client:accelerateEngine"),engineVersion:ac.version,clientVersion:e.clientVersion}},oM("clientVersion",e.clientVersion),this._engine=function({copyEngine:e=!0},t){let r;try{r=sw({inlineDatasources:t.inlineDatasources,overrideDatasources:t.overrideDatasources,env:{...t.env,...process.env},clientVersion:t.clientVersion})}catch{}let{ok:n,isUsing:i,diagnostics:a}=function({url:e,adapter:t,copyEngine:r,targetBuildType:n}){let i=[],a=[],s=e=>{let t=e.join(`
`);a.push({_tag:"error",value:t})},o=!!e?.startsWith("prisma://"),l=t3(e),u=!!t,c=o||l;!u&&r&&c&&"client"!==n&&"wasm-compiler-edge"!==n&&i.push({_tag:"warning",value:["recommend--no-engine","In production, we recommend using `prisma generate --no-engine` (See: `prisma generate --help`)"]});let d=c||!r;u&&(d||"edge"===n)&&("edge"===n?s(["Prisma Client was configured to use the `adapter` option but it was imported via its `/edge` endpoint.","Please either remove the `/edge` endpoint or remove the `adapter` from the Prisma Client constructor."]):c?s(["You've provided both a driver adapter and an Accelerate database URL. Driver adapters currently cannot connect to Accelerate.","Please provide either a driver adapter with a direct database URL or an Accelerate URL and no driver adapter."]):r||s(["Prisma Client was configured to use the `adapter` option but `prisma generate` was run with `--no-engine`.","Please run `prisma generate` without `--no-engine` to be able to use Prisma Client with the adapter."]));let p={accelerate:d,ppg:l,driverAdapters:u};return a.length>0?{ok:!1,diagnostics:{warnings:i,errors:a},isUsing:p}:{ok:!0,diagnostics:{warnings:i},isUsing:p}}({url:r,adapter:t.adapter,copyEngine:e,targetBuildType:"library"});for(let e of a.warnings)rx(...e.value);if(!n)throw new rS(a.errors[0].value,{clientVersion:t.clientVersion});let s=tH(t.generator);return(i.accelerate||i.ppg)&&i.driverAdapters,i.accelerate?new s5(t):(i.driverAdapters,"library"===s||i.accelerate,new os(t))}(e,this._engineConfig),this._requestHandler=new oO(this,r),n.log)for(let e of n.log){let t="string"==typeof e?e:"stdout"===e.emit?e.level:null;t&&this.$on(t,e=>{t7.log(`${t7.tags[t]??""}`,e.message||e.query)})}}catch(e){throw e.clientVersion=this._clientVersion,e}return this._appliedParent=aX(this)}get[Symbol.toStringTag](){return"PrismaClient"}$on(e,t){return"beforeExit"===e?this._engine.onBeforeExit(t):e&&this._engineConfig.logEmitter.on(e,t),this}$connect(){try{return this._engine.start()}catch(e){throw e.clientVersion=this._clientVersion,e}}async $disconnect(){try{await this._engine.stop()}catch(e){throw e.clientVersion=this._clientVersion,e}finally{eg.length=0}}$executeRawInternal(e,t,r,n){let i=this._activeProvider;return this._request({action:"executeRaw",args:r,transaction:e,clientMethod:t,argsMapper:og({clientMethod:t,activeProvider:i}),callsite:aq(this._errorFormat),dataPath:[],middlewareArgsMapper:n})}$executeRaw(e,...t){return this._createPrismaPromise(r=>{if(void 0!==e.raw||void 0!==e.sql){let[n,i]=oB(e,t);return om(this._activeProvider,n.text,n.values,Array.isArray(e)?"prisma.$executeRaw`<SQL>`":"prisma.$executeRaw(sql`<SQL>`)"),this.$executeRawInternal(r,"$executeRaw",n,i)}throw new rS("`$executeRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$executeRaw`UPDATE User SET cool = ${true} WHERE email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#executeraw\n",{clientVersion:this._clientVersion})})}$executeRawUnsafe(e,...t){return this._createPrismaPromise(r=>(om(this._activeProvider,e,t,"prisma.$executeRawUnsafe(<SQL>, [...values])"),this.$executeRawInternal(r,"$executeRawUnsafe",[e,...t])))}$runCommandRaw(t){if("mongodb"!==e.activeProvider)throw new rS(`The ${e.activeProvider} provider does not support $runCommandRaw. Use the mongodb provider.`,{clientVersion:this._clientVersion});return this._createPrismaPromise(e=>this._request({args:t,clientMethod:"$runCommandRaw",dataPath:[],action:"runCommandRaw",argsMapper:ol,callsite:aq(this._errorFormat),transaction:e}))}async $queryRawInternal(e,t,r,n){let i=this._activeProvider;return this._request({action:"queryRaw",args:r,transaction:e,clientMethod:t,argsMapper:og({clientMethod:t,activeProvider:i}),callsite:aq(this._errorFormat),dataPath:[],middlewareArgsMapper:n})}$queryRaw(e,...t){return this._createPrismaPromise(r=>{if(void 0!==e.raw||void 0!==e.sql)return this.$queryRawInternal(r,"$queryRaw",...oB(e,t));throw new rS("`$queryRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$queryRaw`SELECT * FROM User WHERE id = ${1} OR email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#queryraw\n",{clientVersion:this._clientVersion})})}$queryRawTyped(e){return this._createPrismaPromise(t=>{if(!this._hasPreviewFlag("typedSql"))throw new rS("`typedSql` preview feature must be enabled in order to access $queryRawTyped API",{clientVersion:this._clientVersion});return this.$queryRawInternal(t,"$queryRawTyped",e)})}$queryRawUnsafe(e,...t){return this._createPrismaPromise(r=>this.$queryRawInternal(r,"$queryRawUnsafe",[e,...t]))}_transactionWithArray({promises:e,options:t}){var r;let n=oV.nextId(),i=function(e,t=()=>{}){let r,n=new Promise(e=>r=e);return{then:i=>(0==--e&&r(t()),i?.(n))}}(e.length);return 0===(r=e.map((e,r)=>{if(e?.[Symbol.toStringTag]!=="PrismaPromise")throw Error("All elements of the array need to be Prisma Client promises. Hint: Please make sure you are not awaiting the Prisma client calls you intended to pass in the $transaction function.");let a=t?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel;return e.requestTransaction?.({kind:"batch",id:n,index:r,isolationLevel:a,lock:i})??e})).length?Promise.resolve([]):new Promise((e,t)=>{let n=Array(r.length),i=null,a=!1,s=0,o=()=>{a||++s===r.length&&(a=!0,i?t(i):e(n))},l=e=>{a||(a=!0,t(e))};for(let e=0;e<r.length;e++)r[e].then(t=>{n[e]=t,o()},t=>{oE(t)?t.batchRequestIdx===e?l(t):(i||(i=t),o()):l(t)})})}async _transactionWithCallback({callback:e,options:t}){let r={traceparent:this._tracingHelper.getTraceParent()},n={maxWait:t?.maxWait??this._engineConfig.transactionOptions.maxWait,timeout:t?.timeout??this._engineConfig.transactionOptions.timeout,isolationLevel:t?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel},i=await this._engine.transaction("start",r,n),a;try{let t={kind:"itx",...i};a=await e(this._createItxClient(t)),await this._engine.transaction("commit",r,i)}catch(e){throw await this._engine.transaction("rollback",r,i).catch(()=>{}),e}return a}_createItxClient(e){return aT(aX(aT(this[aY]?this[aY]:this,[a_("_appliedParent",()=>this._appliedParent._createItxClient(e)),a_("_createPrismaPromise",()=>ob(e)),a_(oZ,()=>e.id)])),[aI(a6)])}$transaction(e,t){let r;return r="function"==typeof e?this._engineConfig.adapter?.adapterName==="@prisma/adapter-d1"?()=>{throw Error("Cloudflare D1 does not support interactive transactions. We recommend you to refactor your queries with that limitation in mind, and use batch transactions with `prisma.$transactions([])` where applicable.")}:()=>this._transactionWithCallback({callback:e,options:t}):()=>this._transactionWithArray({promises:e,options:t}),this._tracingHelper.runInChildSpan({name:"transaction",attributes:{method:"$transaction"}},r)}_request(e){e.otelParentCtx=this._tracingHelper.getActiveContext();let t=e.middlewareArgsMapper??oq,r={args:t.requestArgsToMiddlewareArgs(e.args),dataPath:e.dataPath,runInTransaction:!!e.transaction,action:e.action,model:e.model},n={operation:{name:"operation",attributes:{method:r.action,model:r.model,name:r.model?`${r.model}.${r.action}`:r.action}}},i=async r=>{let{runInTransaction:n,args:i,...a}=r,s={...e,...a};i&&(s.args=t.middlewareArgsToRequestArgs(i)),void 0!==e.transaction&&!1===n&&delete s.transaction;let o=await function(e,t){let{jsModelName:r,action:n,clientMethod:i}=t;if(e._extensions.isEmpty())return e._executeRequest(t);let a=e._extensions.getAllQueryCallbacks(r??"$none",r?n:i);return function e(t,r,n,i=0){return t._createPrismaPromise(a=>{let s=r.customDataProxyFetch;return"transaction"in r&&void 0!==a&&(r.transaction?.kind==="batch"&&r.transaction.lock.then(),r.transaction=a),i===n.length?t._executeRequest(r):n[i]({model:r.model,operation:r.model?r.action:r.clientMethod,args:function(e){var t,r;if(e instanceof am){return new am((t=e).strings,t.values)}if(au(e)){return new ao((r=e).sql,r.values)}if(Array.isArray(e)){let t=[e[0]];for(let r=1;r<e.length;r++)t[r]=a2(e[r]);return t}let n={};for(let t in e)n[t]=a2(e[t]);return n}(r.args??{}),__internalParams:r,query:(a,o=r)=>{let l=o.customDataProxyFetch;return o.customDataProxyFetch=a3(s,l),o.args=a,e(t,o,n,i+1)}})})}(e,t,a)}(this,s);return s.model?function({result:e,modelName:t,args:r,extensions:n,runtimeDataModel:i,globalOmit:a}){return n.isEmpty()||null==e||"object"!=typeof e||!i.models[t]?e:a1({result:e,args:r??{},modelName:t,runtimeDataModel:i,visitor:(e,t,r)=>{let i=iG(t);return function({result:e,modelName:t,select:r,omit:n,extensions:i}){let a=i.getAllComputedFields(t);if(!a)return e;let s=[],o=[];for(let t of Object.values(a)){if(n){if(n[t.name])continue;let e=t.needs.filter(e=>n[e]);e.length>0&&o.push(aI(e))}else if(r){if(!r[t.name])continue;let e=t.needs.filter(e=>!r[e]);e.length>0&&o.push(aI(e))}(function(e,t){return t.every(t=>Object.prototype.hasOwnProperty.call(e,t))})(e,t.needs)&&s.push(function(e,t){return ax(a_(e.name,()=>e.compute(t)))}(t,aT(e,s)))}return s.length>0||o.length>0?aT(e,[...s,...o]):e}({result:e,modelName:i,select:r.select,omit:r.select?void 0:{...a?.[i],...r.omit},extensions:n})}})}({result:o,modelName:s.model,args:s.args,extensions:this._extensions,runtimeDataModel:this._runtimeDataModel,globalOmit:this._globalOmit}):o};return this._tracingHelper.runInChildSpan(n.operation,()=>new ad.AsyncResource("prisma-client-request").runInAsyncScope(()=>i(r)))}async _executeRequest({args:e,clientMethod:t,dataPath:r,callsite:n,action:i,model:a,argsMapper:s,transaction:o,unpacker:l,otelParentCtx:u,customDataProxyFetch:c}){try{e=s?s(e):e;let d=this._tracingHelper.runInChildSpan({name:"serialize"},()=>i5({modelName:a,runtimeDataModel:this._runtimeDataModel,action:i,args:e,clientMethod:t,callsite:n,extensions:this._extensions,errorFormat:this._errorFormat,clientVersion:this._clientVersion,previewFeatures:this._previewFeatures,globalOmit:this._globalOmit}));return e_.enabled("prisma:client")&&(oM("Prisma Client call:"),oM(`prisma.${t}(${function(e){if(void 0===e)return"";let t=iB(e);return new ip(0,{colors:ig}).write(t).toString()}(e)})`),oM("Generated request:"),oM(JSON.stringify(d,null,2)+`
`)),o?.kind==="batch"&&await o.lock,this._requestHandler.request({protocolQuery:d,modelName:a,action:i,clientMethod:t,dataPath:r,callsite:n,args:e,extensions:this._extensions,transaction:o,unpacker:l,otelParentCtx:u,otelChildCtx:this._tracingHelper.getActiveContext(),globalOmit:this._globalOmit,customDataProxyFetch:c})}catch(e){throw e.clientVersion=this._clientVersion,e}}$metrics=new ar(this);_hasPreviewFlag(e){return!!this._engineConfig.previewFeatures?.includes(e)}$applyPendingMigrations(){return this._engine.applyPendingMigrations()}$extends=a0}return t}function oB(e,t){var r;return Array.isArray(r=e)&&Array.isArray(r.raw)?[new am(e,t),oy]:[e,ov]}var oW=new Set(["toJSON","$$typeof","asymmetricMatch",Symbol.iterator,Symbol.toStringTag,Symbol.isConcatSpreadable,Symbol.toPrimitive]);function oH(e){return new Proxy(e,{get(e,t){if(t in e)return e[t];if(!oW.has(t))throw TypeError(`Invalid enum value: ${String(t)}`)}})}function oK(e){rg(e,{conflictCheck:"warn"})}},22734,(e,t,r)=>{t.exports=e.x("fs",()=>require("fs"))},54254,(e,t,r)=>{Object.defineProperty(r,"__esModule",{value:!0});let{PrismaClientKnownRequestError:n,PrismaClientUnknownRequestError:i,PrismaClientRustPanicError:a,PrismaClientInitializationError:s,PrismaClientValidationError:o,getPrismaClient:l,sqltag:u,empty:c,join:d,raw:p,skip:f,Decimal:h,Debug:m,objectEnumValues:g,makeStrictEnum:y,Extensions:v,warnOnce:b,defineDmmfProperty:w,Public:_,getRuntime:x,createParam:k}=e.r(38501),E={};r.Prisma=E,r.$Enums={},E.prismaVersion={client:"6.15.0",engine:"85179d7826409ee107a6ba334b5e305ae3fba9fb"},E.PrismaClientKnownRequestError=n,E.PrismaClientUnknownRequestError=i,E.PrismaClientRustPanicError=a,E.PrismaClientInitializationError=s,E.PrismaClientValidationError=o,E.Decimal=h,E.sql=u,E.empty=c,E.join=d,E.raw=p,E.validator=_.validator,E.getExtensionContext=v.getExtensionContext,E.defineExtension=v.defineExtension,E.DbNull=g.instances.DbNull,E.JsonNull=g.instances.JsonNull,E.AnyNull=g.instances.AnyNull,E.NullTypes={DbNull:g.classes.DbNull,JsonNull:g.classes.JsonNull,AnyNull:g.classes.AnyNull};let $=e.r(14747);r.Prisma.TransactionIsolationLevel=y({ReadUncommitted:"ReadUncommitted",ReadCommitted:"ReadCommitted",RepeatableRead:"RepeatableRead",Serializable:"Serializable"}),r.Prisma.PostScalarFieldEnum={id:"id",name:"name",createdAt:"createdAt",updatedAt:"updatedAt",createdById:"createdById"},r.Prisma.UserScalarFieldEnum={id:"id",name:"name",email:"email",emailVerified:"emailVerified",image:"image",createdAt:"createdAt",updatedAt:"updatedAt"},r.Prisma.SessionScalarFieldEnum={id:"id",expiresAt:"expiresAt",token:"token",createdAt:"createdAt",updatedAt:"updatedAt",ipAddress:"ipAddress",userAgent:"userAgent",userId:"userId"},r.Prisma.AccountScalarFieldEnum={id:"id",accountId:"accountId",providerId:"providerId",userId:"userId",accessToken:"accessToken",refreshToken:"refreshToken",idToken:"idToken",accessTokenExpiresAt:"accessTokenExpiresAt",refreshTokenExpiresAt:"refreshTokenExpiresAt",scope:"scope",password:"password",createdAt:"createdAt",updatedAt:"updatedAt"},r.Prisma.VerificationScalarFieldEnum={id:"id",identifier:"identifier",value:"value",expiresAt:"expiresAt",createdAt:"createdAt",updatedAt:"updatedAt"},r.Prisma.SortOrder={asc:"asc",desc:"desc"},r.Prisma.QueryMode={default:"default",insensitive:"insensitive"},r.Prisma.NullsOrder={first:"first",last:"last"},r.Prisma.ModelName={Post:"Post",User:"User",Session:"Session",Account:"Account",Verification:"Verification"};let T={generator:{name:"client",provider:{fromEnvVar:null,value:"prisma-client-js"},output:{value:"/Users/gregorymarcilhacy/code/athrd/generated/prisma",fromEnvVar:null},config:{engineType:"library"},binaryTargets:[{fromEnvVar:null,value:"darwin-arm64",native:!0}],previewFeatures:[],sourceFilePath:"/Users/gregorymarcilhacy/code/athrd/prisma/schema.prisma",isCustomOutput:!0},relativeEnvPaths:{rootEnvPath:null,schemaEnvPath:"../../.env"},relativePath:"../../prisma",clientVersion:"6.15.0",engineVersion:"85179d7826409ee107a6ba334b5e305ae3fba9fb",datasourceNames:["db"],activeProvider:"postgresql",postinstall:!0,inlineDatasources:{db:{url:{fromEnvVar:"DATABASE_URL",value:null}}},inlineSchema:'// Prisma schema for Better Auth\n// learn more: https://better-auth.com/docs/concepts/database\n\ngenerator client {\n  provider = "prisma-client-js"\n  output   = "../generated/prisma"\n}\n\n// NOTE: When using mysql or sqlserver, uncomment the //@db.Text annotations in model Account below\n// Further reading:\n// https://www.prisma.io/docs/reference/api-reference/prisma-schema-reference#string\n\ndatasource db {\n  provider = "postgresql"\n  url      = env("DATABASE_URL")\n}\n\nmodel Post {\n  id        String   @id @default(cuid())\n  name      String\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  createdBy   User   @relation(fields: [createdById], references: [id])\n  createdById String\n\n  @@index([name])\n}\n\nmodel User {\n  id            String    @id\n  name          String //@db.Text\n  email         String\n  emailVerified Boolean   @default(false)\n  image         String? //@db.Text\n  createdAt     DateTime  @default(now())\n  updatedAt     DateTime  @default(now()) @updatedAt\n  sessions      Session[]\n  accounts      Account[]\n  posts         Post[]\n\n  @@unique([email])\n  @@map("user")\n}\n\nmodel Session {\n  id        String   @id\n  expiresAt DateTime\n  token     String\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n  ipAddress String? //@db.Text\n  userAgent String? //@db.Text\n  userId    String\n  user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  @@unique([token])\n  @@map("session")\n}\n\nmodel Account {\n  id                    String    @id\n  accountId             String //@db.Text\n  providerId            String //@db.Text\n  userId                String\n  user                  User      @relation(fields: [userId], references: [id], onDelete: Cascade)\n  accessToken           String? //@db.Text\n  refreshToken          String? //@db.Text\n  idToken               String? //@db.Text\n  accessTokenExpiresAt  DateTime?\n  refreshTokenExpiresAt DateTime?\n  scope                 String? //@db.Text\n  password              String? //@db.Text\n  createdAt             DateTime  @default(now())\n  updatedAt             DateTime  @updatedAt\n\n  @@map("account")\n}\n\nmodel Verification {\n  id         String   @id\n  identifier String //@db.Text\n  value      String //@db.Text\n  expiresAt  DateTime\n  createdAt  DateTime @default(now())\n  updatedAt  DateTime @default(now()) @updatedAt\n\n  @@map("verification")\n}\n',inlineSchemaHash:"13b811a21e98325911952479534b19039c5183588e791c7b9235c4279bb03147",copyEngine:!0},S=e.r(22734);if(T.dirname="/ROOT/athrd/apps/web/generated/prisma",!S.existsSync($.join("/ROOT/athrd/apps/web/generated/prisma","schema.prisma"))){let e=["generated/prisma","prisma"],t=e.find(e=>S.existsSync($.join(process.cwd(),e,"schema.prisma")))??e[0];T.dirname=$.join(process.cwd(),t),T.isBundled=!0}T.runtimeDataModel=JSON.parse('{"models":{"Post":{"dbName":null,"schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"cuid","args":[1]},"isGenerated":false,"isUpdatedAt":false},{"name":"name","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"createdBy","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"PostToUser","relationFromFields":["createdById"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"createdById","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"User":{"dbName":"user","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"name","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"email","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"emailVerified","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Boolean","nativeType":null,"default":false,"isGenerated":false,"isUpdatedAt":false},{"name":"image","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":true},{"name":"sessions","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Session","nativeType":null,"relationName":"SessionToUser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"accounts","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Account","nativeType":null,"relationName":"AccountToUser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"posts","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Post","nativeType":null,"relationName":"PostToUser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[["email"]],"uniqueIndexes":[{"name":null,"fields":["email"]}],"isGenerated":false},"Session":{"dbName":"session","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"expiresAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"token","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"ipAddress","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"userAgent","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"userId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"user","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"SessionToUser","relationFromFields":["userId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[["token"]],"uniqueIndexes":[{"name":null,"fields":["token"]}],"isGenerated":false},"Account":{"dbName":"account","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"accountId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"providerId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"userId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"user","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"AccountToUser","relationFromFields":["userId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false},{"name":"accessToken","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"refreshToken","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"idToken","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"accessTokenExpiresAt","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"refreshTokenExpiresAt","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"scope","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"password","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Verification":{"dbName":"verification","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"identifier","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"value","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"expiresAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":true}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false}},"enums":{},"types":{}}'),w(r.Prisma,T.runtimeDataModel),T.engineWasm=void 0,T.compilerWasm=void 0;let{warnEnvConflicts:I}=e.r(38501);I({rootEnvPath:T.relativeEnvPaths.rootEnvPath&&$.resolve(T.dirname,T.relativeEnvPaths.rootEnvPath),schemaEnvPath:T.relativeEnvPaths.schemaEnvPath&&$.resolve(T.dirname,T.relativeEnvPaths.schemaEnvPath)}),r.PrismaClient=l(T),Object.assign(r,E),$.join("/ROOT/athrd/apps/web/generated/prisma","libquery_engine-darwin-arm64.dylib.node"),$.join(process.cwd(),"generated/prisma/libquery_engine-darwin-arm64.dylib.node"),$.join("/ROOT/athrd/apps/web/generated/prisma","schema.prisma"),$.join(process.cwd(),"generated/prisma/schema.prisma")},95480,e=>{"use strict";let t,r,n,i,a,s,o,l,u,c,d,p,f,h,m,g,y,v,b,w,_;var x,k,E,$,T,S,I,A,O,N,R,P,U,D,C,j,L,z,M,q,Z,V,F,B,W,H,K,G,J,Q,Y=e.i(42302),X=((x={}).PAGES="PAGES",x.PAGES_API="PAGES_API",x.APP_PAGE="APP_PAGE",x.APP_ROUTE="APP_ROUTE",x.IMAGE="IMAGE",x),ee=((k=ee||{}).handleRequest="BaseServer.handleRequest",k.run="BaseServer.run",k.pipe="BaseServer.pipe",k.getStaticHTML="BaseServer.getStaticHTML",k.render="BaseServer.render",k.renderToResponseWithComponents="BaseServer.renderToResponseWithComponents",k.renderToResponse="BaseServer.renderToResponse",k.renderToHTML="BaseServer.renderToHTML",k.renderError="BaseServer.renderError",k.renderErrorToResponse="BaseServer.renderErrorToResponse",k.renderErrorToHTML="BaseServer.renderErrorToHTML",k.render404="BaseServer.render404",k),et=((E=et||{}).loadDefaultErrorComponents="LoadComponents.loadDefaultErrorComponents",E.loadComponents="LoadComponents.loadComponents",E),er=(($=er||{}).getRequestHandler="NextServer.getRequestHandler",$.getRequestHandlerWithMetadata="NextServer.getRequestHandlerWithMetadata",$.getServer="NextServer.getServer",$.getServerRequestHandler="NextServer.getServerRequestHandler",$.createServer="createServer.createServer",$),en=((T=en||{}).compression="NextNodeServer.compression",T.getBuildId="NextNodeServer.getBuildId",T.createComponentTree="NextNodeServer.createComponentTree",T.clientComponentLoading="NextNodeServer.clientComponentLoading",T.getLayoutOrPageModule="NextNodeServer.getLayoutOrPageModule",T.generateStaticRoutes="NextNodeServer.generateStaticRoutes",T.generateFsStaticRoutes="NextNodeServer.generateFsStaticRoutes",T.generatePublicRoutes="NextNodeServer.generatePublicRoutes",T.generateImageRoutes="NextNodeServer.generateImageRoutes.route",T.sendRenderResult="NextNodeServer.sendRenderResult",T.proxyRequest="NextNodeServer.proxyRequest",T.runApi="NextNodeServer.runApi",T.render="NextNodeServer.render",T.renderHTML="NextNodeServer.renderHTML",T.imageOptimizer="NextNodeServer.imageOptimizer",T.getPagePath="NextNodeServer.getPagePath",T.getRoutesManifest="NextNodeServer.getRoutesManifest",T.findPageComponents="NextNodeServer.findPageComponents",T.getFontManifest="NextNodeServer.getFontManifest",T.getServerComponentManifest="NextNodeServer.getServerComponentManifest",T.getRequestHandler="NextNodeServer.getRequestHandler",T.renderToHTML="NextNodeServer.renderToHTML",T.renderError="NextNodeServer.renderError",T.renderErrorToHTML="NextNodeServer.renderErrorToHTML",T.render404="NextNodeServer.render404",T.startResponse="NextNodeServer.startResponse",T.route="route",T.onProxyReq="onProxyReq",T.apiResolver="apiResolver",T.internalFetch="internalFetch",T),ei=((S=ei||{}).startServer="startServer.startServer",S),ea=((I=ea||{}).getServerSideProps="Render.getServerSideProps",I.getStaticProps="Render.getStaticProps",I.renderToString="Render.renderToString",I.renderDocument="Render.renderDocument",I.createBodyResult="Render.createBodyResult",I),es=((A=es||{}).renderToString="AppRender.renderToString",A.renderToReadableStream="AppRender.renderToReadableStream",A.getBodyResult="AppRender.getBodyResult",A.fetch="AppRender.fetch",A),eo=((O=eo||{}).executeRoute="Router.executeRoute",O),el=((N=el||{}).runHandler="Node.runHandler",N),eu=((R=eu||{}).runHandler="AppRouteRouteHandlers.runHandler",R),ec=((P=ec||{}).generateMetadata="ResolveMetadata.generateMetadata",P.generateViewport="ResolveMetadata.generateViewport",P),ed=((U=ed||{}).execute="Middleware.execute",U);let ep=new Set(["Middleware.execute","BaseServer.handleRequest","Render.getServerSideProps","Render.getStaticProps","AppRender.fetch","AppRender.getBodyResult","Render.renderDocument","Node.runHandler","AppRouteRouteHandlers.runHandler","ResolveMetadata.generateMetadata","ResolveMetadata.generateViewport","NextNodeServer.createComponentTree","NextNodeServer.findPageComponents","NextNodeServer.getLayoutOrPageModule","NextNodeServer.startResponse","NextNodeServer.clientComponentLoading"]),ef=new Set(["NextNodeServer.findPageComponents","NextNodeServer.createComponentTree","NextNodeServer.clientComponentLoading"]),eh=process.env.NEXT_OTEL_PERFORMANCE_PREFIX;try{t=e.r(70406)}catch(r){t=e.r(50884)}let{context:em,propagation:eg,trace:ey,SpanStatusCode:ev,SpanKind:eb,ROOT_CONTEXT:ew}=t;class e_ extends Error{constructor(e,t){super(),this.bubble=e,this.result=t}}let ex=(e,t)=>{"object"==typeof t&&null!==t&&t instanceof e_&&t.bubble?e.setAttribute("next.bubble",!0):(t&&(e.recordException(t),e.setAttribute("error.type",t.name)),e.setStatus({code:ev.ERROR,message:null==t?void 0:t.message})),e.end()},ek=new Map,eE=t.createContextKey("next.rootSpanId"),e$=0,eT={set(e,t,r){e.push({key:t,value:r})}},eS=(u=new class e{getTracerInstance(){return ey.getTracer("next.js","0.0.1")}getContext(){return em}getTracePropagationData(){let e=em.active(),t=[];return eg.inject(e,t,eT),t}getActiveScopeSpan(){return ey.getSpan(null==em?void 0:em.active())}withPropagatedContext(e,t,r){let n=em.active();if(ey.getSpanContext(n))return t();let i=eg.extract(n,e,r);return em.with(i,t)}trace(...e){let[t,r,n]=e,{fn:i,options:a}="function"==typeof r?{fn:r,options:{}}:{fn:n,options:{...r}},s=a.spanName??t;if(!ep.has(t)&&"1"!==process.env.NEXT_OTEL_VERBOSE||a.hideSpan)return i();let o=this.getSpanContext((null==a?void 0:a.parentSpan)??this.getActiveScopeSpan());o||(o=(null==em?void 0:em.active())??ew);let l=o.getValue(eE),u="number"!=typeof l||!ek.has(l),c=e$++;return a.attributes={"next.span_name":s,"next.span_type":t,...a.attributes},em.with(o.setValue(eE,c),()=>this.getTracerInstance().startActiveSpan(s,a,e=>{let r;eh&&t&&ef.has(t)&&(r="performance"in globalThis&&"measure"in performance?globalThis.performance.now():void 0);let n=!1,s=()=>{!n&&(n=!0,ek.delete(c),r&&performance.measure(`${eh}:next-${(t.split(".").pop()||"").replace(/[A-Z]/g,e=>"-"+e.toLowerCase())}`,{start:r,end:performance.now()}))};if(u&&ek.set(c,new Map(Object.entries(a.attributes??{}))),i.length>1)try{return i(e,t=>ex(e,t))}catch(t){throw ex(e,t),t}finally{s()}try{let t=i(e);if(null!==t&&"object"==typeof t&&"then"in t&&"function"==typeof t.then)return t.then(t=>(e.end(),t)).catch(t=>{throw ex(e,t),t}).finally(s);return e.end(),s(),t}catch(t){throw ex(e,t),s(),t}}))}wrap(...e){let t=this,[r,n,i]=3===e.length?e:[e[0],{},e[1]];return ep.has(r)||"1"===process.env.NEXT_OTEL_VERBOSE?function(){let e=n;"function"==typeof e&&"function"==typeof i&&(e=e.apply(this,arguments));let a=arguments.length-1,s=arguments[a];if("function"!=typeof s)return t.trace(r,e,()=>i.apply(this,arguments));{let n=t.getContext().bind(em.active(),s);return t.trace(r,e,(e,t)=>(arguments[a]=function(e){return null==t||t(e),n.apply(this,arguments)},i.apply(this,arguments)))}}:i}startSpan(...e){let[t,r]=e,n=this.getSpanContext((null==r?void 0:r.parentSpan)??this.getActiveScopeSpan());return this.getTracerInstance().startSpan(t,r,n)}getSpanContext(e){return e?ey.setSpan(em.active(),e):void 0}getRootSpanAttributes(){let e=em.active().getValue(eE);return ek.get(e)}setRootSpanAttribute(e,t){let r=em.active().getValue(eE),n=ek.get(r);n&&!n.has(e)&&n.set(e,t)}},()=>u),eI="x-next-cache-tags",eA={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",apiNode:"api-node",apiEdge:"api-edge",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",pagesDirBrowser:"pages-dir-browser",pagesDirEdge:"pages-dir-edge",pagesDirNode:"pages-dir-node"};({...eA,GROUP:{builtinReact:[eA.reactServerComponents,eA.actionBrowser],serverOnly:[eA.reactServerComponents,eA.actionBrowser,eA.instrument,eA.middleware],neutralTarget:[eA.apiNode,eA.apiEdge],clientOnly:[eA.serverSideRendering,eA.appPagesBrowser],bundled:[eA.reactServerComponents,eA.actionBrowser,eA.serverSideRendering,eA.appPagesBrowser,eA.shared,eA.instrument,eA.middleware],appPages:[eA.reactServerComponents,eA.serverSideRendering,eA.appPagesBrowser,eA.actionBrowser]}});var eO=e.i(84523);class eN extends Error{constructor(e){super(`Dynamic server usage: ${e}`),this.description=e,this.digest="DYNAMIC_SERVER_USAGE"}}class eR extends Error{constructor(...e){super(...e),this.code="NEXT_STATIC_GEN_BAILOUT"}}var eP=e.i(32319),eU=e.i(56704);class eD extends Error{constructor(e,t){super(`During prerendering, ${t} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${t} to a different context by using \`setTimeout\`, \`after\`, or similar functions you may observe this error and you should handle it in that context. This occurred at route "${e}".`),this.route=e,this.expression=t,this.digest="HANGING_PROMISE_REJECTION"}}let eC=new WeakMap;function ej(e,t,r){if(e.aborted)return Promise.reject(new eD(t,r));{let n=new Promise((n,i)=>{let a=i.bind(null,new eD(t,r)),s=eC.get(e);if(s)s.push(a);else{let t=[a];eC.set(e,t),e.addEventListener("abort",()=>{for(let e=0;e<t.length;e++)t[e]()},{once:!0})}});return n.catch(eL),n}}function eL(){}class ez extends Error{constructor(e,t){super(`Invariant: ${e.endsWith(".")?e:e+"."} This is a bug in Next.js.`,t),this.name="InvariantError"}}let eM="function"==typeof eO.default.unstable_postpone;function eq(e,t,r){if(t)switch(t.type){case"cache":case"unstable-cache":case"private-cache":return}if(!e.forceDynamic&&!e.forceStatic){if(e.dynamicShouldError)throw Object.defineProperty(new eR(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${r}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:!1,configurable:!0});if(t)switch(t.type){case"prerender-ppr":var n,i,a;return n=e.route,i=r,a=t.dynamicTracking,void(function(){if(!eM)throw Object.defineProperty(Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E224",enumerable:!1,configurable:!0})}(),a&&a.dynamicAccesses.push({stack:a.isDebugDynamicAccesses?Error().stack:void 0,expression:i}),eO.default.unstable_postpone(eZ(n,i)));case"prerender-legacy":t.revalidate=0;let s=Object.defineProperty(new eN(`Route ${e.route} couldn't be rendered statically because it used ${r}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E550",enumerable:!1,configurable:!0});throw e.dynamicUsageDescription=r,e.dynamicUsageStack=s.stack,s}}}function eZ(e,t){return`Route ${e} needs to bail out of prerendering at this point because it used ${t}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`}if(!1===((D=eZ("%%%","^^^")).includes("needs to bail out of prerendering at this point because it used")&&D.includes("Learn more: https://nextjs.org/docs/messages/ppr-caught-error")))throw Object.defineProperty(Error("Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E296",enumerable:!1,configurable:!0});RegExp(`\\n\\s+at Suspense \\(<anonymous>\\)(?:(?!\\n\\s+at (?:body|div|main|section|article|aside|header|footer|nav|form|p|span|h1|h2|h3|h4|h5|h6) \\(<anonymous>\\))[\\s\\S])*?\\n\\s+at __next_root_layout_boundary__ \\([^\\n]*\\)`),RegExp(`\\n\\s+at __next_metadata_boundary__[\\n\\s]`),RegExp(`\\n\\s+at __next_viewport_boundary__[\\n\\s]`),RegExp(`\\n\\s+at __next_outlet_boundary__[\\n\\s]`);let eV=()=>{};function eF(e){if(!e.body)return[e,e];let[t,n]=e.body.tee(),i=new Response(t,{status:e.status,statusText:e.statusText,headers:e.headers});Object.defineProperty(i,"url",{value:e.url,configurable:!0,enumerable:!0,writable:!1}),r&&i.body&&r.register(i,new WeakRef(i.body));let a=new Response(n,{status:e.status,statusText:e.statusText,headers:e.headers});return Object.defineProperty(a,"url",{value:e.url,configurable:!0,enumerable:!0,writable:!1}),[i,a]}globalThis.FinalizationRegistry&&(r=new FinalizationRegistry(e=>{let t=e.deref();t&&!t.locked&&t.cancel("Response object has been garbage collected").then(eV)}));let eB=new Set(["traceparent","tracestate"]);class eW{constructor(){let e,t;this.promise=new Promise((r,n)=>{e=r,t=n}),this.resolve=e,this.reject=t}}var eH=((C={}).APP_PAGE="APP_PAGE",C.APP_ROUTE="APP_ROUTE",C.PAGES="PAGES",C.FETCH="FETCH",C.REDIRECT="REDIRECT",C.IMAGE="IMAGE",C),eK=((j={}).APP_PAGE="APP_PAGE",j.APP_ROUTE="APP_ROUTE",j.PAGES="PAGES",j.FETCH="FETCH",j.IMAGE="IMAGE",j);function eG(){}new Uint8Array([60,104,116,109,108]),new Uint8Array([60,98,111,100,121]),new Uint8Array([60,47,104,101,97,100,62]),new Uint8Array([60,47,98,111,100,121,62]),new Uint8Array([60,47,104,116,109,108,62]),new Uint8Array([60,47,98,111,100,121,62,60,47,104,116,109,108,62]),new Uint8Array([60,109,101,116,97,32,110,97,109,101,61,34,194,171,110,120,116,45,105,99,111,110,194,187,34]);let eJ=new TextEncoder;function eQ(e){return new ReadableStream({start(t){t.enqueue(eJ.encode(e)),t.close()}})}function eY(e){return new ReadableStream({start(t){t.enqueue(e),t.close()}})}async function eX(e,t){let r=new TextDecoder("utf-8",{fatal:!0}),n="";for await(let i of e){if(null==t?void 0:t.aborted)return n;n+=r.decode(i,{stream:!0})}return n+r.decode()}let e0=Symbol.for("NextInternalRequestMeta");function e1(e,t){let r=e[e0]||{};return"string"==typeof t?r[t]:r}function e4(e){let t=new Headers;for(let[r,n]of Object.entries(e))for(let e of Array.isArray(n)?n:[n])void 0!==e&&("number"==typeof e&&(e=e.toString()),t.append(r,e));return t}function e6(e){var t,r,n,i,a,s=[],o=0;function l(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}for(;o<e.length;){for(t=o,a=!1;l();)if(","===(r=e.charAt(o))){for(n=o,o+=1,l(),i=o;o<e.length&&"="!==(r=e.charAt(o))&&";"!==r&&","!==r;)o+=1;o<e.length&&"="===e.charAt(o)?(a=!0,o=i,s.push(e.substring(t,n)),t=o):o=n+1}else o+=1;(!a||o>=e.length)&&s.push(e.substring(t,e.length))}return s}function e2(e){let t={},r=[];if(e)for(let[n,i]of e.entries())"set-cookie"===n.toLowerCase()?(r.push(...e6(i)),t[n]=1===r.length?r[0]:r):t[n]=i;return t}function e9(e){return e.replace(/\/$/,"")||"/"}function e3(e){let t=e.indexOf("#"),r=e.indexOf("?"),n=r>-1&&(t<0||r<t);return n||t>-1?{pathname:e.substring(0,n?r:t),query:n?e.substring(r,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}function e5(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:n,hash:i}=e3(e);return`${t}${r}${n}${i}`}function e8(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:n,hash:i}=e3(e);return`${r}${t}${n}${i}`}function e7(e,t){if("string"!=typeof e)return!1;let{pathname:r}=e3(e);return r===t||r.startsWith(t+"/")}let te=new WeakMap;function tt(e,t){let r;if(!t)return{pathname:e};let n=te.get(t);n||(n=t.map(e=>e.toLowerCase()),te.set(t,n));let i=e.split("/",2);if(!i[1])return{pathname:e};let a=i[1].toLowerCase(),s=n.indexOf(a);return s<0?{pathname:e}:(r=t[s],{pathname:e=e.slice(r.length+1)||"/",detectedLocale:r})}let tr=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function tn(e,t){return new URL(String(e).replace(tr,"localhost"),t&&String(t).replace(tr,"localhost"))}let ti=Symbol("NextURLInternal");class ta{constructor(e,t,r){let n,i;"object"==typeof t&&"pathname"in t||"string"==typeof t?(n=t,i=r||{}):i=r||t||{},this[ti]={url:tn(e,n??i.base),options:i,basePath:""},this.analyze()}analyze(){var e,t,r,n,i;let a=function(e,t){let{basePath:r,i18n:n,trailingSlash:i}=t.nextConfig??{},a={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):i};r&&e7(a.pathname,r)&&(a.pathname=function(e,t){if(!e7(e,t))return e;let r=e.slice(t.length);return r.startsWith("/")?r:`/${r}`}(a.pathname,r),a.basePath=r);let s=a.pathname;if(a.pathname.startsWith("/_next/data/")&&a.pathname.endsWith(".json")){let e=a.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/");a.buildId=e[0],s="index"!==e[1]?`/${e.slice(1).join("/")}`:"/",!0===t.parseData&&(a.pathname=s)}if(n){let e=t.i18nProvider?t.i18nProvider.analyze(a.pathname):tt(a.pathname,n.locales);a.locale=e.detectedLocale,a.pathname=e.pathname??a.pathname,!e.detectedLocale&&a.buildId&&(e=t.i18nProvider?t.i18nProvider.analyze(s):tt(s,n.locales)).detectedLocale&&(a.locale=e.detectedLocale)}return a}(this[ti].url.pathname,{nextConfig:this[ti].options.nextConfig,parseData:!0,i18nProvider:this[ti].options.i18nProvider}),s=function(e,t){let r;if(t?.host&&!Array.isArray(t.host))r=t.host.toString().split(":",1)[0];else{if(!e.hostname)return;r=e.hostname}return r.toLowerCase()}(this[ti].url,this[ti].options.headers);this[ti].domainLocale=this[ti].options.i18nProvider?this[ti].options.i18nProvider.detectDomainLocale(s):function(e,t,r){if(e){for(let n of(r&&(r=r.toLowerCase()),e))if(t===n.domain?.split(":",1)[0].toLowerCase()||r===n.defaultLocale.toLowerCase()||n.locales?.some(e=>e.toLowerCase()===r))return n}}(null==(t=this[ti].options.nextConfig)||null==(e=t.i18n)?void 0:e.domains,s);let o=(null==(r=this[ti].domainLocale)?void 0:r.defaultLocale)||(null==(i=this[ti].options.nextConfig)||null==(n=i.i18n)?void 0:n.defaultLocale);this[ti].url.pathname=a.pathname,this[ti].defaultLocale=o,this[ti].basePath=a.basePath??"",this[ti].buildId=a.buildId,this[ti].locale=a.locale??o,this[ti].trailingSlash=a.trailingSlash}formatPathname(){var e;let t;return t=function(e,t,r,n){if(!t||t===r)return e;let i=e.toLowerCase();return!n&&(e7(i,"/api")||e7(i,`/${t.toLowerCase()}`))?e:e5(e,`/${t}`)}((e={basePath:this[ti].basePath,buildId:this[ti].buildId,defaultLocale:this[ti].options.forceLocale?void 0:this[ti].defaultLocale,locale:this[ti].locale,pathname:this[ti].url.pathname,trailingSlash:this[ti].trailingSlash}).pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix),(e.buildId||!e.trailingSlash)&&(t=e9(t)),e.buildId&&(t=e8(e5(t,`/_next/data/${e.buildId}`),"/"===e.pathname?"index.json":".json")),t=e5(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:e8(t,"/"):e9(t)}formatSearch(){return this[ti].url.search}get buildId(){return this[ti].buildId}set buildId(e){this[ti].buildId=e}get locale(){return this[ti].locale??""}set locale(e){var t,r;if(!this[ti].locale||!(null==(r=this[ti].options.nextConfig)||null==(t=r.i18n)?void 0:t.locales.includes(e)))throw Object.defineProperty(TypeError(`The NextURL configuration includes no locale "${e}"`),"__NEXT_ERROR_CODE",{value:"E597",enumerable:!1,configurable:!0});this[ti].locale=e}get defaultLocale(){return this[ti].defaultLocale}get domainLocale(){return this[ti].domainLocale}get searchParams(){return this[ti].url.searchParams}get host(){return this[ti].url.host}set host(e){this[ti].url.host=e}get hostname(){return this[ti].url.hostname}set hostname(e){this[ti].url.hostname=e}get port(){return this[ti].url.port}set port(e){this[ti].url.port=e}get protocol(){return this[ti].url.protocol}set protocol(e){this[ti].url.protocol=e}get href(){let e=this.formatPathname(),t=this.formatSearch();return`${this.protocol}//${this.host}${e}${t}${this.hash}`}set href(e){this[ti].url=tn(e),this.analyze()}get origin(){return this[ti].url.origin}get pathname(){return this[ti].url.pathname}set pathname(e){this[ti].url.pathname=e}get hash(){return this[ti].url.hash}set hash(e){this[ti].url.hash=e}get search(){return this[ti].url.search}set search(e){this[ti].url.search=e}get password(){return this[ti].url.password}set password(e){this[ti].url.password=e}get username(){return this[ti].url.username}set username(e){this[ti].url.username=e}get basePath(){return this[ti].basePath}set basePath(e){this[ti].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new ta(String(this),this[ti].options)}}class ts extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class to extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}var tl=e.i(26734);let tu=Symbol("internal request");class tc extends Request{constructor(e,t={}){const r="string"!=typeof e&&"url"in e?e.url:String(e);!function(e){try{String(new URL(String(e)))}catch(t){throw Object.defineProperty(Error(`URL is malformed "${String(e)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:t}),"__NEXT_ERROR_CODE",{value:"E61",enumerable:!1,configurable:!0})}}(r),t.body&&"half"!==t.duplex&&(t.duplex="half"),e instanceof Request?super(e,t):super(r,t);const n=new ta(r,{headers:e2(this.headers),nextConfig:t.nextConfig});this[tu]={cookies:new tl.RequestCookies(this.headers),nextUrl:n,url:n.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[tu].cookies}get nextUrl(){return this[tu].nextUrl}get page(){throw new ts}get ua(){throw new to}get url(){return this[tu].url}}let td="ResponseAborted";class tp extends Error{constructor(...e){super(...e),this.name=td}}function tf(e){let t=new AbortController;return e.once("close",()=>{e.writableFinished||t.abort(new tp)}),t}class th{static fromBaseNextRequest(e,t){return th.fromNodeNextRequest(e,t)}static fromNodeNextRequest(e,t){let r,n=null;if("GET"!==e.method&&"HEAD"!==e.method&&e.body&&(n=e.body),e.url.startsWith("http"))r=new URL(e.url);else{let t=e1(e,"initURL");r=t&&t.startsWith("http")?new URL(e.url,t):new URL(e.url,"http://n")}return new tc(r,{method:e.method,headers:e4(e.headers),duplex:"half",signal:t,...t.aborted?{}:{body:n}})}static fromWebNextRequest(e){let t=null;return"GET"!==e.method&&"HEAD"!==e.method&&(t=e.body),new tc(e.url,{method:e.method,headers:e4(e.headers),duplex:"half",signal:e.request.signal,...e.request.signal.aborted?{}:{body:t}})}}let tm=0,tg=0,ty=0;function tv(e){return(null==e?void 0:e.name)==="AbortError"||(null==e?void 0:e.name)===td}async function tb(e,t,r){try{let{errored:n,destroyed:i}=t;if(n||i)return;let a=tf(t),s=function(e,t){let r=!1,n=new eW;function i(){n.resolve()}e.on("drain",i),e.once("close",()=>{e.off("drain",i),n.resolve()});let a=new eW;return e.once("finish",()=>{a.resolve()}),new WritableStream({write:async t=>{if(!r){if(r=!0,"performance"in globalThis&&process.env.NEXT_OTEL_PERFORMANCE_PREFIX){let e=function(e={}){let t=0===tm?void 0:{clientComponentLoadStart:tm,clientComponentLoadTimes:tg,clientComponentLoadCount:ty};return e.reset&&(tm=0,tg=0,ty=0),t}();e&&performance.measure(`${process.env.NEXT_OTEL_PERFORMANCE_PREFIX}:next-client-component-loading`,{start:e.clientComponentLoadStart,end:e.clientComponentLoadStart+e.clientComponentLoadTimes})}e.flushHeaders(),eS().trace(en.startResponse,{spanName:"start response"},()=>void 0)}try{let r=e.write(t);"flush"in e&&"function"==typeof e.flush&&e.flush(),r||(await n.promise,n=new eW)}catch(t){throw e.end(),Object.defineProperty(Error("failed to write chunk to response",{cause:t}),"__NEXT_ERROR_CODE",{value:"E321",enumerable:!1,configurable:!0})}},abort:t=>{e.writableFinished||e.destroy(t)},close:async()=>{if(t&&await t,!e.writableFinished)return e.end(),a.promise}})}(t,r);await e.pipeTo(s,{signal:a.signal})}catch(e){if(tv(e))return;throw Object.defineProperty(Error("failed to pipe response",{cause:e}),"__NEXT_ERROR_CODE",{value:"E180",enumerable:!1,configurable:!0})}}class tw{static #t=this.EMPTY=new tw(null,{metadata:{},contentType:null});static fromStatic(e,t){return new tw(e,{metadata:{},contentType:t})}constructor(e,{contentType:t,waitUntil:r,metadata:n}){this.response=e,this.contentType=t,this.metadata=n,this.waitUntil=r}assignMetadata(e){Object.assign(this.metadata,e)}get isNull(){return null===this.response}get isDynamic(){return"string"!=typeof this.response}toUnchunkedString(e=!1){if(null===this.response)return"";if("string"!=typeof this.response){if(!e)throw Object.defineProperty(new ez("dynamic responses cannot be unchunked. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E732",enumerable:!1,configurable:!0});return eX(this.readable)}return this.response}get readable(){return null===this.response?new ReadableStream({start(e){e.close()}}):"string"==typeof this.response?eQ(this.response):Buffer.isBuffer(this.response)?eY(this.response):Array.isArray(this.response)?function(...e){if(0===e.length)return new ReadableStream({start(e){e.close()}});if(1===e.length)return e[0];let{readable:t,writable:r}=new TransformStream,n=e[0].pipeTo(r,{preventClose:!0}),i=1;for(;i<e.length-1;i++){let t=e[i];n=n.then(()=>t.pipeTo(r,{preventClose:!0}))}let a=e[i];return(n=n.then(()=>a.pipeTo(r))).catch(eG),t}(...this.response):this.response}coerce(){return null===this.response?[]:"string"==typeof this.response?[eQ(this.response)]:Array.isArray(this.response)?this.response:Buffer.isBuffer(this.response)?[eY(this.response)]:[this.response]}unshift(e){this.response=this.coerce(),this.response.unshift(e)}push(e){this.response=this.coerce(),this.response.push(e)}async pipeTo(e){try{await this.readable.pipeTo(e,{preventClose:!0}),this.waitUntil&&await this.waitUntil,await e.close()}catch(t){if(tv(t))return void await e.abort(t);throw t}}async pipeToNodeResponse(e){await tb(this.readable,e,this.waitUntil)}}let t_=Symbol.for("next-patch");function tx(e,t){e.shouldTrackFetchMetrics&&(e.fetchMetrics??=[],e.fetchMetrics.push({...t,end:performance.timeOrigin+performance.now(),idx:e.nextFetchId||0}))}async function tk(e,t,r,n,i,a){let s=await e.arrayBuffer(),o={headers:Object.fromEntries(e.headers.entries()),body:Buffer.from(s).toString("base64"),status:e.status,url:e.url};return r&&await n.set(t,{kind:eH.FETCH,data:o,revalidate:i},r),await a(),new Response(s,{headers:e.headers,status:e.status,statusText:e.statusText})}async function tE(e,t,r,n,i,a,s,o,l){let[u,c]=eF(t),d=u.arrayBuffer().then(async e=>{let t=Buffer.from(e),o={headers:Object.fromEntries(u.headers.entries()),body:t.toString("base64"),status:u.status,url:u.url};null==a||a.set(r,o),n&&await i.set(r,{kind:eH.FETCH,data:o,revalidate:s},n)}).catch(e=>console.warn("Failed to set fetch cache",o,e)).finally(l),p=`cache-set-${r}`;return e.pendingRevalidates??={},p in e.pendingRevalidates&&await e.pendingRevalidates[p],e.pendingRevalidates[p]=d.finally(()=>{var t;(null==(t=e.pendingRevalidates)?void 0:t[p])&&delete e.pendingRevalidates[p]}),c}let t$=null;function tT(e){var t;return(t=e.split("/").reduce((e,t,r,n)=>t?"("===t[0]&&t.endsWith(")")||"@"===t[0]||("page"===t||"route"===t)&&r===n.length-1?e:`${e}/${t}`:e,"")).startsWith("/")?t:`/${t}`}let tS=Symbol.for("next.server.action-manifests");class tI{static get(e,t,r){let n=Reflect.get(e,t,r);return"function"==typeof n?n.bind(e):n}static set(e,t,r,n){return Reflect.set(e,t,r,n)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}class tA extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new tA}}class tO extends Headers{constructor(e){super(),this.headers=new Proxy(e,{get(t,r,n){if("symbol"==typeof r)return tI.get(t,r,n);let i=r.toLowerCase(),a=Object.keys(e).find(e=>e.toLowerCase()===i);if(void 0!==a)return tI.get(t,a,n)},set(t,r,n,i){if("symbol"==typeof r)return tI.set(t,r,n,i);let a=r.toLowerCase(),s=Object.keys(e).find(e=>e.toLowerCase()===a);return tI.set(t,s??r,n,i)},has(t,r){if("symbol"==typeof r)return tI.has(t,r);let n=r.toLowerCase(),i=Object.keys(e).find(e=>e.toLowerCase()===n);return void 0!==i&&tI.has(t,i)},deleteProperty(t,r){if("symbol"==typeof r)return tI.deleteProperty(t,r);let n=r.toLowerCase(),i=Object.keys(e).find(e=>e.toLowerCase()===n);return void 0===i||tI.deleteProperty(t,i)}})}static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"append":case"delete":case"set":return tA.callable;default:return tI.get(e,t,r)}}})}merge(e){return Array.isArray(e)?e.join(", "):e}static from(e){return e instanceof Headers?e:new tO(e)}append(e,t){let r=this.headers[e];"string"==typeof r?this.headers[e]=[r,t]:Array.isArray(r)?r.push(t):this.headers[e]=t}delete(e){delete this.headers[e]}get(e){let t=this.headers[e];return void 0!==t?this.merge(t):null}has(e){return void 0!==this.headers[e]}set(e,t){this.headers[e]=t}forEach(e,t){for(let[r,n]of this.entries())e.call(t,n,r,this)}*entries(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase(),r=this.get(t);yield[t,r]}}*keys(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase();yield t}}*values(){for(let e of Object.keys(this.headers)){let t=this.get(e);yield t}}[Symbol.iterator](){return this.entries()}}Symbol("__next_preview_data");let tN=Symbol("__prerender_bypass");var tR=((L={})[L.SeeOther=303]="SeeOther",L[L.TemporaryRedirect=307]="TemporaryRedirect",L[L.PermanentRedirect=308]="PermanentRedirect",L);class tP{constructor(e,t,r){this.method=e,this.url=t,this.body=r}get cookies(){var t;return this._cookies?this._cookies:this._cookies=(t=this.headers,function(){let{cookie:r}=t;if(!r)return{};let{parse:n}=e.r(17420);return n(Array.isArray(r)?r.join("; "):r)})()}}class tU{constructor(e){this.destination=e}redirect(e,t){return this.setHeader("Location",e),this.statusCode=t,t===tR.PermanentRedirect&&this.setHeader("Refresh",`0;url=${e}`),this}}class tD extends tP{static #t=W=e0;constructor(e){var t;super(e.method.toUpperCase(),e.url,e),this._req=e,this.headers=this._req.headers,this.fetchMetrics=null==(t=this._req)?void 0:t.fetchMetrics,this[W]=this._req[e0]||{},this.streaming=!1}get originalRequest(){return this._req[e0]=this[e0],this._req.url=this.url,this._req.cookies=this.cookies,this._req}set originalRequest(e){this._req=e}stream(){if(this.streaming)throw Object.defineProperty(Error("Invariant: NodeNextRequest.stream() can only be called once"),"__NEXT_ERROR_CODE",{value:"E467",enumerable:!1,configurable:!0});return this.streaming=!0,new ReadableStream({start:e=>{this._req.on("data",t=>{e.enqueue(new Uint8Array(t))}),this._req.on("end",()=>{e.close()}),this._req.on("error",t=>{e.error(t)})}})}}class tC extends tU{get originalResponse(){return tN in this&&(this._res[tN]=this[tN]),this._res}constructor(e){super(e),this._res=e,this.textBody=void 0}get sent(){return this._res.finished||this._res.headersSent}get statusCode(){return this._res.statusCode}set statusCode(e){this._res.statusCode=e}get statusMessage(){return this._res.statusMessage}set statusMessage(e){this._res.statusMessage=e}setHeader(e,t){return this._res.setHeader(e,t),this}removeHeader(e){return this._res.removeHeader(e),this}getHeaderValues(e){let t=this._res.getHeader(e);if(void 0!==t)return(Array.isArray(t)?t:[t]).map(e=>e.toString())}hasHeader(e){return this._res.hasHeader(e)}getHeader(e){let t=this.getHeaderValues(e);return Array.isArray(t)?t.join(","):void 0}getHeaders(){return this._res.getHeaders()}appendHeader(e,t){let r=this.getHeaderValues(e)??[];return r.includes(t)||this._res.setHeader(e,[...r,t]),this}body(e){return this.textBody=e,this}send(){this._res.end(this.textBody)}onClose(e){this.originalResponse.on("close",e)}}function tj(e){return e.isOnDemandRevalidate?"on-demand":e.isStaticGeneration?"stale":void 0}async function tL(e,t,r,n){{var i;t.statusCode=r.status,t.statusMessage=r.statusText;let a=["set-cookie","www-authenticate","proxy-authenticate","vary"];null==(i=r.headers)||i.forEach((e,r)=>{if("x-middleware-set-cookie"!==r.toLowerCase())if("set-cookie"===r.toLowerCase())for(let n of e6(e))t.appendHeader(r,n);else{let n=void 0!==t.getHeader(r);(a.includes(r.toLowerCase())||!n)&&t.appendHeader(r,e)}});let{originalResponse:s}=t;r.body&&"HEAD"!==e.method?await tb(r.body,s,n):s.end()}}var tz=e.i(93695);let tM={USER_NOT_FOUND:"User not found",FAILED_TO_CREATE_USER:"Failed to create user",FAILED_TO_CREATE_SESSION:"Failed to create session",FAILED_TO_UPDATE_USER:"Failed to update user",FAILED_TO_GET_SESSION:"Failed to get session",INVALID_PASSWORD:"Invalid password",INVALID_EMAIL:"Invalid email",INVALID_EMAIL_OR_PASSWORD:"Invalid email or password",SOCIAL_ACCOUNT_ALREADY_LINKED:"Social account already linked",PROVIDER_NOT_FOUND:"Provider not found",INVALID_TOKEN:"Invalid token",ID_TOKEN_NOT_SUPPORTED:"id_token not supported",FAILED_TO_GET_USER_INFO:"Failed to get user info",USER_EMAIL_NOT_FOUND:"User email not found",EMAIL_NOT_VERIFIED:"Email not verified",PASSWORD_TOO_SHORT:"Password too short",PASSWORD_TOO_LONG:"Password too long",USER_ALREADY_EXISTS:"User already exists.",USER_ALREADY_EXISTS_USE_ANOTHER_EMAIL:"User already exists. Use another email.",EMAIL_CAN_NOT_BE_UPDATED:"Email can not be updated",CREDENTIAL_ACCOUNT_NOT_FOUND:"Credential account not found",SESSION_EXPIRED:"Session expired. Re-authenticate to perform this action.",FAILED_TO_UNLINK_LAST_ACCOUNT:"You can't unlink your last account",ACCOUNT_NOT_FOUND:"Account not found",USER_ALREADY_HAS_PASSWORD:"User already has a password. Provide that to delete the account."};class tq extends Error{constructor(e,t){super(e),this.name="BetterAuthError",this.message=e,this.cause=t,this.stack=""}}let tZ=Object.create(null),tV=e=>globalThis.process?.env||globalThis.Deno?.env.toObject()||globalThis.__env__||(e?tZ:globalThis),tF=new Proxy(tZ,{get:(e,t)=>tV()[t]??tZ[t],has:(e,t)=>t in tV()||t in tZ,set:(e,t,r)=>(tV(!0)[t]=r,!0),deleteProperty(e,t){if(!t)return!1;let r=tV(!0);return delete r[t],!0},ownKeys:()=>Object.keys(tV(!0))}),tB="undefined"!=typeof process&&process.env&&"production"||"",tW="production"===tB,tH=()=>"dev"===tB||"development"===tB,tK=()=>{var e;return"test"===tB||!!(e=tF.TEST)&&"false"!==e};function tG(e,t){return"undefined"!=typeof process&&process.env?process.env[e]??t:"undefined"!=typeof Deno?Deno.env.get(e)??t:"undefined"!=typeof Bun?Bun.env[e]??t:t}function tJ(e,t=!0){let r=tG(e);return r?"0"!==r&&"false"!==r.toLowerCase()&&""!==r:t}let tQ=Object.freeze({get BETTER_AUTH_SECRET(){return tG("BETTER_AUTH_SECRET")},get AUTH_SECRET(){return tG("AUTH_SECRET")},get BETTER_AUTH_TELEMETRY(){return tG("BETTER_AUTH_TELEMETRY")},get BETTER_AUTH_TELEMETRY_ID(){return tG("BETTER_AUTH_TELEMETRY_ID")},get NODE_ENV(){return tG("NODE_ENV","development")},get PACKAGE_VERSION(){return tG("PACKAGE_VERSION","0.0.0")},get BETTER_AUTH_TELEMETRY_ENDPOINT(){return tG("BETTER_AUTH_TELEMETRY_ENDPOINT","https://telemetry.better-auth.com/v1/track")}}),tY={eterm:4,cons25:4,console:4,cygwin:4,dtterm:4,gnome:4,hurd:4,jfbterm:4,konsole:4,kterm:4,mlterm:4,mosh:24,putty:4,st:4,"rxvt-unicode-24bit":24,terminator:24,"xterm-kitty":24},tX=new Map(Object.entries({APPVEYOR:8,BUILDKITE:8,CIRCLECI:24,DRONE:8,GITEA_ACTIONS:24,GITHUB_ACTIONS:24,GITLAB_CI:8,TRAVIS:8})),t0=[/ansi/,/color/,/linux/,/direct/,/^con[0-9]*x[0-9]/,/^rxvt/,/^screen/,/^xterm/,/^vt100/,/^vt220/];function t1(){if(void 0!==tG("FORCE_COLOR"))switch(tG("FORCE_COLOR")){case"":case"1":case"true":return 4;case"2":return 8;case"3":return 24;default:return 1}if(void 0!==tG("NODE_DISABLE_COLORS")&&""!==tG("NODE_DISABLE_COLORS")||void 0!==tG("NO_COLOR")&&""!==tG("NO_COLOR")||"dumb"===tG("TERM"))return 1;if(tG("TMUX"))return 24;if("TF_BUILD"in tF&&"AGENT_NAME"in tF)return 4;if("CI"in tF){for(let{0:e,1:t}of tX)if(e in tF)return t;return"codeship"===tG("CI_NAME")?8:1}if("TEAMCITY_VERSION"in tF)return null!==/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.exec(tG("TEAMCITY_VERSION"))?4:1;switch(tG("TERM_PROGRAM")){case"iTerm.app":if(!tG("TERM_PROGRAM_VERSION")||null!==/^[0-2]\./.exec(tG("TERM_PROGRAM_VERSION")))return 8;return 24;case"HyperTerm":case"MacTerm":return 24;case"Apple_Terminal":return 8}if("truecolor"===tG("COLORTERM")||"24bit"===tG("COLORTERM"))return 24;if(tG("TERM")){if(null!==/truecolor/.exec(tG("TERM")))return 24;if(null!==/^xterm-256/.exec(tG("TERM")))return 8;let e=tG("TERM").toLowerCase();if(tY[e])return tY[e];if(t0.some(t=>null!==t.exec(e)))return 4}return tG("COLORTERM")?4:1}let t4="\x1b[0m",t6="\x1b[1m",t2="\x1b[2m",t9="\x1b[31m",t3="\x1b[32m",t5="\x1b[33m",t8="\x1b[34m",t7="\x1b[35m",re="\x1b[40m",rt=["info","success","warn","error","debug"];function rr(e,t){return rt.indexOf(t)<=rt.indexOf(e)}let rn={info:t8,success:t3,warn:t5,error:t9,debug:t7},ri=e=>{let t=e?.disabled!==!0,r=e?.level??"error",n=e?.disableColors!==void 0?!e.disableColors:1!==t1();return{...Object.fromEntries(rt.map(i=>[i,(...[a,...s])=>((i,a,s=[])=>{let o;if(!t||!rr(r,i))return;let l=(o=new Date().toISOString(),n?`${t2}${o}${t4} ${rn[i]}${i.toUpperCase()}${t4} ${t6}[Better Auth]:${t4} ${a}`:`${o} ${i.toUpperCase()} [Better Auth]: ${a}`);e&&"function"==typeof e.log?e.log("success"===i?"info":i,a,...s):"error"===i?console.error(l,...s):"warn"===i?console.warn(l,...s):console.log(l,...s)})(i,a,s)])),get level(){return r}}},ra=ri();function rs(e){return e?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"}function ro(e,t,r){let n="",i=0,a=0;for(let r of e)for(i=i<<8|r,a+=8;a>=6;)a-=6,n+=t[i>>a&63];if(a>0&&(n+=t[i<<6-a&63]),r){let e=(4-n.length%4)%4;n+="=".repeat(e)}return n}function rl(e,t){let r=new Map;for(let e=0;e<t.length;e++)r.set(t[e],e);let n=[],i=0,a=0;for(let t of e){if("="===t)break;let e=r.get(t);if(void 0===e)throw Error(`Invalid Base64 character: ${t}`);i=i<<6|e,(a+=6)>=8&&(a-=8,n.push(i>>a&255))}return Uint8Array.from(n)}let ru={encode(e,t={}){let r=rs(!1);return ro("string"==typeof e?new TextEncoder().encode(e):new Uint8Array(e),r,t.padding??!0)},decode(e){"string"!=typeof e&&(e=new TextDecoder().decode(e));let t=rs(e.includes("-")||e.includes("_"));return rl(e,t)}},rc={encode(e,t={}){let r=rs(!0);return ro("string"==typeof e?new TextEncoder().encode(e):new Uint8Array(e),r,t.padding??!0)},decode(e){let t=rs(e.includes("-")||e.includes("_"));return rl(e,t)}},rd=e=>{if("string"==typeof e&&(e=new TextEncoder().encode(e)),0===e.byteLength)return"";let t=new Uint8Array(e),r="";for(let e of t)r+=e.toString(16).padStart(2,"0");return r};function rp(){let e="undefined"!=typeof globalThis&&globalThis.crypto;if(e&&"object"==typeof e.subtle&&null!=e.subtle)return e.subtle;throw Error("crypto.subtle must be defined")}let rf=(e="SHA-256",t="none")=>{let r={importKey:async(t,r)=>rp().importKey("raw","string"==typeof t?new TextEncoder().encode(t):t,{name:"HMAC",hash:{name:e}},!1,[r]),sign:async(e,n)=>{"string"==typeof e&&(e=await r.importKey(e,"sign"));let i=await rp().sign("HMAC",e,"string"==typeof n?new TextEncoder().encode(n):n);return"hex"===t?rd(i):"base64"===t||"base64url"===t||"base64urlnopad"===t?rc.encode(i,{padding:"base64urlnopad"!==t}):i},verify:async(e,n,i)=>("string"==typeof e&&(e=await r.importKey(e,"verify")),"hex"===t&&(i=(e=>{if(!e)return"";if("string"==typeof e){if(e.length%2!=0||!RegExp("^[0123456789abcdef]+$").test(e))throw Error("Invalid hexadecimal string");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r/2]=parseInt(e.slice(r,r+2),16);return new TextDecoder().decode(t)}return new TextDecoder().decode(e)})(i)),("base64"===t||"base64url"===t||"base64urlnopad"===t)&&(i=await ru.decode(i)),rp().verify("HMAC",e,"string"==typeof i?new TextEncoder().encode(i):i,"string"==typeof n?new TextEncoder().encode(n):n))};return r},rh=new Map,rm={decode:(e,t="utf-8")=>(rh.has(t)||rh.set(t,new TextDecoder(t)),rh.get(t).decode(e)),encode:new TextEncoder().encode},rg=((c=function(){}).prototype=Object.create(null),c);function ry(){return{root:{key:""},static:new rg}}function rv(e){return e.split("/").filter(Boolean)}function rb(e,t){let r=new rg;for(let[n,i]of t){let t=n<0?e.slice(-1*n).join("/"):e[n];if("string"==typeof i)r[i]=t;else{let e=t.match(i);if(e)for(let t in e.groups)r[t]=e.groups[t]}}return r}function rw(e,t="",r,n){let i=rv(r),a=e.root,s=0,o=[];for(let e=0;e<i.length;e++){let t=i[e];if(t.startsWith("**")){a.wildcard||(a.wildcard={key:"**"}),a=a.wildcard,o.push([-e,t.split(":")[1]||"_",2===t.length]);break}if("*"===t||t.includes(":")){a.param||(a.param={key:"*"}),a=a.param;let r="*"===t;o.push([e,r?`_${s++}`:function(e){if(!e.includes(":",1))return e.slice(1);let t=e.replace(/:(\w+)/g,(e,t)=>`(?<${t}>\\w+)`);return RegExp(`^${t}$`)}(t),r]);continue}let r=a.static?.[t];if(r)a=r;else{let e={key:t};a.static||(a.static=new rg),a.static[t]=e,a=e}}let l=o.length>0;a.methods||(a.methods=new rg),a.methods[t]||(a.methods[t]=[]),a.methods[t].push({data:n||null,paramsMap:l?o:void 0}),l||(e.static[r]=a)}var r_=Object.defineProperty,rx={OK:200,CREATED:201,ACCEPTED:202,NO_CONTENT:204,MULTIPLE_CHOICES:300,MOVED_PERMANENTLY:301,FOUND:302,SEE_OTHER:303,NOT_MODIFIED:304,TEMPORARY_REDIRECT:307,BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,NOT_ACCEPTABLE:406,PROXY_AUTHENTICATION_REQUIRED:407,REQUEST_TIMEOUT:408,CONFLICT:409,GONE:410,LENGTH_REQUIRED:411,PRECONDITION_FAILED:412,PAYLOAD_TOO_LARGE:413,URI_TOO_LONG:414,UNSUPPORTED_MEDIA_TYPE:415,RANGE_NOT_SATISFIABLE:416,EXPECTATION_FAILED:417,"I'M_A_TEAPOT":418,MISDIRECTED_REQUEST:421,UNPROCESSABLE_ENTITY:422,LOCKED:423,FAILED_DEPENDENCY:424,TOO_EARLY:425,UPGRADE_REQUIRED:426,PRECONDITION_REQUIRED:428,TOO_MANY_REQUESTS:429,REQUEST_HEADER_FIELDS_TOO_LARGE:431,UNAVAILABLE_FOR_LEGAL_REASONS:451,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,HTTP_VERSION_NOT_SUPPORTED:505,VARIANT_ALSO_NEGOTIATES:506,INSUFFICIENT_STORAGE:507,LOOP_DETECTED:508,NOT_EXTENDED:510,NETWORK_AUTHENTICATION_REQUIRED:511},rk=function(e,t){class r extends e{#r;constructor(...e){if(function(){let e=Object.getOwnPropertyDescriptor(Error,"stackTraceLimit");return void 0===e?Object.isExtensible(Error):Object.prototype.hasOwnProperty.call(e,"writable")?e.writable:void 0!==e.set}()){const t=Error.stackTraceLimit;Error.stackTraceLimit=0,super(...e),Error.stackTraceLimit=t}else super(...e);const t=Error().stack;t&&(this.#r=function(e){let t=e.split("\n    at ");return t.length<=1?e:(t.splice(1,1),t.join("\n    at "))}(t.replace(/^Error/,this.name)))}get errorStack(){return this.#r}}return Object.defineProperty(r.prototype,"constructor",{get:()=>t,enumerable:!1,configurable:!0}),r}(class extends Error{constructor(e="INTERNAL_SERVER_ERROR",t,r={},n="number"==typeof e?e:rx[e]){super(t?.message,t?.cause?{cause:t.cause}:void 0),this.status=e,this.body=t,this.headers=r,this.statusCode=n,this.name="APIError",this.status=e,this.headers=r,this.statusCode=n,this.body=t?{code:t?.message?.toUpperCase().replace(/ /g,"_").replace(/[^A-Z0-9_]/g,""),...t}:void 0}},Error);async function rE(e){let t=e.headers.get("content-type")||"";if(e.body){if(t.includes("application/json"))return await e.json();if(t.includes("application/x-www-form-urlencoded")){let t=await e.formData(),r={};return t.forEach((e,t)=>{r[t]=e.toString()}),r}if(t.includes("multipart/form-data")){let t=await e.formData(),r={};return t.forEach((e,t)=>{r[t]=e}),r}return t.includes("text/plain")?await e.text():t.includes("application/octet-stream")?await e.arrayBuffer():t.includes("application/pdf")||t.includes("image/")||t.includes("video/")?await e.blob():t.includes("application/stream")||e.body instanceof ReadableStream?e.body:await e.text()}}function r$(e){return e instanceof rk||e?.name==="APIError"}function rT(e,t){if(e instanceof Response)return t?.headers instanceof Headers&&t.headers.forEach((t,r)=>{e.headers.set(r,t)}),e;if(e&&"object"==typeof e&&"_flag"in e&&"json"===e._flag){let r=e.body,n=e.routerResponse;if(n instanceof Response)return n;let i=new Headers({...n?.headers,...e.headers,...t?.headers,"Content-Type":"application/json"});return new Response(JSON.stringify(r),{...n,headers:i,status:e.status??t?.status??n?.status,statusText:t?.statusText??n?.statusText})}if(r$(e))return rT(e.body,{status:t?.status??e.statusCode,statusText:e.status.toString(),headers:t?.headers||e.headers});let r=e,n=new Headers(t?.headers);if(e){if("string"==typeof e)r=e,n.set("Content-Type","text/plain");else if(e instanceof ArrayBuffer||ArrayBuffer.isView(e))r=e,n.set("Content-Type","application/octet-stream");else if(e instanceof Blob)r=e,n.set("Content-Type",e.type||"application/octet-stream");else if(e instanceof FormData)r=e;else if(e instanceof URLSearchParams)r=e,n.set("Content-Type","application/x-www-form-urlencoded");else if(e instanceof ReadableStream)r=e,n.set("Content-Type","application/octet-stream");else if(function(e){if(void 0===e)return!1;let t=typeof e;return"string"===t||"number"===t||"boolean"===t||null===t||"object"===t&&(!!Array.isArray(e)||!e.buffer&&(e.constructor&&"Object"===e.constructor.name||"function"==typeof e.toJSON))}(e)){let t,i;t=0,i=new WeakMap,r=JSON.stringify(e,(e,r)=>{if("bigint"==typeof r)return r.toString();if("object"==typeof r&&null!==r){if(i.has(r))return`[Circular ref-${i.get(r)}]`;i.set(r,t++)}return r},void 0),n.set("Content-Type","application/json")}}else null===e&&(r=JSON.stringify(null)),n.set("content-type","application/json");return new Response(r,{...t,headers:n})}async function rS(e,t={}){let r={body:t.body,query:t.query};if(e.body){let n=await e.body["~standard"].validate(t.body);if(n.issues)return{data:null,error:rI(n.issues,"body")};r.body=n.value}if(e.query){let n=await e.query["~standard"].validate(t.query);if(n.issues)return{data:null,error:rI(n.issues,"query")};r.query=n.value}return e.requireHeaders&&!t.headers?{data:null,error:{message:"Headers is required"}}:e.requireRequest&&!t.request?{data:null,error:{message:"Request is required"}}:{data:r,error:null}}function rI(e,t){let r=[];for(let t of e){let e=t.message;r.push(e)}return{message:`Invalid ${t} parameters`}}var rA={name:"HMAC",hash:"SHA-256"},rO=async e=>{let t="string"==typeof e?new TextEncoder().encode(e):e;return await rp().importKey("raw",t,rA,!1,["sign","verify"])},rN=async(e,t,r)=>{try{let n=atob(e),i=new Uint8Array(n.length);for(let e=0,t=n.length;e<t;e++)i[e]=n.charCodeAt(e);return await rp().verify(rA,r,i,new TextEncoder().encode(t))}catch(e){return!1}},rR=async(e,t)=>{let r=await rO(t);return btoa(String.fromCharCode(...new Uint8Array(await rp().sign(rA.name,r,new TextEncoder().encode(e)))))},rP=async(e,t)=>{let r=await rR(e,t);return encodeURIComponent(e=`${e}.${r}`)},rU=(e,t)=>{let r=e;if(t)if("secure"===t)r="__Secure-"+e;else{if("host"!==t)return;r="__Host-"+e}return r},rD=(e,t,r={})=>{let n;if(n=r?.prefix==="secure"?`__Secure-${e}=${t}`:r?.prefix==="host"?`__Host-${e}=${t}`:`${e}=${t}`,e.startsWith("__Secure-")&&!r.secure&&(r.secure=!0),e.startsWith("__Host-")&&(r.secure||(r.secure=!0),"/"!==r.path&&(r.path="/"),r.domain&&(r.domain=void 0)),r&&"number"==typeof r.maxAge&&r.maxAge>=0){if(r.maxAge>3456e4)throw Error("Cookies Max-Age SHOULD NOT be greater than 400 days (34560000 seconds) in duration.");n+=`; Max-Age=${Math.floor(r.maxAge)}`}if(r.domain&&"host"!==r.prefix&&(n+=`; Domain=${r.domain}`),r.path&&(n+=`; Path=${r.path}`),r.expires){if(r.expires.getTime()-Date.now()>3456e7)throw Error("Cookies Expires SHOULD NOT be greater than 400 days (34560000 seconds) in the future.");n+=`; Expires=${r.expires.toUTCString()}`}return r.httpOnly&&(n+="; HttpOnly"),r.secure&&(n+="; Secure"),r.sameSite&&(n+=`; SameSite=${r.sameSite.charAt(0).toUpperCase()+r.sameSite.slice(1)}`),r.partitioned&&(r.secure||(r.secure=!0),n+="; Partitioned"),n},rC=async(e,t,r,n)=>rD(e,t=await rP(t,r),n),rj=async(e,{options:t,path:r})=>{let n=new Headers,{data:i,error:a}=await rS(t,e);if(a)throw new rk(400,{message:a.message,code:"VALIDATION_ERROR"});let s="headers"in e?e.headers instanceof Headers?e.headers:new Headers(e.headers):"request"in e&&e.request instanceof Request?e.request.headers:null,o=s?.get("cookie"),l=o?function(e){if("string"!=typeof e)throw TypeError("argument str must be a string");let t=new Map,r=0;for(;r<e.length;){let n=e.indexOf("=",r);if(-1===n)break;let i=e.indexOf(";",r);if(-1===i)i=e.length;else if(i<n){r=e.lastIndexOf(";",n-1)+1;continue}let a=e.slice(r,n).trim();if(!t.has(a)){let r=e.slice(n+1,i).trim();34===r.codePointAt(0)&&(r=r.slice(1,-1)),t.set(a,function(e){try{return e.includes("%")?decodeURIComponent(e):e}catch{return e}}(r))}r=i+1}return t}(o):void 0,u={...e,body:i.body,query:i.query,path:e.path||r,context:"context"in e&&e.context?e.context:{},returned:void 0,headers:e?.headers,request:e?.request,params:"params"in e?e.params:void 0,method:e.method,setHeader:(e,t)=>{n.set(e,t)},getHeader:e=>s?s.get(e):null,getCookie:(e,t)=>{let r=rU(e,t);return r&&l?.get(r)||null},getSignedCookie:async(e,t,r)=>{let n=rU(e,r);if(!n)return null;let i=l?.get(n);if(!i)return null;let a=i.lastIndexOf(".");if(a<1)return null;let s=i.substring(0,a),o=i.substring(a+1);if(44!==o.length||!o.endsWith("="))return null;let u=await rO(t);return!!await rN(o,s,u)&&s},setCookie:(e,t,r)=>{var i;let a=rD(e,i=encodeURIComponent(i=t),r);return n.append("set-cookie",a),a},setSignedCookie:async(e,t,r,i)=>{let a=await rC(e,t,r,i);return n.append("set-cookie",a),a},redirect:e=>(n.set("location",e),new rk("FOUND",void 0,n)),error:(e,t,r)=>new rk(e,t,r),json:(t,r)=>e.asResponse?{body:r?.body||t,routerResponse:r,_flag:"json"}:t,responseHeaders:n};for(let e of t.use||[]){let t=await e({...u,returnHeaders:!0,asResponse:!1});t.response&&Object.assign(u.context,t.response),t.headers&&t.headers.forEach((e,t)=>{u.responseHeaders.set(t,e)})}return u};function rL(e,t){let r=async r=>{let n="function"==typeof e?e:t,i=await rj(r,{options:"function"==typeof e?{}:e,path:"/"});if(!n)throw Error("handler must be defined");let a=await n(i),s=i.responseHeaders;return r.returnHeaders?{headers:s,response:a}:a};return r.options="function"==typeof e?{}:e,r}rL.create=e=>function(t,r){if("function"==typeof t)return rL({use:e?.use},t);if(!r)throw Error("Middleware handler is required");return rL({...t,method:"*",use:[...e?.use||[],...t.use||[]]},r)};var rz=(e,t,r)=>{let n=async(...n)=>{let i=n[0]||{},a=await rj(i,{options:t,path:e}),s=await r(a).catch(async e=>{if(r$(e)){let r=t.onAPIError;if(r&&await r(e),i.asResponse)return e}throw e}),o=a.responseHeaders;return i.asResponse?rT(s,{headers:o}):i.returnHeaders?{headers:o,response:s}:s};return n.options=t,n.path=e,n};function rM(e,t,r){function n(r,n){var i;for(let a in Object.defineProperty(r,"_zod",{value:r._zod??{},enumerable:!1}),(i=r._zod).traits??(i.traits=new Set),r._zod.traits.add(e),t(r,n),s.prototype)a in r||Object.defineProperty(r,a,{value:s.prototype[a].bind(r)});r._zod.constr=s,r._zod.def=n}let i=r?.Parent??Object;class a extends i{}function s(e){var t;let i=r?.Parent?new a:this;for(let r of(n(i,e),(t=i._zod).deferred??(t.deferred=[]),i._zod.deferred))r();return i}return Object.defineProperty(a,"name",{value:e}),Object.defineProperty(s,"init",{value:n}),Object.defineProperty(s,Symbol.hasInstance,{value:t=>!!r?.Parent&&t instanceof r.Parent||t?._zod?.traits?.has(e)}),Object.defineProperty(s,"name",{value:e}),s}rz.create=e=>(t,r,n)=>rz(t,{...r,use:[...r?.use||[],...e?.use||[]]},n),Object.freeze({status:"aborted"}),Symbol("zod_brand");var rq=class extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}},rZ={};function rV(e){return e&&Object.assign(rZ,e),rZ}var rF={},rB={BIGINT_FORMAT_RANGES:()=>ng,Class:()=>nN,NUMBER_FORMAT_RANGES:()=>nm,aborted:()=>nk,allowsEval:()=>nn,assert:()=>rQ,assertEqual:()=>rH,assertIs:()=>rG,assertNever:()=>rJ,assertNotEqual:()=>rK,assignProp:()=>r3,cached:()=>r1,captureStackTrace:()=>nt,cleanEnum:()=>nO,cleanRegex:()=>r6,clone:()=>nc,createTransparentProxy:()=>np,defineLazy:()=>r9,esc:()=>ne,escapeRegex:()=>nu,extend:()=>nb,finalizeIssue:()=>nT,floatSafeRemainder:()=>r2,getElementAtPath:()=>r5,getEnumValues:()=>rY,getLengthableOrigin:()=>nI,getParsedType:()=>ns,getSizableOrigin:()=>nS,isObject:()=>nr,isPlainObject:()=>ni,issue:()=>nA,joinValues:()=>rX,jsonStringifyReplacer:()=>r0,merge:()=>nw,normalizeParams:()=>nd,nullish:()=>r4,numKeys:()=>na,omit:()=>nv,optionalKeys:()=>nh,partial:()=>n_,pick:()=>ny,prefixIssues:()=>nE,primitiveTypes:()=>nl,promiseAllObject:()=>r8,propertyKeyTypes:()=>no,randomString:()=>r7,required:()=>nx,stringifyPrimitive:()=>nf,unwrapMessage:()=>n$};for(var rW in rB)r_(rF,rW,{get:rB[rW],enumerable:!0});function rH(e){return e}function rK(e){return e}function rG(e){}function rJ(e){throw Error()}function rQ(e){}function rY(e){let t=Object.values(e).filter(e=>"number"==typeof e);return Object.entries(e).filter(([e,r])=>-1===t.indexOf(+e)).map(([e,t])=>t)}function rX(e,t="|"){return e.map(e=>nf(e)).join(t)}function r0(e,t){return"bigint"==typeof t?t.toString():t}function r1(e){return{get value(){{let t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function r4(e){return null==e}function r6(e){let t=+!!e.startsWith("^"),r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function r2(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n;return Number.parseInt(e.toFixed(i).replace(".",""))%Number.parseInt(t.toFixed(i).replace(".",""))/10**i}function r9(e,t,r){Object.defineProperty(e,t,{get(){{let n=r();return e[t]=n,n}},set(r){Object.defineProperty(e,t,{value:r})},configurable:!0})}function r3(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function r5(e,t){return t?t.reduce((e,t)=>e?.[t],e):e}function r8(e){let t=Object.keys(e);return Promise.all(t.map(t=>e[t])).then(e=>{let r={};for(let n=0;n<t.length;n++)r[t[n]]=e[n];return r})}function r7(e=10){let t="abcdefghijklmnopqrstuvwxyz",r="";for(let n=0;n<e;n++)r+=t[Math.floor(Math.random()*t.length)];return r}function ne(e){return JSON.stringify(e)}var nt=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function nr(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}var nn=r1(()=>{if("undefined"!=typeof navigator&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return Function(""),!0}catch(e){return!1}});function ni(e){if(!1===nr(e))return!1;let t=e.constructor;if(void 0===t)return!0;let r=t.prototype;return!1!==nr(r)&&!1!==Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")}function na(e){let t=0;for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}var ns=e=>{let t=typeof e;switch(t){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(e)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return"promise";if("undefined"!=typeof Map&&e instanceof Map)return"map";if("undefined"!=typeof Set&&e instanceof Set)return"set";if("undefined"!=typeof Date&&e instanceof Date)return"date";if("undefined"!=typeof File&&e instanceof File)return"file";return"object";default:throw Error(`Unknown data type: ${t}`)}},no=new Set(["string","number","symbol"]),nl=new Set(["string","number","bigint","boolean","symbol","undefined"]);function nu(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function nc(e,t,r){let n=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(n._zod.parent=e),n}function nd(e){if(!e)return{};if("string"==typeof e)return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");e.error=e.message}return(delete e.message,"string"==typeof e.error)?{...e,error:()=>e.error}:e}function np(e){let t;return new Proxy({},{get:(r,n,i)=>(t??(t=e()),Reflect.get(t,n,i)),set:(r,n,i,a)=>(t??(t=e()),Reflect.set(t,n,i,a)),has:(r,n)=>(t??(t=e()),Reflect.has(t,n)),deleteProperty:(r,n)=>(t??(t=e()),Reflect.deleteProperty(t,n)),ownKeys:r=>(t??(t=e()),Reflect.ownKeys(t)),getOwnPropertyDescriptor:(r,n)=>(t??(t=e()),Reflect.getOwnPropertyDescriptor(t,n)),defineProperty:(r,n,i)=>(t??(t=e()),Reflect.defineProperty(t,n,i))})}function nf(e){return"bigint"==typeof e?e.toString()+"n":"string"==typeof e?`"${e}"`:`${e}`}function nh(e){return Object.keys(e).filter(t=>"optional"===e[t]._zod.optin&&"optional"===e[t]._zod.optout)}var nm={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-0x80000000,0x7fffffff],uint32:[0,0xffffffff],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},ng={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function ny(e,t){let r={},n=e._zod.def;for(let e in t){if(!(e in n.shape))throw Error(`Unrecognized key: "${e}"`);t[e]&&(r[e]=n.shape[e])}return nc(e,{...e._zod.def,shape:r,checks:[]})}function nv(e,t){let r={...e._zod.def.shape},n=e._zod.def;for(let e in t){if(!(e in n.shape))throw Error(`Unrecognized key: "${e}"`);t[e]&&delete r[e]}return nc(e,{...e._zod.def,shape:r,checks:[]})}function nb(e,t){if(!ni(t))throw Error("Invalid input to extend: expected a plain object");let r={...e._zod.def,get shape(){let r={...e._zod.def.shape,...t};return r3(this,"shape",r),r},checks:[]};return nc(e,r)}function nw(e,t){return nc(e,{...e._zod.def,get shape(){let r={...e._zod.def.shape,...t._zod.def.shape};return r3(this,"shape",r),r},catchall:t._zod.def.catchall,checks:[]})}function n_(e,t,r){let n=t._zod.def.shape,i={...n};if(r)for(let t in r){if(!(t in n))throw Error(`Unrecognized key: "${t}"`);r[t]&&(i[t]=e?new e({type:"optional",innerType:n[t]}):n[t])}else for(let t in n)i[t]=e?new e({type:"optional",innerType:n[t]}):n[t];return nc(t,{...t._zod.def,shape:i,checks:[]})}function nx(e,t,r){let n=t._zod.def.shape,i={...n};if(r)for(let t in r){if(!(t in i))throw Error(`Unrecognized key: "${t}"`);r[t]&&(i[t]=new e({type:"nonoptional",innerType:n[t]}))}else for(let t in n)i[t]=new e({type:"nonoptional",innerType:n[t]});return nc(t,{...t._zod.def,shape:i,checks:[]})}function nk(e,t=0){for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function nE(e,t){return t.map(t=>(t.path??(t.path=[]),t.path.unshift(e),t))}function n$(e){return"string"==typeof e?e:e?.message}function nT(e,t,r){let n={...e,path:e.path??[]};return e.message||(n.message=n$(e.inst?._zod.def?.error?.(e))??n$(t?.error?.(e))??n$(r.customError?.(e))??n$(r.localeError?.(e))??"Invalid input"),delete n.inst,delete n.continue,t?.reportInput||delete n.input,n}function nS(e){return e instanceof Set?"set":e instanceof Map?"map":e instanceof File?"file":"unknown"}function nI(e){return Array.isArray(e)?"array":"string"==typeof e?"string":"unknown"}function nA(...e){let[t,r,n]=e;return"string"==typeof t?{message:t,code:"custom",input:r,inst:n}:{...t}}function nO(e){return Object.entries(e).filter(([e,t])=>Number.isNaN(Number.parseInt(e,10))).map(e=>e[1])}var nN=class{constructor(...e){}},nR=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),Object.defineProperty(e,"message",{get:()=>JSON.stringify(t,r0,2),enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},nP=rM("$ZodError",nR),nU=rM("$ZodError",nR,{Parent:Error}),nD=e=>(t,r,n)=>{let i=n?{...n,async:!1}:{async:!1},a=t._zod.run({value:r,issues:[]},i);if(a instanceof Promise)throw new rq;return a.issues.length?{success:!1,error:new(e??nP)(a.issues.map(e=>nT(e,i,rV())))}:{success:!0,data:a.value}},nC=nD(nU),nj=e=>async(t,r,n)=>{let i=n?Object.assign(n,{async:!0}):{async:!0},a=t._zod.run({value:r,issues:[]},i);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new e(a.issues.map(e=>nT(e,i,rV())))}:{success:!0,data:a.value}},nL=nj(nU),nz=rM("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),nM=rM("$ZodCheckMaxLength",(e,t)=>{var r;nz.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!r4(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{let r=e._zod.bag.maximum??1/0;t.maximum<r&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{let n=r.value;if(n.length<=t.maximum)return;let i=nI(n);r.issues.push({origin:i,code:"too_big",maximum:t.maximum,inclusive:!0,input:n,inst:e,continue:!t.abort})}}),nq=rM("$ZodCheckMinLength",(e,t)=>{var r;nz.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!r4(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{let r=e._zod.bag.minimum??-1/0;t.minimum>r&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{let n=r.value;if(n.length>=t.minimum)return;let i=nI(n);r.issues.push({origin:i,code:"too_small",minimum:t.minimum,inclusive:!0,input:n,inst:e,continue:!t.abort})}}),nZ=rM("$ZodCheckLengthEquals",(e,t)=>{var r;nz.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!r4(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{let r=e._zod.bag;r.minimum=t.length,r.maximum=t.length,r.length=t.length}),e._zod.check=r=>{let n=r.value,i=n.length;if(i===t.length)return;let a=nI(n),s=i>t.length;r.issues.push({origin:a,...s?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),nV=rM("$ZodCheckOverwrite",(e,t)=>{nz.init(e,t),e._zod.check=e=>{e.value=t.tx(e.value)}}),nF=class{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if("function"==typeof e){e(this,{execution:"sync"}),e(this,{execution:"async"});return}let t=e.split("\n").filter(e=>e),r=Math.min(...t.map(e=>e.length-e.trimStart().length));for(let e of t.map(e=>e.slice(r)).map(e=>" ".repeat(2*this.indent)+e))this.content.push(e)}compile(){return Function(...this?.args,[...(this?.content??[""]).map(e=>`  ${e}`)].join("\n"))}},nB={major:4,minor:0,patch:0},nW=rM("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=nB;let n=[...e._zod.def.checks??[]];for(let t of(e._zod.traits.has("$ZodCheck")&&n.unshift(e),n))for(let r of t._zod.onattach)r(e);if(0===n.length)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{let t=(e,t,r)=>{let n,i=nk(e);for(let a of t){if(a._zod.def.when){if(!a._zod.def.when(e))continue}else if(i)continue;let t=e.issues.length,s=a._zod.check(e);if(s instanceof Promise&&r?.async===!1)throw new rq;if(n||s instanceof Promise)n=(n??Promise.resolve()).then(async()=>{await s,e.issues.length!==t&&(i||(i=nk(e,t)))});else{if(e.issues.length===t)continue;i||(i=nk(e,t))}}return n?n.then(()=>e):e};e._zod.run=(r,i)=>{let a=e._zod.parse(r,i);if(a instanceof Promise){if(!1===i.async)throw new rq;return a.then(e=>t(e,n,i))}return t(a,n,i)}}e["~standard"]={validate:t=>{try{let r=nC(e,t);return r.success?{value:r.data}:{issues:r.error?.issues}}catch(r){return nL(e,t).then(e=>e.success?{value:e.data}:{issues:e.error?.issues})}},vendor:"zod",version:1}}),nH=rM("$ZodUnknown",(e,t)=>{nW.init(e,t),e._zod.parse=e=>e}),nK=rM("$ZodNever",(e,t)=>{nW.init(e,t),e._zod.parse=(t,r)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:e}),t)});function nG(e,t,r){e.issues.length&&t.issues.push(...nE(r,e.issues)),t.value[r]=e.value}var nJ=rM("$ZodArray",(e,t)=>{nW.init(e,t),e._zod.parse=(r,n)=>{let i=r.value;if(!Array.isArray(i))return r.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),r;r.value=Array(i.length);let a=[];for(let e=0;e<i.length;e++){let s=i[e],o=t.element._zod.run({value:s,issues:[]},n);o instanceof Promise?a.push(o.then(t=>nG(t,r,e))):nG(o,r,e)}return a.length?Promise.all(a).then(()=>r):r}});function nQ(e,t,r){e.issues.length&&t.issues.push(...nE(r,e.issues)),t.value[r]=e.value}function nY(e,t,r,n){e.issues.length?void 0===n[r]?r in n?t.value[r]=void 0:t.value[r]=e.value:t.issues.push(...nE(r,e.issues)):void 0===e.value?r in n&&(t.value[r]=void 0):t.value[r]=e.value}var nX=rM("$ZodObject",(e,t)=>{let r,n;nW.init(e,t);let i=r1(()=>{let e=Object.keys(t.shape);for(let r of e)if(!(t.shape[r]instanceof nW))throw Error(`Invalid element at key "${r}": expected a Zod schema`);let r=nh(t.shape);return{shape:t.shape,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(r)}});r9(e._zod,"propValues",()=>{let e=t.shape,r={};for(let t in e){let n=e[t]._zod;if(n.values)for(let e of(r[t]??(r[t]=new Set),n.values))r[t].add(e)}return r});let a=!rZ.jitless,s=a&&nn.value,o=t.catchall;e._zod.parse=(l,u)=>{n??(n=i.value);let c=l.value;if(!nr(c))return l.issues.push({expected:"object",code:"invalid_type",input:c,inst:e}),l;let d=[];if(a&&s&&u?.async===!1&&!0!==u.jitless)r||(r=(e=>{let t=new nF(["shape","payload","ctx"]),r=i.value,n=e=>{let t=ne(e);return`shape[${t}]._zod.run({ value: input[${t}], issues: [] }, ctx)`};t.write("const input = payload.value;");let a=Object.create(null),s=0;for(let e of r.keys)a[e]=`key_${s++}`;for(let e of(t.write("const newResult = {}"),r.keys))if(r.optionalKeys.has(e)){let r=a[e];t.write(`const ${r} = ${n(e)};`);let i=ne(e);t.write(`
        if (${r}.issues.length) {
          if (input[${i}] === undefined) {
            if (${i} in input) {
              newResult[${i}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${r}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${i}, ...iss.path] : [${i}],
              }))
            );
          }
        } else if (${r}.value === undefined) {
          if (${i} in input) newResult[${i}] = undefined;
        } else {
          newResult[${i}] = ${r}.value;
        }
        `)}else{let r=a[e];t.write(`const ${r} = ${n(e)};`),t.write(`
          if (${r}.issues.length) payload.issues = payload.issues.concat(${r}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${ne(e)}, ...iss.path] : [${ne(e)}]
          })));`),t.write(`newResult[${ne(e)}] = ${r}.value`)}t.write("payload.value = newResult;"),t.write("return payload;");let o=t.compile();return(t,r)=>o(e,t,r)})(t.shape)),l=r(l,u);else{l.value={};let e=n.shape;for(let t of n.keys){let r=e[t],n=r._zod.run({value:c[t],issues:[]},u),i="optional"===r._zod.optin&&"optional"===r._zod.optout;n instanceof Promise?d.push(n.then(e=>i?nY(e,l,t,c):nQ(e,l,t))):i?nY(n,l,t,c):nQ(n,l,t)}}if(!o)return d.length?Promise.all(d).then(()=>l):l;let p=[],f=n.keySet,h=o._zod,m=h.def.type;for(let e of Object.keys(c)){if(f.has(e))continue;if("never"===m){p.push(e);continue}let t=h.run({value:c[e],issues:[]},u);t instanceof Promise?d.push(t.then(t=>nQ(t,l,e))):nQ(t,l,e)}return(p.length&&l.issues.push({code:"unrecognized_keys",keys:p,input:c,inst:e}),d.length)?Promise.all(d).then(()=>l):l}});function n0(e,t,r,n){for(let r of e)if(0===r.issues.length)return t.value=r.value,t;return t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(e=>e.issues.map(e=>nT(e,n,rV())))}),t}var n1=rM("$ZodUnion",(e,t)=>{nW.init(e,t),r9(e._zod,"optin",()=>t.options.some(e=>"optional"===e._zod.optin)?"optional":void 0),r9(e._zod,"optout",()=>t.options.some(e=>"optional"===e._zod.optout)?"optional":void 0),r9(e._zod,"values",()=>{if(t.options.every(e=>e._zod.values))return new Set(t.options.flatMap(e=>Array.from(e._zod.values)))}),r9(e._zod,"pattern",()=>{if(t.options.every(e=>e._zod.pattern)){let e=t.options.map(e=>e._zod.pattern);return RegExp(`^(${e.map(e=>r6(e.source)).join("|")})$`)}}),e._zod.parse=(r,n)=>{let i=!1,a=[];for(let e of t.options){let t=e._zod.run({value:r.value,issues:[]},n);if(t instanceof Promise)a.push(t),i=!0;else{if(0===t.issues.length)return t;a.push(t)}}return i?Promise.all(a).then(t=>n0(t,r,e,n)):n0(a,r,e,n)}}),n4=rM("$ZodIntersection",(e,t)=>{nW.init(e,t),e._zod.parse=(e,r)=>{let n=e.value,i=t.left._zod.run({value:n,issues:[]},r),a=t.right._zod.run({value:n,issues:[]},r);return i instanceof Promise||a instanceof Promise?Promise.all([i,a]).then(([t,r])=>n6(e,t,r)):n6(e,i,a)}});function n6(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),nk(e))return e;let n=function e(t,r){if(t===r||t instanceof Date&&r instanceof Date&&+t==+r)return{valid:!0,data:t};if(ni(t)&&ni(r)){let n=Object.keys(r),i=Object.keys(t).filter(e=>-1!==n.indexOf(e)),a={...t,...r};for(let n of i){let i=e(t[n],r[n]);if(!i.valid)return{valid:!1,mergeErrorPath:[n,...i.mergeErrorPath]};a[n]=i.data}return{valid:!0,data:a}}if(Array.isArray(t)&&Array.isArray(r)){if(t.length!==r.length)return{valid:!1,mergeErrorPath:[]};let n=[];for(let i=0;i<t.length;i++){let a=e(t[i],r[i]);if(!a.valid)return{valid:!1,mergeErrorPath:[i,...a.mergeErrorPath]};n.push(a.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}(t.value,r.value);if(!n.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return e.value=n.data,e}var n2=rM("$ZodEnum",(e,t)=>{nW.init(e,t);let r=rY(t.entries);e._zod.values=new Set(r),e._zod.pattern=RegExp(`^(${r.filter(e=>no.has(typeof e)).map(e=>"string"==typeof e?nu(e):e.toString()).join("|")})$`),e._zod.parse=(t,n)=>{let i=t.value;return e._zod.values.has(i)||t.issues.push({code:"invalid_value",values:r,input:i,inst:e}),t}}),n9=rM("$ZodTransform",(e,t)=>{nW.init(e,t),e._zod.parse=(e,r)=>{let n=t.transform(e.value,e);if(r.async)return(n instanceof Promise?n:Promise.resolve(n)).then(t=>(e.value=t,e));if(n instanceof Promise)throw new rq;return e.value=n,e}}),n3=rM("$ZodOptional",(e,t)=>{nW.init(e,t),e._zod.optin="optional",e._zod.optout="optional",r9(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),r9(e._zod,"pattern",()=>{let e=t.innerType._zod.pattern;return e?RegExp(`^(${r6(e.source)})?$`):void 0}),e._zod.parse=(e,r)=>"optional"===t.innerType._zod.optin?t.innerType._zod.run(e,r):void 0===e.value?e:t.innerType._zod.run(e,r)}),n5=rM("$ZodNullable",(e,t)=>{nW.init(e,t),r9(e._zod,"optin",()=>t.innerType._zod.optin),r9(e._zod,"optout",()=>t.innerType._zod.optout),r9(e._zod,"pattern",()=>{let e=t.innerType._zod.pattern;return e?RegExp(`^(${r6(e.source)}|null)$`):void 0}),r9(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(e,r)=>null===e.value?e:t.innerType._zod.run(e,r)}),n8=rM("$ZodDefault",(e,t)=>{nW.init(e,t),e._zod.optin="optional",r9(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>{if(void 0===e.value)return e.value=t.defaultValue,e;let n=t.innerType._zod.run(e,r);return n instanceof Promise?n.then(e=>n7(e,t)):n7(n,t)}});function n7(e,t){return void 0===e.value&&(e.value=t.defaultValue),e}var ie=rM("$ZodPrefault",(e,t)=>{nW.init(e,t),e._zod.optin="optional",r9(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>(void 0===e.value&&(e.value=t.defaultValue),t.innerType._zod.run(e,r))}),it=rM("$ZodNonOptional",(e,t)=>{nW.init(e,t),r9(e._zod,"values",()=>{let e=t.innerType._zod.values;return e?new Set([...e].filter(e=>void 0!==e)):void 0}),e._zod.parse=(r,n)=>{let i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(t=>ir(t,e)):ir(i,e)}});function ir(e,t){return e.issues.length||void 0!==e.value||e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}var ii=rM("$ZodCatch",(e,t)=>{nW.init(e,t),e._zod.optin="optional",r9(e._zod,"optout",()=>t.innerType._zod.optout),r9(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>{let n=t.innerType._zod.run(e,r);return n instanceof Promise?n.then(n=>(e.value=n.value,n.issues.length&&(e.value=t.catchValue({...e,error:{issues:n.issues.map(e=>nT(e,r,rV()))},input:e.value}),e.issues=[]),e)):(e.value=n.value,n.issues.length&&(e.value=t.catchValue({...e,error:{issues:n.issues.map(e=>nT(e,r,rV()))},input:e.value}),e.issues=[]),e)}}),ia=rM("$ZodPipe",(e,t)=>{nW.init(e,t),r9(e._zod,"values",()=>t.in._zod.values),r9(e._zod,"optin",()=>t.in._zod.optin),r9(e._zod,"optout",()=>t.out._zod.optout),e._zod.parse=(e,r)=>{let n=t.in._zod.run(e,r);return n instanceof Promise?n.then(e=>is(e,t,r)):is(n,t,r)}});function is(e,t,r){return nk(e)?e:t.out._zod.run({value:e.value,issues:e.issues},r)}var io=rM("$ZodReadonly",(e,t)=>{nW.init(e,t),r9(e._zod,"propValues",()=>t.innerType._zod.propValues),r9(e._zod,"values",()=>t.innerType._zod.values),r9(e._zod,"optin",()=>t.innerType._zod.optin),r9(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(e,r)=>{let n=t.innerType._zod.run(e,r);return n instanceof Promise?n.then(il):il(n)}});function il(e){return e.value=Object.freeze(e.value),e}var iu=rM("$ZodCustom",(e,t)=>{nz.init(e,t),nW.init(e,t),e._zod.parse=(e,t)=>e,e._zod.check=r=>{let n=r.value,i=t.fn(n);if(i instanceof Promise)return i.then(t=>ic(t,r,n,e));ic(i,r,n,e)}});function ic(e,t,r,n){if(!e){let e={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(e.params=n._zod.def.params),t.issues.push(nA(e))}}Symbol("ZodOutput"),Symbol("ZodInput");var id=new class{constructor(){this._map=new Map,this._idmap=new Map}add(e,...t){let r=t[0];if(this._map.set(e,r),r&&"object"==typeof r&&"id"in r){if(this._idmap.has(r.id))throw Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(e){let t=this._map.get(e);return t&&"object"==typeof t&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){let t=e._zod.parent;if(t){let r={...this.get(t)??{}};return delete r.id,{...r,...this._map.get(e)}}return this._map.get(e)}has(e){return this._map.has(e)}};function ip(e,t){return new nq({check:"min_length",...nd(t),minimum:e})}var ih=(e,t)=>{nP.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:t=>{let r,n,i;return r=t||function(e){return e.message},n={_errors:[]},(i=e=>{for(let t of e.issues)if("invalid_union"===t.code&&t.errors.length)t.errors.map(e=>i({issues:e}));else if("invalid_key"===t.code)i({issues:t.issues});else if("invalid_element"===t.code)i({issues:t.issues});else if(0===t.path.length)n._errors.push(r(t));else{let e=n,i=0;for(;i<t.path.length;){let n=t.path[i];i===t.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(r(t))):e[n]=e[n]||{_errors:[]},e=e[n],i++}}})(e),n}},flatten:{value:t=>(function(e,t=e=>e.message){let r={},n=[];for(let i of e.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(t(i))):n.push(t(i));return{formErrors:n,fieldErrors:r}})(e,t)},addIssue:{value:t=>e.issues.push(t)},addIssues:{value:t=>e.issues.push(...t)},isEmpty:{get:()=>0===e.issues.length}})};rM("ZodError",ih);var im=rM("ZodError",ih,{Parent:Error}),ig=(e,t,r,n)=>{let i=r?Object.assign(r,{async:!1}):{async:!1},a=e._zod.run({value:t,issues:[]},i);if(a instanceof Promise)throw new rq;if(a.issues.length){let e=new(n?.Err??im)(a.issues.map(e=>nT(e,i,rV())));throw nt(e,n?.callee),e}return a.value},iy=async(e,t,r,n)=>{let i=r?Object.assign(r,{async:!0}):{async:!0},a=e._zod.run({value:t,issues:[]},i);if(a instanceof Promise&&(a=await a),a.issues.length){let e=new(n?.Err??im)(a.issues.map(e=>nT(e,i,rV())));throw nt(e,n?.callee),e}return a.value},iv=nD(im),ib=nj(im),iw=rM("ZodType",(e,t)=>(nW.init(e,t),e.def=t,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone({...t,checks:[...t.checks??[],...r.map(e=>"function"==typeof e?{_zod:{check:e,def:{check:"custom"},onattach:[]}}:e)]}),e.clone=(t,r)=>nc(e,t,r),e.brand=()=>e,e.register=(t,r)=>(t.add(e,r),e),e.parse=(t,r)=>ig(e,t,r,{callee:e.parse}),e.safeParse=(t,r)=>iv(e,t,r),e.parseAsync=async(t,r)=>iy(e,t,r,{callee:e.parseAsync}),e.safeParseAsync=async(t,r)=>ib(e,t,r),e.spa=e.safeParseAsync,e.refine=(t,r)=>e.check(function(e,t={}){return new iq({type:"custom",check:"custom",fn:e,...nd(t)})}(t,r)),e.superRefine=t=>{var r,n;let i,a;return e.check((r=t,a=(n=e=>(e.addIssue=t=>{"string"==typeof t?e.issues.push(rF.issue(t,e.value,a._zod.def)):(t.fatal&&(t.continue=!1),t.code??(t.code="custom"),t.input??(t.input=e.value),t.inst??(t.inst=a),t.continue??(t.continue=!a._zod.def.abort),e.issues.push(rF.issue(t)))},r(e.value,e)),(i=new nz({check:"custom"}))._zod.check=n,i)))},e.overwrite=t=>e.check(new nV({check:"overwrite",tx:t})),e.optional=()=>iN(e),e.nullable=()=>iP(e),e.nullish=()=>iN(iP(e)),e.nonoptional=t=>{var r,n;return r=e,n=t,new iC({type:"nonoptional",innerType:r,...rF.normalizeParams(n)})},e.array=()=>(function(e,t){return new iE({type:"array",element:e,...nd(void 0)})})(e),e.or=t=>new iT({type:"union",options:[e,t],...rF.normalizeParams(void 0)}),e.and=t=>{var r;return r=e,new iS({type:"intersection",left:r,right:t})},e.transform=t=>iz(e,new iA({type:"transform",transform:t})),e.default=t=>{var r,n;return r=e,n=t,new iU({type:"default",innerType:r,get defaultValue(){return"function"==typeof n?n():n}})},e.prefault=t=>{var r,n;return r=e,n=t,new iD({type:"prefault",innerType:r,get defaultValue(){return"function"==typeof n?n():n}})},e.catch=t=>{var r;return new ij({type:"catch",innerType:e,catchValue:"function"==typeof(r=t)?r:()=>r})},e.pipe=t=>iz(e,t),e.readonly=()=>new iM({type:"readonly",innerType:e}),e.describe=t=>{let r=e.clone();return id.add(r,{description:t}),r},Object.defineProperty(e,"description",{get:()=>id.get(e)?.description,configurable:!0}),e.meta=(...t)=>{if(0===t.length)return id.get(e);let r=e.clone();return id.add(r,t[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),i_=rM("ZodUnknown",(e,t)=>{nH.init(e,t),iw.init(e,t)});function ix(){return new i_({type:"unknown"})}var ik=rM("ZodNever",(e,t)=>{nK.init(e,t),iw.init(e,t)}),iE=rM("ZodArray",(e,t)=>{nJ.init(e,t),iw.init(e,t),e.element=t.element,e.min=(t,r)=>e.check(ip(t,r)),e.nonempty=t=>e.check(ip(1,t)),e.max=(t,r)=>e.check(new nM({check:"max_length",...nd(r),maximum:t})),e.length=(t,r)=>e.check(new nZ({check:"length_equals",...nd(r),length:t})),e.unwrap=()=>e.element}),i$=rM("ZodObject",(e,t)=>{nX.init(e,t),iw.init(e,t),rF.defineLazy(e,"shape",()=>t.shape),e.keyof=()=>{var t;return new iI({type:"enum",entries:Array.isArray(t=Object.keys(e._zod.def.shape))?Object.fromEntries(t.map(e=>[e,e])):t,...rF.normalizeParams(void 0)})},e.catchall=t=>e.clone({...e._zod.def,catchall:t}),e.passthrough=()=>e.clone({...e._zod.def,catchall:ix()}),e.loose=()=>e.clone({...e._zod.def,catchall:ix()}),e.strict=()=>e.clone({...e._zod.def,catchall:new ik({type:"never",...nd(void 0)})}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=t=>rF.extend(e,t),e.merge=t=>rF.merge(e,t),e.pick=t=>rF.pick(e,t),e.omit=t=>rF.omit(e,t),e.partial=(...t)=>rF.partial(iO,e,t[0]),e.required=(...t)=>rF.required(iC,e,t[0])}),iT=rM("ZodUnion",(e,t)=>{n1.init(e,t),iw.init(e,t),e.options=t.options}),iS=rM("ZodIntersection",(e,t)=>{n4.init(e,t),iw.init(e,t)}),iI=rM("ZodEnum",(e,t)=>{n2.init(e,t),iw.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);let r=new Set(Object.keys(t.entries));e.extract=(e,n)=>{let i={};for(let n of e)if(r.has(n))i[n]=t.entries[n];else throw Error(`Key ${n} not found in enum`);return new iI({...t,checks:[],...rF.normalizeParams(n),entries:i})},e.exclude=(e,n)=>{let i={...t.entries};for(let t of e)if(r.has(t))delete i[t];else throw Error(`Key ${t} not found in enum`);return new iI({...t,checks:[],...rF.normalizeParams(n),entries:i})}}),iA=rM("ZodTransform",(e,t)=>{n9.init(e,t),iw.init(e,t),e._zod.parse=(r,n)=>{r.addIssue=n=>{"string"==typeof n?r.issues.push(rF.issue(n,r.value,t)):(n.fatal&&(n.continue=!1),n.code??(n.code="custom"),n.input??(n.input=r.value),n.inst??(n.inst=e),n.continue??(n.continue=!0),r.issues.push(rF.issue(n)))};let i=t.transform(r.value,r);return i instanceof Promise?i.then(e=>(r.value=e,r)):(r.value=i,r)}}),iO=rM("ZodOptional",(e,t)=>{n3.init(e,t),iw.init(e,t),e.unwrap=()=>e._zod.def.innerType});function iN(e){return new iO({type:"optional",innerType:e})}var iR=rM("ZodNullable",(e,t)=>{n5.init(e,t),iw.init(e,t),e.unwrap=()=>e._zod.def.innerType});function iP(e){return new iR({type:"nullable",innerType:e})}var iU=rM("ZodDefault",(e,t)=>{n8.init(e,t),iw.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap}),iD=rM("ZodPrefault",(e,t)=>{ie.init(e,t),iw.init(e,t),e.unwrap=()=>e._zod.def.innerType}),iC=rM("ZodNonOptional",(e,t)=>{it.init(e,t),iw.init(e,t),e.unwrap=()=>e._zod.def.innerType}),ij=rM("ZodCatch",(e,t)=>{ii.init(e,t),iw.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap}),iL=rM("ZodPipe",(e,t)=>{ia.init(e,t),iw.init(e,t),e.in=t.in,e.out=t.out});function iz(e,t){return new iL({type:"pipe",in:e,out:t})}var iM=rM("ZodReadonly",(e,t)=>{io.init(e,t),iw.init(e,t)}),iq=rM("ZodCustom",(e,t)=>{iu.init(e,t),iw.init(e,t)}),iZ={};function iV(e){switch(e.constructor.name){case"ZodString":default:return"string";case"ZodNumber":return"number";case"ZodBoolean":return"boolean";case"ZodObject":return"object";case"ZodArray":return"array"}}function iF(e){let t=[];return e.metadata?.openapi?.parameters?t.push(...e.metadata.openapi.parameters):e.query instanceof i$&&Object.entries(e.query.shape).forEach(([e,r])=>{r instanceof i$&&t.push({name:e,in:"query",schema:{type:iV(r),..."minLength"in r&&r.minLength?{minLength:r.minLength}:{},description:r.description}})}),t}function iB(e){return{400:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}},required:["message"]}}},description:"Bad Request. Usually due to missing parameters, or invalid parameters."},401:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}},required:["message"]}}},description:"Unauthorized. Due to missing or invalid authentication."},403:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}},description:"Forbidden. You do not have permission to access this resource or to perform this action."},404:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}},description:"Not Found. The requested resource was not found."},429:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}},description:"Too Many Requests. You have exceeded the rate limit. Try again later."},500:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}},description:"Internal Server Error. This is a problem with the server that you cannot fix."},...e}}async function iW(e,t){return Object.entries(e).forEach(([e,t])=>{let r=t.options;if(!r.metadata?.SERVER_ONLY&&("GET"===r.method&&(iZ[t.path]={get:{tags:["Default",...r.metadata?.openapi?.tags||[]],description:r.metadata?.openapi?.description,operationId:r.metadata?.openapi?.operationId,security:[{bearerAuth:[]}],parameters:iF(r),responses:iB(r.metadata?.openapi?.responses)}}),"POST"===r.method)){let e=function(e){if(e.metadata?.openapi?.requestBody)return e.metadata.openapi.requestBody;if(e.body&&(e.body instanceof i$||e.body instanceof iO)){let t=e.body.shape;if(!t)return;let r={},n=[];return Object.entries(t).forEach(([e,t])=>{t instanceof i$&&(r[e]={type:iV(t),description:t.description},t instanceof iO||n.push(e))}),{required:!(e.body instanceof iO)&&!!e.body,content:{"application/json":{schema:{type:"object",properties:r,required:n}}}}}}(r);iZ[t.path]={post:{tags:["Default",...r.metadata?.openapi?.tags||[]],description:r.metadata?.openapi?.description,operationId:r.metadata?.openapi?.operationId,security:[{bearerAuth:[]}],parameters:iF(r),...e?{requestBody:e}:{requestBody:{content:{"application/json":{schema:{type:"object",properties:{}}}}}},responses:iB(r.metadata?.openapi?.responses)}}}}),{openapi:"3.1.1",info:{title:"Better Auth",description:"API Reference for your Better Auth Instance",version:"1.1.0"},components:{schemas:{}},security:[{apiKeyCookie:[]}],servers:[{url:t?.url}],tags:[{name:"Default",description:"Default endpoints that are included with Better Auth by default. These endpoints are not part of any plugin."}],paths:iZ}}let iH=rL(async()=>({})),iK=rL.create({use:[iH,rL(async()=>({}))]}),iG=rz.create({use:[iH]});var iJ=Object.defineProperty,iQ=Object.defineProperties,iY=Object.getOwnPropertyDescriptors,iX=Object.getOwnPropertySymbols,i0=Object.prototype.hasOwnProperty,i1=Object.prototype.propertyIsEnumerable,i4=(e,t,r)=>t in e?iJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,i6=(e,t)=>{for(var r in t||(t={}))i0.call(t,r)&&i4(e,r,t[r]);if(iX)for(var r of iX(t))i1.call(t,r)&&i4(e,r,t[r]);return e},i2=(e,t)=>iQ(e,iY(t)),i9=class extends Error{constructor(e,t,r){super(t||e.toString(),{cause:r}),this.status=e,this.statusText=t,this.error=r}},i3=async(e,t)=>{var r,n,i,a,s,o;let l=t||{},u={onRequest:[null==t?void 0:t.onRequest],onResponse:[null==t?void 0:t.onResponse],onSuccess:[null==t?void 0:t.onSuccess],onError:[null==t?void 0:t.onError],onRetry:[null==t?void 0:t.onRetry]};if(!t||!(null==t?void 0:t.plugins))return{url:e,options:l,hooks:u};for(let c of(null==t?void 0:t.plugins)||[]){if(c.init){let n=await (null==(r=c.init)?void 0:r.call(c,e.toString(),t));l=n.options||l,e=n.url}u.onRequest.push(null==(n=c.hooks)?void 0:n.onRequest),u.onResponse.push(null==(i=c.hooks)?void 0:i.onResponse),u.onSuccess.push(null==(a=c.hooks)?void 0:a.onSuccess),u.onError.push(null==(s=c.hooks)?void 0:s.onError),u.onRetry.push(null==(o=c.hooks)?void 0:o.onRetry)}return{url:e,options:l,hooks:u}},i5=class{constructor(e){this.options=e}shouldAttemptRetry(e,t){return this.options.shouldRetry?Promise.resolve(e<this.options.attempts&&this.options.shouldRetry(t)):Promise.resolve(e<this.options.attempts)}getDelay(){return this.options.delay}},i8=class{constructor(e){this.options=e}shouldAttemptRetry(e,t){return this.options.shouldRetry?Promise.resolve(e<this.options.attempts&&this.options.shouldRetry(t)):Promise.resolve(e<this.options.attempts)}getDelay(e){return Math.min(this.options.maxDelay,this.options.baseDelay*2**e)}},i7=async e=>{let t={},r=async e=>"function"==typeof e?await e():e;if(null==e?void 0:e.auth){if("Bearer"===e.auth.type){let n=await r(e.auth.token);if(!n)return t;t.authorization=`Bearer ${n}`}else if("Basic"===e.auth.type){let n=r(e.auth.username),i=r(e.auth.password);if(!n||!i)return t;t.authorization=`Basic ${btoa(`${n}:${i}`)}`}else if("Custom"===e.auth.type){let n=r(e.auth.value);if(!n)return t;t.authorization=`${r(e.auth.prefix)} ${n}`}}return t},ae=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function at(e){if(void 0===e)return!1;let t=typeof e;return"string"===t||"number"===t||"boolean"===t||null===t||"object"===t&&(!!Array.isArray(e)||!e.buffer&&(e.constructor&&"Object"===e.constructor.name||"function"==typeof e.toJSON))}function ar(e){try{return JSON.parse(e)}catch(t){return e}}async function an(e){let t=new Headers(null==e?void 0:e.headers);for(let[r,n]of Object.entries(await i7(e)||{}))t.set(r,n);if(!t.has("content-type")){let r=at(null==e?void 0:e.body)?"application/json":null;r&&t.set("content-type",r)}return t}var ai=class e extends Error{constructor(t,r){super(r||JSON.stringify(t,null,2)),this.issues=t,Object.setPrototypeOf(this,e.prototype)}};async function aa(e,t){let r=await e["~standard"].validate(t);if(r.issues)throw new ai(r.issues);return r.value}var as=["get","post","put","patch","delete"],ao=async(e,t)=>{var r,n,i,a,s,o,l,u;let c,{hooks:d,url:p,options:f}=await i3(e,t),h=function(e){if(null==e?void 0:e.customFetchImpl)return e.customFetchImpl;if("undefined"!=typeof globalThis&&"function"==typeof globalThis.fetch)return globalThis.fetch;throw Error("No fetch implementation found")}(f),m=new AbortController,g=null!=(r=f.signal)?r:m.signal,y=function(e,t){let{baseURL:r,params:n,query:i}=t||{query:{},params:{},baseURL:""},a=e.startsWith("http")?e.split("/").slice(0,3).join("/"):r||"";if(e.startsWith("@")){let t=e.toString().split("@")[1].split("/")[0];as.includes(t)&&(e=e.replace(`@${t}/`,"/"))}a.endsWith("/")||(a+="/");let[s,o]=e.replace(a,"").split("?"),l=new URLSearchParams(o);for(let[e,t]of Object.entries(i||{}))null!=t&&l.set(e,String(t));if(n)if(Array.isArray(n))for(let[e,t]of s.split("/").filter(e=>e.startsWith(":")).entries()){let r=n[e];s=s.replace(t,r)}else for(let[e,t]of Object.entries(n))s=s.replace(`:${e}`,String(t));(s=s.split("/").map(encodeURIComponent).join("/")).startsWith("/")&&(s=s.slice(1));let u=l.toString();return(u=u.length>0?`?${u}`.replace(/\+/g,"%20"):"",a.startsWith("http"))?new URL(`${s}${u}`,a):`${a}${s}${u}`}(p,f),v=function(e){if(!(null==e?void 0:e.body))return null;let t=new Headers(null==e?void 0:e.headers);if(at(e.body)&&!t.has("content-type")){for(let[t,r]of Object.entries(null==e?void 0:e.body))r instanceof Date&&(e.body[t]=r.toISOString());return JSON.stringify(e.body)}return e.body}(f),b=await an(f),w=function(e,t){var r;if(null==t?void 0:t.method)return t.method.toUpperCase();if(e.startsWith("@")){let n=null==(r=e.split("@")[1])?void 0:r.split("/")[0];return as.includes(n)?n.toUpperCase():(null==t?void 0:t.body)?"POST":"GET"}return(null==t?void 0:t.body)?"POST":"GET"}(p,f),_=i2(i6({},f),{url:y,headers:b,body:v,method:w,signal:g});for(let e of d.onRequest)if(e){let t=await e(_);t instanceof Object&&(_=t)}("pipeTo"in _&&"function"==typeof _.pipeTo||"function"==typeof(null==(n=null==t?void 0:t.body)?void 0:n.pipe))&&!("duplex"in _)&&(_.duplex="half");let{clearTimeout:x}=(!(null==f?void 0:f.signal)&&(null==f?void 0:f.timeout)&&(c=setTimeout(()=>null==m?void 0:m.abort(),null==f?void 0:f.timeout)),{abortTimeout:c,clearTimeout:()=>{c&&clearTimeout(c)}}),k=await h(_.url,_);x();let E={response:k,request:_};for(let e of d.onResponse)if(e){let r=await e(i2(i6({},E),{response:(null==(i=null==t?void 0:t.hookOptions)?void 0:i.cloneResponse)?k.clone():k}));r instanceof Response?k=r:r instanceof Object&&(k=r.response)}if(k.ok){if("HEAD"===_.method)return{data:"",error:null};let e=function(e){let t=e.headers.get("content-type"),r=new Set(["image/svg","application/xml","application/xhtml","application/html"]);if(!t)return"json";let n=t.split(";").shift()||"";return ae.test(n)?"json":r.has(n)||n.startsWith("text/")?"text":"blob"}(k),r={data:"",response:k,request:_};if("json"===e||"text"===e){let e=await k.text(),t=null!=(a=_.jsonParser)?a:ar;r.data=await t(e)}else r.data=await k[e]();for(let e of((null==_?void 0:_.output)&&_.output&&!_.disableValidation&&(r.data=await aa(_.output,r.data)),d.onSuccess))e&&await e(i2(i6({},r),{response:(null==(s=null==t?void 0:t.hookOptions)?void 0:s.cloneResponse)?k.clone():k}));return(null==t?void 0:t.throw)?r.data:{data:r.data,error:null}}let $=null!=(o=null==t?void 0:t.jsonParser)?o:ar,T=await k.text(),S=function(e){try{return JSON.parse(e),!0}catch(e){return!1}}(T),I=S?await $(T):null,A={response:k,responseText:T,request:_,error:i2(i6({},I),{status:k.status,statusText:k.statusText})};for(let e of d.onError)e&&await e(i2(i6({},A),{response:(null==(l=null==t?void 0:t.hookOptions)?void 0:l.cloneResponse)?k.clone():k}));if(null==t?void 0:t.retry){let r=function(e){if("number"==typeof e)return new i5({type:"linear",attempts:e,delay:1e3});switch(e.type){case"linear":return new i5(e);case"exponential":return new i8(e);default:throw Error("Invalid retry strategy")}}(t.retry),n=null!=(u=t.retryAttempt)?u:0;if(await r.shouldAttemptRetry(n,k)){for(let e of d.onRetry)e&&await e(E);let i=r.getDelay(n);return await new Promise(e=>setTimeout(e,i)),await ao(e,i2(i6({},t),{retryAttempt:n+1}))}}if(null==t?void 0:t.throw)throw new i9(k.status,k.statusText,S?I:T);return{data:null,error:i2(i6({},I),{status:k.status,statusText:k.statusText})}};let al=new TextEncoder,au=new TextDecoder;function ac(...e){let t=new Uint8Array(e.reduce((e,{length:t})=>e+t,0)),r=0;for(let n of e)t.set(n,r),r+=n.length;return t}function ad(e){let t=new Uint8Array(e.length);for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);if(n>127)throw TypeError("non-ASCII string encountered in encode()");t[r]=n}return t}function ap(e){if(Uint8Array.fromBase64)return Uint8Array.fromBase64("string"==typeof e?e:au.decode(e),{alphabet:"base64url"});let t=e;t instanceof Uint8Array&&(t=au.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/");try{var r=t;if(Uint8Array.fromBase64)return Uint8Array.fromBase64(r);let e=atob(r),n=new Uint8Array(e.length);for(let t=0;t<e.length;t++)n[t]=e.charCodeAt(t);return n}catch{throw TypeError("The input to be decoded is not correctly encoded.")}}function af(e){let t=e;return("string"==typeof t&&(t=al.encode(t)),Uint8Array.prototype.toBase64)?t.toBase64({alphabet:"base64url",omitPadding:!0}):(function(e){if(Uint8Array.prototype.toBase64)return e.toBase64();let t=[];for(let r=0;r<e.length;r+=32768)t.push(String.fromCharCode.apply(null,e.subarray(r,r+32768)));return btoa(t.join(""))})(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}class ah extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(e,t){super(e,t),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class am extends ah{static code="ERR_JWT_CLAIM_VALIDATION_FAILED";code="ERR_JWT_CLAIM_VALIDATION_FAILED";claim;reason;payload;constructor(e,t,r="unspecified",n="unspecified"){super(e,{cause:{claim:r,reason:n,payload:t}}),this.claim=r,this.reason=n,this.payload=t}}class ag extends ah{static code="ERR_JWT_EXPIRED";code="ERR_JWT_EXPIRED";claim;reason;payload;constructor(e,t,r="unspecified",n="unspecified"){super(e,{cause:{claim:r,reason:n,payload:t}}),this.claim=r,this.reason=n,this.payload=t}}class ay extends ah{static code="ERR_JOSE_ALG_NOT_ALLOWED";code="ERR_JOSE_ALG_NOT_ALLOWED"}class av extends ah{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"}class ab extends ah{static code="ERR_JWS_INVALID";code="ERR_JWS_INVALID"}class aw extends ah{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"}class a_ extends ah{static code="ERR_JWKS_INVALID";code="ERR_JWKS_INVALID"}class ax extends ah{static code="ERR_JWKS_NO_MATCHING_KEY";code="ERR_JWKS_NO_MATCHING_KEY";constructor(e="no applicable key found in the JSON Web Key Set",t){super(e,t)}}class ak extends ah{[Symbol.asyncIterator];static code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";constructor(e="multiple matching keys found in the JSON Web Key Set",t){super(e,t)}}class aE extends ah{static code="ERR_JWKS_TIMEOUT";code="ERR_JWKS_TIMEOUT";constructor(e="request timed out",t){super(e,t)}}class a$ extends ah{static code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";constructor(e="signature verification failed",t){super(e,t)}}function aT(e,t){let r=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:r,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:r,name:"RSA-PSS",saltLength:parseInt(e.slice(-3),10)>>3};case"RS256":case"RS384":case"RS512":return{hash:r,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:r,name:"ECDSA",namedCurve:t.namedCurve};case"Ed25519":case"EdDSA":return{name:"Ed25519"};case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":return{name:e};default:throw new av(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}function aS(e,t){if(e.startsWith("RS")||e.startsWith("PS")){let{modulusLength:r}=t.algorithm;if("number"!=typeof r||r<2048)throw TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}}let aI=(e,t="algorithm.name")=>TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`);function aA(e){return parseInt(e.name.slice(4),10)}function aO(e,t,...r){if((r=r.filter(Boolean)).length>2){let t=r.pop();e+=`one of type ${r.join(", ")}, or ${t}.`}else 2===r.length?e+=`one of type ${r[0]} or ${r[1]}.`:e+=`of type ${r[0]}.`;return null==t?e+=` Received ${t}`:"function"==typeof t&&t.name?e+=` Received function ${t.name}`:"object"==typeof t&&null!=t&&t.constructor?.name&&(e+=` Received an instance of ${t.constructor.name}`),e}let aN=(e,t,...r)=>aO(`Key for the ${e} algorithm must be `,t,...r);async function aR(e,t,r){if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw TypeError(((e,...t)=>aO("Key must be ",e,...t))(t,"CryptoKey","KeyObject","JSON Web Key"));return crypto.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[r])}return!function(e,t,r){switch(t){case"HS256":case"HS384":case"HS512":{if("HMAC"!==e.algorithm.name)throw aI("HMAC");let r=parseInt(t.slice(2),10);if(aA(e.algorithm.hash)!==r)throw aI(`SHA-${r}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if("RSASSA-PKCS1-v1_5"!==e.algorithm.name)throw aI("RSASSA-PKCS1-v1_5");let r=parseInt(t.slice(2),10);if(aA(e.algorithm.hash)!==r)throw aI(`SHA-${r}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if("RSA-PSS"!==e.algorithm.name)throw aI("RSA-PSS");let r=parseInt(t.slice(2),10);if(aA(e.algorithm.hash)!==r)throw aI(`SHA-${r}`,"algorithm.hash");break}case"Ed25519":case"EdDSA":if("Ed25519"!==e.algorithm.name)throw aI("Ed25519");break;case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":let n;if(n=e.algorithm,n.name!==t)throw aI(t);break;case"ES256":case"ES384":case"ES512":{if("ECDSA"!==e.algorithm.name)throw aI("ECDSA");let r=function(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw Error("unreachable")}}(t);if(e.algorithm.namedCurve!==r)throw aI(r,"algorithm.namedCurve");break}default:throw TypeError("CryptoKey does not support this operation")}if(r&&!e.usages.includes(r))throw TypeError(`CryptoKey does not support this operation, its usages must include ${r}.`)}(t,e,r),t}async function aP(e,t,r,n){let i=await aR(e,t,"verify");aS(e,i);let a=aT(e,i.algorithm);try{return await crypto.subtle.verify(a,i,r,n)}catch{return!1}}function aU(...e){let t,r=e.filter(Boolean);if(0===r.length||1===r.length)return!0;for(let e of r){let r=Object.keys(e);if(!t||0===t.size){t=new Set(r);continue}for(let e of r){if(t.has(e))return!1;t.add(e)}}return!0}function aD(e){if("object"!=typeof e||null===e||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}let aC=e=>{if(e?.[Symbol.toStringTag]==="CryptoKey")return!0;try{return e instanceof CryptoKey}catch{return!1}},aj=e=>e?.[Symbol.toStringTag]==="KeyObject",aL=e=>aC(e)||aj(e),az=e=>aD(e)&&"string"==typeof e.kty,aM=e=>e?.[Symbol.toStringTag],aq=(e,t,r)=>{if(void 0!==t.use){let e;switch(r){case"sign":case"verify":e="sig";break;case"encrypt":case"decrypt":e="enc"}if(t.use!==e)throw TypeError(`Invalid key for this operation, its "use" must be "${e}" when present`)}if(void 0!==t.alg&&t.alg!==e)throw TypeError(`Invalid key for this operation, its "alg" must be "${e}" when present`);if(Array.isArray(t.key_ops)){let n;switch(!0){case"sign"===r||"verify"===r:case"dir"===e:case e.includes("CBC-HS"):n=r;break;case e.startsWith("PBES2"):n="deriveBits";break;case/^A\d{3}(?:GCM)?(?:KW)?$/.test(e):n=!e.includes("GCM")&&e.endsWith("KW")?"encrypt"===r?"wrapKey":"unwrapKey":r;break;case"encrypt"===r&&e.startsWith("RSA"):n="wrapKey";break;case"decrypt"===r:n=e.startsWith("RSA")?"unwrapKey":"deriveBits"}if(n&&t.key_ops?.includes?.(n)===!1)throw TypeError(`Invalid key for this operation, its "key_ops" must include "${n}" when present`)}return!0};function aZ(e,t,r){switch(e.substring(0,2)){case"A1":case"A2":case"di":case"HS":case"PB":((e,t,r)=>{if(!(t instanceof Uint8Array)){if(az(t)){if("oct"===t.kty&&"string"==typeof t.k&&aq(e,t,r))return;throw TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!aL(t))throw TypeError(aN(e,t,"CryptoKey","KeyObject","JSON Web Key","Uint8Array"));if("secret"!==t.type)throw TypeError(`${aM(t)} instances for symmetric algorithms must be of type "secret"`)}})(e,t,r);break;default:((e,t,r)=>{if(az(t))switch(r){case"decrypt":case"sign":if("oct"!==t.kty&&("AKP"===t.kty&&"string"==typeof t.priv||"string"==typeof t.d)&&aq(e,t,r))return;throw TypeError("JSON Web Key for this operation be a private JWK");case"encrypt":case"verify":if("oct"!==t.kty&&void 0===t.d&&void 0===t.priv&&aq(e,t,r))return;throw TypeError("JSON Web Key for this operation be a public JWK")}if(!aL(t))throw TypeError(aN(e,t,"CryptoKey","KeyObject","JSON Web Key"));if("secret"===t.type)throw TypeError(`${aM(t)} instances for asymmetric algorithms must not be of type "secret"`);if("public"===t.type)switch(r){case"sign":throw TypeError(`${aM(t)} instances for asymmetric algorithm signing must be of type "private"`);case"decrypt":throw TypeError(`${aM(t)} instances for asymmetric algorithm decryption must be of type "private"`)}if("private"===t.type)switch(r){case"verify":throw TypeError(`${aM(t)} instances for asymmetric algorithm verifying must be of type "public"`);case"encrypt":throw TypeError(`${aM(t)} instances for asymmetric algorithm encryption must be of type "public"`)}})(e,t,r)}}function aV(e,t,r,n,i){let a;if(void 0!==i.crit&&n?.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!n||void 0===n.crit)return new Set;if(!Array.isArray(n.crit)||0===n.crit.length||n.crit.some(e=>"string"!=typeof e||0===e.length))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let s of(a=void 0!==r?new Map([...Object.entries(r),...t.entries()]):t,n.crit)){if(!a.has(s))throw new av(`Extension Header Parameter "${s}" is not recognized`);if(void 0===i[s])throw new e(`Extension Header Parameter "${s}" is missing`);if(a.get(s)&&void 0===n[s])throw new e(`Extension Header Parameter "${s}" MUST be integrity protected`)}return new Set(n.crit)}async function aF(e){if(!e.alg)throw TypeError('"alg" argument is required when "jwk.alg" is not present');let{algorithm:t,keyUsages:r}=function(e){let t,r;switch(e.kty){case"AKP":switch(e.alg){case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":t={name:e.alg},r=e.priv?["sign"]:["verify"];break;default:throw new av('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"RSA":switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},r=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new av('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},r=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},r=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new av('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"OKP":switch(e.alg){case"Ed25519":case"EdDSA":t={name:"Ed25519"},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new av('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;default:throw new av('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:r}}(e),n={...e};return"AKP"!==n.kty&&delete n.alg,delete n.use,crypto.subtle.importKey("jwk",n,t,e.ext??(!e.d&&!e.priv),e.key_ops??r)}let aB=async(e,t,r,i=!1)=>{let a=(n||=new WeakMap).get(e);if(a?.[r])return a[r];let s=await aF({...t,alg:r});return i&&Object.freeze(e),a?a[r]=s:n.set(e,{[r]:s}),s};async function aW(e,t){if(e instanceof Uint8Array||aC(e))return e;if(aj(e)){if("secret"===e.type)return e.export();if("toCryptoKey"in e&&"function"==typeof e.toCryptoKey)try{return((e,t)=>{let r,i=(n||=new WeakMap).get(e);if(i?.[t])return i[t];let a="public"===e.type,s=!!a;if("x25519"===e.asymmetricKeyType){switch(t){case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":break;default:throw TypeError("given KeyObject instance cannot be used for this algorithm")}r=e.toCryptoKey(e.asymmetricKeyType,s,a?[]:["deriveBits"])}if("ed25519"===e.asymmetricKeyType){if("EdDSA"!==t&&"Ed25519"!==t)throw TypeError("given KeyObject instance cannot be used for this algorithm");r=e.toCryptoKey(e.asymmetricKeyType,s,[a?"verify":"sign"])}switch(e.asymmetricKeyType){case"ml-dsa-44":case"ml-dsa-65":case"ml-dsa-87":if(t!==e.asymmetricKeyType.toUpperCase())throw TypeError("given KeyObject instance cannot be used for this algorithm");r=e.toCryptoKey(e.asymmetricKeyType,s,[a?"verify":"sign"])}if("rsa"===e.asymmetricKeyType){let n;switch(t){case"RSA-OAEP":n="SHA-1";break;case"RS256":case"PS256":case"RSA-OAEP-256":n="SHA-256";break;case"RS384":case"PS384":case"RSA-OAEP-384":n="SHA-384";break;case"RS512":case"PS512":case"RSA-OAEP-512":n="SHA-512";break;default:throw TypeError("given KeyObject instance cannot be used for this algorithm")}if(t.startsWith("RSA-OAEP"))return e.toCryptoKey({name:"RSA-OAEP",hash:n},s,a?["encrypt"]:["decrypt"]);r=e.toCryptoKey({name:t.startsWith("PS")?"RSA-PSS":"RSASSA-PKCS1-v1_5",hash:n},s,[a?"verify":"sign"])}if("ec"===e.asymmetricKeyType){let n=new Map([["prime256v1","P-256"],["secp384r1","P-384"],["secp521r1","P-521"]]).get(e.asymmetricKeyDetails?.namedCurve);if(!n)throw TypeError("given KeyObject instance cannot be used for this algorithm");"ES256"===t&&"P-256"===n&&(r=e.toCryptoKey({name:"ECDSA",namedCurve:n},s,[a?"verify":"sign"])),"ES384"===t&&"P-384"===n&&(r=e.toCryptoKey({name:"ECDSA",namedCurve:n},s,[a?"verify":"sign"])),"ES512"===t&&"P-521"===n&&(r=e.toCryptoKey({name:"ECDSA",namedCurve:n},s,[a?"verify":"sign"])),t.startsWith("ECDH-ES")&&(r=e.toCryptoKey({name:"ECDH",namedCurve:n},s,a?[]:["deriveBits"]))}if(!r)throw TypeError("given KeyObject instance cannot be used for this algorithm");return i?i[t]=r:n.set(e,{[t]:r}),r})(e,t)}catch(e){if(e instanceof TypeError)throw e}let r=e.export({format:"jwk"});return aB(e,r,t)}if(az(e))return e.k?ap(e.k):aB(e,e,t,!0);throw Error("unreachable")}async function aH(e,t,r){let n,i;if(!aD(e))throw new ab("Flattened JWS must be an object");if(void 0===e.protected&&void 0===e.header)throw new ab('Flattened JWS must have either of the "protected" or "header" members');if(void 0!==e.protected&&"string"!=typeof e.protected)throw new ab("JWS Protected Header incorrect type");if(void 0===e.payload)throw new ab("JWS Payload missing");if("string"!=typeof e.signature)throw new ab("JWS Signature missing or incorrect type");if(void 0!==e.header&&!aD(e.header))throw new ab("JWS Unprotected Header incorrect type");let a={};if(e.protected)try{let t=ap(e.protected);a=JSON.parse(au.decode(t))}catch{throw new ab("JWS Protected Header is invalid")}if(!aU(a,e.header))throw new ab("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let s={...a,...e.header},o=aV(ab,new Map([["b64",!0]]),r?.crit,a,s),l=!0;if(o.has("b64")&&"boolean"!=typeof(l=a.b64))throw new ab('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:u}=s;if("string"!=typeof u||!u)throw new ab('JWS "alg" (Algorithm) Header Parameter missing or invalid');let c=r&&function(e,t){if(void 0!==t&&(!Array.isArray(t)||t.some(e=>"string"!=typeof e)))throw TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)}("algorithms",r.algorithms);if(c&&!c.has(u))throw new ay('"alg" (Algorithm) Header Parameter value not allowed');if(l){if("string"!=typeof e.payload)throw new ab("JWS Payload must be a string")}else if("string"!=typeof e.payload&&!(e.payload instanceof Uint8Array))throw new ab("JWS Payload must be a string or an Uint8Array instance");let d=!1;"function"==typeof t&&(t=await t(a,e),d=!0),aZ(u,t,"verify");let p=ac(void 0!==e.protected?ad(e.protected):new Uint8Array,ad("."),"string"==typeof e.payload?l?ad(e.payload):al.encode(e.payload):e.payload);try{n=ap(e.signature)}catch{throw new ab("Failed to base64url decode the signature")}let f=await aW(t,u);if(!await aP(u,f,n,p))throw new a$;if(l)try{i=ap(e.payload)}catch{throw new ab("Failed to base64url decode the payload")}else i="string"==typeof e.payload?al.encode(e.payload):e.payload;let h={payload:i};return(void 0!==e.protected&&(h.protectedHeader=a),void 0!==e.header&&(h.unprotectedHeader=e.header),d)?{...h,key:f}:h}async function aK(e,t,r){if(e instanceof Uint8Array&&(e=au.decode(e)),"string"!=typeof e)throw new ab("Compact JWS must be a string or Uint8Array");let{0:n,1:i,2:a,length:s}=e.split(".");if(3!==s)throw new ab("Invalid Compact JWS");let o=await aH({payload:i,protected:n,signature:a},t,r),l={payload:o.payload,protectedHeader:o.protectedHeader};return"function"==typeof t?{...l,key:o.key}:l}let aG=e=>Math.floor(e.getTime()/1e3),aJ=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i;function aQ(e){let t,r=aJ.exec(e);if(!r||r[4]&&r[1])throw TypeError("Invalid time period format");let n=parseFloat(r[2]);switch(r[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":t=Math.round(n);break;case"minute":case"minutes":case"min":case"mins":case"m":t=Math.round(60*n);break;case"hour":case"hours":case"hr":case"hrs":case"h":t=Math.round(3600*n);break;case"day":case"days":case"d":t=Math.round(86400*n);break;case"week":case"weeks":case"w":t=Math.round(604800*n);break;default:t=Math.round(0x1e187e0*n)}return"-"===r[1]||"ago"===r[4]?-t:t}function aY(e,t){if(!Number.isFinite(t))throw TypeError(`Invalid ${e} input`);return t}let aX=e=>e.includes("/")?e.toLowerCase():`application/${e.toLowerCase()}`;class a0{#n;constructor(e){if(!aD(e))throw TypeError("JWT Claims Set MUST be an object");this.#n=structuredClone(e)}data(){return al.encode(JSON.stringify(this.#n))}get iss(){return this.#n.iss}set iss(e){this.#n.iss=e}get sub(){return this.#n.sub}set sub(e){this.#n.sub=e}get aud(){return this.#n.aud}set aud(e){this.#n.aud=e}set jti(e){this.#n.jti=e}set nbf(e){"number"==typeof e?this.#n.nbf=aY("setNotBefore",e):e instanceof Date?this.#n.nbf=aY("setNotBefore",aG(e)):this.#n.nbf=aG(new Date)+aQ(e)}set exp(e){"number"==typeof e?this.#n.exp=aY("setExpirationTime",e):e instanceof Date?this.#n.exp=aY("setExpirationTime",aG(e)):this.#n.exp=aG(new Date)+aQ(e)}set iat(e){void 0===e?this.#n.iat=aG(new Date):e instanceof Date?this.#n.iat=aY("setIssuedAt",aG(e)):"string"==typeof e?this.#n.iat=aY("setIssuedAt",aG(new Date)+aQ(e)):this.#n.iat=aY("setIssuedAt",e)}}async function a1(e,t,r){let n=await aK(e,t,r);if(n.protectedHeader.crit?.includes("b64")&&!1===n.protectedHeader.b64)throw new aw("JWTs MUST NOT use unencoded payload");let i={payload:function(e,t,r={}){var n,i;let a,s;try{a=JSON.parse(au.decode(t))}catch{}if(!aD(a))throw new aw("JWT Claims Set must be a top-level JSON object");let{typ:o}=r;if(o&&("string"!=typeof e.typ||aX(e.typ)!==aX(o)))throw new am('unexpected "typ" JWT header value',a,"typ","check_failed");let{requiredClaims:l=[],issuer:u,subject:c,audience:d,maxTokenAge:p}=r,f=[...l];for(let e of(void 0!==p&&f.push("iat"),void 0!==d&&f.push("aud"),void 0!==c&&f.push("sub"),void 0!==u&&f.push("iss"),new Set(f.reverse())))if(!(e in a))throw new am(`missing required "${e}" claim`,a,e,"missing");if(u&&!(Array.isArray(u)?u:[u]).includes(a.iss))throw new am('unexpected "iss" claim value',a,"iss","check_failed");if(c&&a.sub!==c)throw new am('unexpected "sub" claim value',a,"sub","check_failed");if(d&&(n=a.aud,i="string"==typeof d?[d]:d,"string"==typeof n?!i.includes(n):!(Array.isArray(n)&&i.some(Set.prototype.has.bind(new Set(n))))))throw new am('unexpected "aud" claim value',a,"aud","check_failed");switch(typeof r.clockTolerance){case"string":s=aQ(r.clockTolerance);break;case"number":s=r.clockTolerance;break;case"undefined":s=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:h}=r,m=aG(h||new Date);if((void 0!==a.iat||p)&&"number"!=typeof a.iat)throw new am('"iat" claim must be a number',a,"iat","invalid");if(void 0!==a.nbf){if("number"!=typeof a.nbf)throw new am('"nbf" claim must be a number',a,"nbf","invalid");if(a.nbf>m+s)throw new am('"nbf" claim timestamp check failed',a,"nbf","check_failed")}if(void 0!==a.exp){if("number"!=typeof a.exp)throw new am('"exp" claim must be a number',a,"exp","invalid");if(a.exp<=m-s)throw new ag('"exp" claim timestamp check failed',a,"exp","check_failed")}if(p){let e=m-a.iat;if(e-s>("number"==typeof p?p:aQ(p)))throw new ag('"iat" claim timestamp check failed (too far in the past)',a,"iat","check_failed");if(e<0-s)throw new am('"iat" claim timestamp check failed (it should be in the past)',a,"iat","check_failed")}return a}(n.protectedHeader,n.payload,r),protectedHeader:n.protectedHeader};return"function"==typeof t?{...i,key:n.key}:i}function a4(e){let t=e=>new Date(new Date().getTime()+1e3*e);return{tokenType:e.token_type,accessToken:e.access_token,refreshToken:e.refresh_token,accessTokenExpiresAt:e.expires_in?t(e.expires_in):void 0,refreshTokenExpiresAt:e.refresh_token_expires_in?t(e.refresh_token_expires_in):void 0,scopes:e?.scope?"string"==typeof e.scope?e.scope.split(" "):e.scope:[],idToken:e.id_token}}async function a6(e){let t=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",t);return rc.encode(new Uint8Array(r),{padding:!1})}async function a2({id:e,options:t,authorizationEndpoint:r,state:n,codeVerifier:i,scopes:a,claims:s,redirectURI:o,duration:l,prompt:u,accessType:c,responseType:d,display:p,loginHint:f,hd:h,responseMode:m,additionalParams:g,scopeJoiner:y}){let v=new URL(r);v.searchParams.set("response_type",d||"code");let b=Array.isArray(t.clientId)?t.clientId[0]:t.clientId;if(v.searchParams.set("client_id",b),v.searchParams.set("state",n),v.searchParams.set("scope",a.join(y||" ")),v.searchParams.set("redirect_uri",t.redirectURI||o),l&&v.searchParams.set("duration",l),p&&v.searchParams.set("display",p),f&&v.searchParams.set("login_hint",f),u&&v.searchParams.set("prompt",u),h&&v.searchParams.set("hd",h),c&&v.searchParams.set("access_type",c),m&&v.searchParams.set("response_mode",m),i){let e=await a6(i);v.searchParams.set("code_challenge_method","S256"),v.searchParams.set("code_challenge",e)}if(s){let e=s.reduce((e,t)=>(e[t]=null,e),{});v.searchParams.set("claims",JSON.stringify({id_token:{email:null,email_verified:null,...e}}))}return g&&Object.entries(g).forEach(([e,t])=>{v.searchParams.set(e,t)}),v}async function a9({code:e,codeVerifier:t,redirectURI:r,options:n,tokenEndpoint:i,authentication:a,deviceId:s,headers:o,additionalParams:l={},resource:u}){let{body:c,headers:d}=function({code:e,codeVerifier:t,redirectURI:r,options:n,authentication:i,deviceId:a,headers:s,additionalParams:o={},resource:l}){let u=new URLSearchParams,c={"content-type":"application/x-www-form-urlencoded",accept:"application/json","user-agent":"better-auth",...s};if(u.set("grant_type","authorization_code"),u.set("code",e),t&&u.set("code_verifier",t),n.clientKey&&u.set("client_key",n.clientKey),a&&u.set("device_id",a),u.set("redirect_uri",n.redirectURI||r),l)if("string"==typeof l)u.append("resource",l);else for(let e of l)u.append("resource",e);if("basic"===i){let e=Array.isArray(n.clientId)?n.clientId[0]:n.clientId,t=ru.encode(`${e}:${n.clientSecret??""}`);c.authorization=`Basic ${t}`}else{let e=Array.isArray(n.clientId)?n.clientId[0]:n.clientId;u.set("client_id",e),n.clientSecret&&u.set("client_secret",n.clientSecret)}for(let[e,t]of Object.entries(o))u.has(e)||u.append(e,t);return{body:u,headers:c}}({code:e,codeVerifier:t,redirectURI:r,options:n,authentication:a,deviceId:s,headers:o,additionalParams:l,resource:u}),{data:p,error:f}=await ao(i,{method:"POST",body:c,headers:d});if(f)throw f;return a4(p)}async function a3({refreshToken:e,options:t,tokenEndpoint:r,authentication:n,extraParams:i}){let{body:a,headers:s}=function({refreshToken:e,options:t,authentication:r,extraParams:n,resource:i}){let a=new URLSearchParams,s={"content-type":"application/x-www-form-urlencoded",accept:"application/json"};if(a.set("grant_type","refresh_token"),a.set("refresh_token",e),"basic"===r){let e=Array.isArray(t.clientId)?t.clientId[0]:t.clientId;e?s.authorization="Basic "+ru.encode(`${e}:${t.clientSecret??""}`):s.authorization="Basic "+ru.encode(`:${t.clientSecret??""}`)}else{let e=Array.isArray(t.clientId)?t.clientId[0]:t.clientId;a.set("client_id",e),t.clientSecret&&a.set("client_secret",t.clientSecret)}if(i)if("string"==typeof i)a.append("resource",i);else for(let e of i)a.append("resource",e);if(n)for(let[e,t]of Object.entries(n))a.set(e,t);return{body:a,headers:s}}({refreshToken:e,options:t,authentication:n,extraParams:i}),{data:o,error:l}=await ao(r,{method:"POST",body:a,headers:s});if(l)throw l;let u={accessToken:o.access_token,refreshToken:o.refresh_token,tokenType:o.token_type,scopes:o.scope?.split(" "),idToken:o.id_token};return o.expires_in&&(u.accessTokenExpiresAt=new Date(new Date().getTime()+1e3*o.expires_in)),u}let a5=Object.freeze({status:"aborted"});function a8(e,t,r){function n(r,n){var i;for(let a in Object.defineProperty(r,"_zod",{value:r._zod??{},enumerable:!1}),(i=r._zod).traits??(i.traits=new Set),r._zod.traits.add(e),t(r,n),s.prototype)a in r||Object.defineProperty(r,a,{value:s.prototype[a].bind(r)});r._zod.constr=s,r._zod.def=n}let i=r?.Parent??Object;class a extends i{}function s(e){var t;let i=r?.Parent?new a:this;for(let r of(n(i,e),(t=i._zod).deferred??(t.deferred=[]),i._zod.deferred))r();return i}return Object.defineProperty(a,"name",{value:e}),Object.defineProperty(s,"init",{value:n}),Object.defineProperty(s,Symbol.hasInstance,{value:t=>!!r?.Parent&&t instanceof r.Parent||t?._zod?.traits?.has(e)}),Object.defineProperty(s,"name",{value:e}),s}let a7=Symbol("zod_brand");class se extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class st extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}let sr={};function sn(e){return e&&Object.assign(sr,e),sr}function si(e){return e}function sa(e){return e}function ss(e){}function so(e){throw Error()}function sl(e){}function su(e){let t=Object.values(e).filter(e=>"number"==typeof e);return Object.entries(e).filter(([e,r])=>-1===t.indexOf(+e)).map(([e,t])=>t)}function sc(e,t="|"){return e.map(e=>sL(e)).join(t)}function sd(e,t){return"bigint"==typeof t?t.toString():t}function sp(e){return{get value(){{let t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function sf(e){return null==e}function sh(e){let t=+!!e.startsWith("^"),r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function sm(e,t){let r=(e.toString().split(".")[1]||"").length,n=t.toString(),i=(n.split(".")[1]||"").length;if(0===i&&/\d?e-\d?/.test(n)){let e=n.match(/\d?e-(\d?)/);e?.[1]&&(i=Number.parseInt(e[1]))}let a=r>i?r:i;return Number.parseInt(e.toFixed(a).replace(".",""))%Number.parseInt(t.toFixed(a).replace(".",""))/10**a}e.s(["$ZodAsyncError",()=>se,"$ZodEncodeError",()=>st,"$brand",0,a7,"$constructor",()=>a8,"NEVER",0,a5,"config",()=>sn,"globalConfig",0,sr],59551);let sg=Symbol("evaluating");function sy(e,t,r){let n;Object.defineProperty(e,t,{get(){if(n!==sg)return void 0===n&&(n=sg,n=r()),n},set(r){Object.defineProperty(e,t,{value:r})},configurable:!0})}function sv(e){return Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e))}function sb(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function sw(...e){let t={};for(let r of e)Object.assign(t,Object.getOwnPropertyDescriptors(r));return Object.defineProperties({},t)}function s_(e){return sw(e._zod.def)}function sx(e,t){return t?t.reduce((e,t)=>e?.[t],e):e}function sk(e){let t=Object.keys(e);return Promise.all(t.map(t=>e[t])).then(e=>{let r={};for(let n=0;n<t.length;n++)r[t[n]]=e[n];return r})}function sE(e=10){let t="abcdefghijklmnopqrstuvwxyz",r="";for(let n=0;n<e;n++)r+=t[Math.floor(Math.random()*t.length)];return r}function s$(e){return JSON.stringify(e)}let sT="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function sS(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}let sI=sp(()=>{if("undefined"!=typeof navigator&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return Function(""),!0}catch(e){return!1}});function sA(e){if(!1===sS(e))return!1;let t=e.constructor;if(void 0===t)return!0;let r=t.prototype;return!1!==sS(r)&&!1!==Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")}function sO(e){return sA(e)?{...e}:Array.isArray(e)?[...e]:e}function sN(e){let t=0;for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}let sR=new Set(["string","number","symbol"]),sP=new Set(["string","number","bigint","boolean","symbol","undefined"]);function sU(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function sD(e,t,r){let n=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(n._zod.parent=e),n}function sC(e){if(!e)return{};if("string"==typeof e)return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");e.error=e.message}return(delete e.message,"string"==typeof e.error)?{...e,error:()=>e.error}:e}function sj(e){let t;return new Proxy({},{get:(r,n,i)=>(t??(t=e()),Reflect.get(t,n,i)),set:(r,n,i,a)=>(t??(t=e()),Reflect.set(t,n,i,a)),has:(r,n)=>(t??(t=e()),Reflect.has(t,n)),deleteProperty:(r,n)=>(t??(t=e()),Reflect.deleteProperty(t,n)),ownKeys:r=>(t??(t=e()),Reflect.ownKeys(t)),getOwnPropertyDescriptor:(r,n)=>(t??(t=e()),Reflect.getOwnPropertyDescriptor(t,n)),defineProperty:(r,n,i)=>(t??(t=e()),Reflect.defineProperty(t,n,i))})}function sL(e){return"bigint"==typeof e?e.toString()+"n":"string"==typeof e?`"${e}"`:`${e}`}function sz(e){return Object.keys(e).filter(t=>"optional"===e[t]._zod.optin&&"optional"===e[t]._zod.optout)}let sM={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-0x80000000,0x7fffffff],uint32:[0,0xffffffff],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},sq={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function sZ(e,t){let r=e._zod.def,n=sw(e._zod.def,{get shape(){let e={};for(let n in t){if(!(n in r.shape))throw Error(`Unrecognized key: "${n}"`);t[n]&&(e[n]=r.shape[n])}return sb(this,"shape",e),e},checks:[]});return sD(e,n)}function sV(e,t){let r=e._zod.def,n=sw(e._zod.def,{get shape(){let n={...e._zod.def.shape};for(let e in t){if(!(e in r.shape))throw Error(`Unrecognized key: "${e}"`);t[e]&&delete n[e]}return sb(this,"shape",n),n},checks:[]});return sD(e,n)}function sF(e,t){if(!sA(t))throw Error("Invalid input to extend: expected a plain object");let r=e._zod.def.checks;if(r&&r.length>0)throw Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");let n=sw(e._zod.def,{get shape(){let r={...e._zod.def.shape,...t};return sb(this,"shape",r),r},checks:[]});return sD(e,n)}function sB(e,t){if(!sA(t))throw Error("Invalid input to safeExtend: expected a plain object");let r={...e._zod.def,get shape(){let r={...e._zod.def.shape,...t};return sb(this,"shape",r),r},checks:e._zod.def.checks};return sD(e,r)}function sW(e,t){let r=sw(e._zod.def,{get shape(){let r={...e._zod.def.shape,...t._zod.def.shape};return sb(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return sD(e,r)}function sH(e,t,r){let n=sw(t._zod.def,{get shape(){let n=t._zod.def.shape,i={...n};if(r)for(let t in r){if(!(t in n))throw Error(`Unrecognized key: "${t}"`);r[t]&&(i[t]=e?new e({type:"optional",innerType:n[t]}):n[t])}else for(let t in n)i[t]=e?new e({type:"optional",innerType:n[t]}):n[t];return sb(this,"shape",i),i},checks:[]});return sD(t,n)}function sK(e,t,r){let n=sw(t._zod.def,{get shape(){let n=t._zod.def.shape,i={...n};if(r)for(let t in r){if(!(t in i))throw Error(`Unrecognized key: "${t}"`);r[t]&&(i[t]=new e({type:"nonoptional",innerType:n[t]}))}else for(let t in n)i[t]=new e({type:"nonoptional",innerType:n[t]});return sb(this,"shape",i),i},checks:[]});return sD(t,n)}function sG(e,t=0){if(!0===e.aborted)return!0;for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function sJ(e,t){return t.map(t=>(t.path??(t.path=[]),t.path.unshift(e),t))}function sQ(e){return"string"==typeof e?e:e?.message}function sY(e,t,r){let n={...e,path:e.path??[]};return e.message||(n.message=sQ(e.inst?._zod.def?.error?.(e))??sQ(t?.error?.(e))??sQ(r.customError?.(e))??sQ(r.localeError?.(e))??"Invalid input"),delete n.inst,delete n.continue,t?.reportInput||delete n.input,n}function sX(e){return e instanceof Set?"set":e instanceof Map?"map":e instanceof File?"file":"unknown"}function s0(e){return Array.isArray(e)?"array":"string"==typeof e?"string":"unknown"}function s1(...e){let[t,r,n]=e;return"string"==typeof t?{message:t,code:"custom",input:r,inst:n}:{...t}}function s4(e){return Object.entries(e).filter(([e,t])=>Number.isNaN(Number.parseInt(e,10))).map(e=>e[1])}function s6(e){let t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r}function s2(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}function s9(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),r="=".repeat((4-t.length%4)%4);return s6(t+r)}function s3(e){return s2(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function s5(e){let t=e.replace(/^0x/,"");if(t.length%2!=0)throw Error("Invalid hex string length");let r=new Uint8Array(t.length/2);for(let e=0;e<t.length;e+=2)r[e/2]=Number.parseInt(t.slice(e,e+2),16);return r}function s8(e){return Array.from(e).map(e=>e.toString(16).padStart(2,"0")).join("")}class s7{constructor(...e){}}e.s(["BIGINT_FORMAT_RANGES",0,sq,"Class",()=>s7,"NUMBER_FORMAT_RANGES",0,sM,"aborted",()=>sG,"allowsEval",0,sI,"assert",()=>sl,"assertEqual",()=>si,"assertIs",()=>ss,"assertNever",()=>so,"assertNotEqual",()=>sa,"assignProp",()=>sb,"base64ToUint8Array",()=>s6,"base64urlToUint8Array",()=>s9,"cached",()=>sp,"captureStackTrace",0,sT,"cleanEnum",()=>s4,"cleanRegex",()=>sh,"clone",()=>sD,"cloneDef",()=>s_,"createTransparentProxy",()=>sj,"defineLazy",()=>sy,"esc",()=>s$,"escapeRegex",()=>sU,"extend",()=>sF,"finalizeIssue",()=>sY,"floatSafeRemainder",()=>sm,"getElementAtPath",()=>sx,"getEnumValues",()=>su,"getLengthableOrigin",()=>s0,"getParsedType",0,e=>{let t=typeof e;switch(t){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(e)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return"promise";if("undefined"!=typeof Map&&e instanceof Map)return"map";if("undefined"!=typeof Set&&e instanceof Set)return"set";if("undefined"!=typeof Date&&e instanceof Date)return"date";if("undefined"!=typeof File&&e instanceof File)return"file";return"object";default:throw Error(`Unknown data type: ${t}`)}},"getSizableOrigin",()=>sX,"hexToUint8Array",()=>s5,"isObject",()=>sS,"isPlainObject",()=>sA,"issue",()=>s1,"joinValues",()=>sc,"jsonStringifyReplacer",()=>sd,"merge",()=>sW,"mergeDefs",()=>sw,"normalizeParams",()=>sC,"nullish",()=>sf,"numKeys",()=>sN,"objectClone",()=>sv,"omit",()=>sV,"optionalKeys",()=>sz,"partial",()=>sH,"pick",()=>sZ,"prefixIssues",()=>sJ,"primitiveTypes",0,sP,"promiseAllObject",()=>sk,"propertyKeyTypes",0,sR,"randomString",()=>sE,"required",()=>sK,"safeExtend",()=>sB,"shallowClone",()=>sO,"stringifyPrimitive",()=>sL,"uint8ArrayToBase64",()=>s2,"uint8ArrayToBase64url",()=>s3,"uint8ArrayToHex",()=>s8,"unwrapMessage",()=>sQ],74509);let oe=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,sd,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},ot=a8("$ZodError",oe),or=a8("$ZodError",oe,{Parent:Error});function on(e,t=e=>e.message){let r={},n=[];for(let i of e.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(t(i))):n.push(t(i));return{formErrors:n,fieldErrors:r}}function oi(e,t=e=>e.message){let r={_errors:[]},n=e=>{for(let i of e.issues)if("invalid_union"===i.code&&i.errors.length)i.errors.map(e=>n({issues:e}));else if("invalid_key"===i.code)n({issues:i.issues});else if("invalid_element"===i.code)n({issues:i.issues});else if(0===i.path.length)r._errors.push(t(i));else{let e=r,n=0;for(;n<i.path.length;){let r=i.path[n];n===i.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(i))):e[r]=e[r]||{_errors:[]},e=e[r],n++}}};return n(e),r}function oa(e,t=e=>e.message){let r={errors:[]},n=(e,i=[])=>{var a,s;for(let o of e.issues)if("invalid_union"===o.code&&o.errors.length)o.errors.map(e=>n({issues:e},o.path));else if("invalid_key"===o.code)n({issues:o.issues},o.path);else if("invalid_element"===o.code)n({issues:o.issues},o.path);else{let e=[...i,...o.path];if(0===e.length){r.errors.push(t(o));continue}let n=r,l=0;for(;l<e.length;){let r=e[l],i=l===e.length-1;"string"==typeof r?(n.properties??(n.properties={}),(a=n.properties)[r]??(a[r]={errors:[]}),n=n.properties[r]):(n.items??(n.items=[]),(s=n.items)[r]??(s[r]={errors:[]}),n=n.items[r]),i&&n.errors.push(t(o)),l++}}};return n(e),r}function os(e){let t=[];for(let r of e.map(e=>"object"==typeof e?e.key:e))"number"==typeof r?t.push(`[${r}]`):"symbol"==typeof r?t.push(`[${JSON.stringify(String(r))}]`):/[^\w$]/.test(r)?t.push(`[${JSON.stringify(r)}]`):(t.length&&t.push("."),t.push(r));return t.join("")}function oo(e){let t=[];for(let r of[...e.issues].sort((e,t)=>(e.path??[]).length-(t.path??[]).length))t.push(` ${r.message}`),r.path?.length&&t.push(`   at ${os(r.path)}`);return t.join("\n")}e.s(["$ZodError",0,ot,"$ZodRealError",0,or,"flattenError",()=>on,"formatError",()=>oi,"prettifyError",()=>oo,"toDotPath",()=>os,"treeifyError",()=>oa],85142);let ol=e=>(t,r,n,i)=>{let a=n?Object.assign(n,{async:!1}):{async:!1},s=t._zod.run({value:r,issues:[]},a);if(s instanceof Promise)throw new se;if(s.issues.length){let t=new(i?.Err??e)(s.issues.map(e=>sY(e,a,sn())));throw sT(t,i?.callee),t}return s.value},ou=ol(or),oc=e=>async(t,r,n,i)=>{let a=n?Object.assign(n,{async:!0}):{async:!0},s=t._zod.run({value:r,issues:[]},a);if(s instanceof Promise&&(s=await s),s.issues.length){let t=new(i?.Err??e)(s.issues.map(e=>sY(e,a,sn())));throw sT(t,i?.callee),t}return s.value},od=oc(or),op=e=>(t,r,n)=>{let i=n?{...n,async:!1}:{async:!1},a=t._zod.run({value:r,issues:[]},i);if(a instanceof Promise)throw new se;return a.issues.length?{success:!1,error:new(e??ot)(a.issues.map(e=>sY(e,i,sn())))}:{success:!0,data:a.value}},of=op(or),oh=e=>async(t,r,n)=>{let i=n?Object.assign(n,{async:!0}):{async:!0},a=t._zod.run({value:r,issues:[]},i);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new e(a.issues.map(e=>sY(e,i,sn())))}:{success:!0,data:a.value}},om=oh(or),og=e=>(t,r,n)=>{let i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return ol(e)(t,r,i)},oy=og(or),ov=e=>(t,r,n)=>ol(e)(t,r,n),ob=ov(or),ow=e=>async(t,r,n)=>{let i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return oc(e)(t,r,i)},o_=ow(or),ox=e=>async(t,r,n)=>oc(e)(t,r,n),ok=ox(or),oE=e=>(t,r,n)=>{let i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return op(e)(t,r,i)},o$=oE(or),oT=e=>(t,r,n)=>op(e)(t,r,n),oS=oT(or),oI=e=>async(t,r,n)=>{let i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return oh(e)(t,r,i)},oA=oI(or),oO=e=>async(t,r,n)=>oh(e)(t,r,n),oN=oO(or);e.s(["_decode",0,ov,"_decodeAsync",0,ox,"_encode",0,og,"_encodeAsync",0,ow,"_parse",0,ol,"_parseAsync",0,oc,"_safeDecode",0,oT,"_safeDecodeAsync",0,oO,"_safeEncode",0,oE,"_safeEncodeAsync",0,oI,"_safeParse",0,op,"_safeParseAsync",0,oh,"decode",0,ob,"decodeAsync",0,ok,"encode",0,oy,"encodeAsync",0,o_,"parse",0,ou,"parseAsync",0,od,"safeDecode",0,oS,"safeDecodeAsync",0,oN,"safeEncode",0,o$,"safeEncodeAsync",0,oA,"safeParse",0,of,"safeParseAsync",0,om],70142);let oR=/^[cC][^\s-]{8,}$/,oP=/^[0-9a-z]+$/,oU=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,oD=/^[0-9a-vA-V]{20}$/,oC=/^[A-Za-z0-9]{27}$/,oj=/^[a-zA-Z0-9_-]{21}$/,oL=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,oz=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,oM=e=>e?RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,oq=oM(4),oZ=oM(6),oV=oM(7),oF=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,oB=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u;function oW(){return RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")}let oH=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,oK=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,oG=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,oJ=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,oQ=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,oY=/^[A-Za-z0-9_-]*$/,oX=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,o0=/^\+(?:[0-9]){6,14}[0-9]$/,o1="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",o4=RegExp(`^${o1}$`);function o6(e){let t="(?:[01]\\d|2[0-3]):[0-5]\\d";return"number"==typeof e.precision?-1===e.precision?`${t}`:0===e.precision?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function o2(e){return RegExp(`^${o6(e)}$`)}function o9(e){let t=o6({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");let n=`${t}(?:${r.join("|")})`;return RegExp(`^${o1}T(?:${n})$`)}let o3=e=>{let t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return RegExp(`^${t}$`)},o5=/^-?\d+n?$/,o8=/^-?\d+$/,o7=/^-?\d+(?:\.\d+)?/,le=/^(?:true|false)$/i,lt=/^null$/i,lr=/^undefined$/i,ln=/^[^A-Z]*$/,li=/^[^a-z]*$/;function la(e,t){return RegExp(`^[A-Za-z0-9+/]{${e}}${t}$`)}function ls(e){return RegExp(`^[A-Za-z0-9_-]{${e}}$`)}let lo=la(22,"=="),ll=ls(22),lu=la(27,"="),lc=ls(27),ld=la(43,"="),lp=ls(43),lf=la(64,""),lh=ls(64),lm=la(86,"=="),lg=ls(86);e.s(["base64",0,oQ,"base64url",0,oY,"bigint",0,o5,"boolean",0,le,"browserEmail",0,/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,"cidrv4",0,oG,"cidrv6",0,oJ,"cuid",0,oR,"cuid2",0,oP,"date",0,o4,"datetime",()=>o9,"domain",0,/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,"duration",0,oL,"e164",0,o0,"email",0,oF,"emoji",()=>oW,"extendedDuration",0,/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,"guid",0,oz,"hex",0,/^[0-9a-fA-F]*$/,"hostname",0,oX,"html5Email",0,/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,"idnEmail",0,oB,"integer",0,o8,"ipv4",0,oH,"ipv6",0,oK,"ksuid",0,oC,"lowercase",0,ln,"md5_base64",0,lo,"md5_base64url",0,ll,"md5_hex",0,/^[0-9a-fA-F]{32}$/,"nanoid",0,oj,"null",()=>lt,"number",0,o7,"rfc5322Email",0,/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,"sha1_base64",0,lu,"sha1_base64url",0,lc,"sha1_hex",0,/^[0-9a-fA-F]{40}$/,"sha256_base64",0,ld,"sha256_base64url",0,lp,"sha256_hex",0,/^[0-9a-fA-F]{64}$/,"sha384_base64",0,lf,"sha384_base64url",0,lh,"sha384_hex",0,/^[0-9a-fA-F]{96}$/,"sha512_base64",0,lm,"sha512_base64url",0,lg,"sha512_hex",0,/^[0-9a-fA-F]{128}$/,"string",0,o3,"time",()=>o2,"ulid",0,oU,"undefined",()=>lr,"unicodeEmail",0,oB,"uppercase",0,li,"uuid",0,oM,"uuid4",0,oq,"uuid6",0,oZ,"uuid7",0,oV,"xid",0,oD],92822);let ly=a8("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),lv={number:"number",bigint:"bigint",object:"date"},lb=a8("$ZodCheckLessThan",(e,t)=>{ly.init(e,t);let r=lv[typeof t.value];e._zod.onattach.push(e=>{let r=e._zod.bag,n=(t.inclusive?r.maximum:r.exclusiveMaximum)??1/0;t.value<n&&(t.inclusive?r.maximum=t.value:r.exclusiveMaximum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value<=t.value:n.value<t.value)||n.issues.push({origin:r,code:"too_big",maximum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),lw=a8("$ZodCheckGreaterThan",(e,t)=>{ly.init(e,t);let r=lv[typeof t.value];e._zod.onattach.push(e=>{let r=e._zod.bag,n=(t.inclusive?r.minimum:r.exclusiveMinimum)??-1/0;t.value>n&&(t.inclusive?r.minimum=t.value:r.exclusiveMinimum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value>=t.value:n.value>t.value)||n.issues.push({origin:r,code:"too_small",minimum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),l_=a8("$ZodCheckMultipleOf",(e,t)=>{ly.init(e,t),e._zod.onattach.push(e=>{var r;(r=e._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw Error("Cannot mix number and bigint in multiple_of check.");("bigint"==typeof r.value?r.value%t.value===BigInt(0):0===sm(r.value,t.value))||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),lx=a8("$ZodCheckNumberFormat",(e,t)=>{ly.init(e,t),t.format=t.format||"float64";let r=t.format?.includes("int"),n=r?"int":"number",[i,a]=sM[t.format];e._zod.onattach.push(e=>{let n=e._zod.bag;n.format=t.format,n.minimum=i,n.maximum=a,r&&(n.pattern=o8)}),e._zod.check=s=>{let o=s.value;if(r){if(!Number.isInteger(o))return void s.issues.push({expected:n,format:t.format,code:"invalid_type",continue:!1,input:o,inst:e});if(!Number.isSafeInteger(o))return void(o>0?s.issues.push({input:o,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort}):s.issues.push({input:o,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort}))}o<i&&s.issues.push({origin:"number",input:o,code:"too_small",minimum:i,inclusive:!0,inst:e,continue:!t.abort}),o>a&&s.issues.push({origin:"number",input:o,code:"too_big",maximum:a,inst:e})}}),lk=a8("$ZodCheckBigIntFormat",(e,t)=>{ly.init(e,t);let[r,n]=sq[t.format];e._zod.onattach.push(e=>{let i=e._zod.bag;i.format=t.format,i.minimum=r,i.maximum=n}),e._zod.check=i=>{let a=i.value;a<r&&i.issues.push({origin:"bigint",input:a,code:"too_small",minimum:r,inclusive:!0,inst:e,continue:!t.abort}),a>n&&i.issues.push({origin:"bigint",input:a,code:"too_big",maximum:n,inst:e})}}),lE=a8("$ZodCheckMaxSize",(e,t)=>{var r;ly.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!sf(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{let r=e._zod.bag.maximum??1/0;t.maximum<r&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{let n=r.value;n.size<=t.maximum||r.issues.push({origin:sX(n),code:"too_big",maximum:t.maximum,inclusive:!0,input:n,inst:e,continue:!t.abort})}}),l$=a8("$ZodCheckMinSize",(e,t)=>{var r;ly.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!sf(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{let r=e._zod.bag.minimum??-1/0;t.minimum>r&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{let n=r.value;n.size>=t.minimum||r.issues.push({origin:sX(n),code:"too_small",minimum:t.minimum,inclusive:!0,input:n,inst:e,continue:!t.abort})}}),lT=a8("$ZodCheckSizeEquals",(e,t)=>{var r;ly.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!sf(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{let r=e._zod.bag;r.minimum=t.size,r.maximum=t.size,r.size=t.size}),e._zod.check=r=>{let n=r.value,i=n.size;if(i===t.size)return;let a=i>t.size;r.issues.push({origin:sX(n),...a?{code:"too_big",maximum:t.size}:{code:"too_small",minimum:t.size},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),lS=a8("$ZodCheckMaxLength",(e,t)=>{var r;ly.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!sf(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{let r=e._zod.bag.maximum??1/0;t.maximum<r&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{let n=r.value;if(n.length<=t.maximum)return;let i=s0(n);r.issues.push({origin:i,code:"too_big",maximum:t.maximum,inclusive:!0,input:n,inst:e,continue:!t.abort})}}),lI=a8("$ZodCheckMinLength",(e,t)=>{var r;ly.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!sf(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{let r=e._zod.bag.minimum??-1/0;t.minimum>r&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{let n=r.value;if(n.length>=t.minimum)return;let i=s0(n);r.issues.push({origin:i,code:"too_small",minimum:t.minimum,inclusive:!0,input:n,inst:e,continue:!t.abort})}}),lA=a8("$ZodCheckLengthEquals",(e,t)=>{var r;ly.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!sf(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{let r=e._zod.bag;r.minimum=t.length,r.maximum=t.length,r.length=t.length}),e._zod.check=r=>{let n=r.value,i=n.length;if(i===t.length)return;let a=s0(n),s=i>t.length;r.issues.push({origin:a,...s?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),lO=a8("$ZodCheckStringFormat",(e,t)=>{var r,n;ly.init(e,t),e._zod.onattach.push(e=>{let r=e._zod.bag;r.format=t.format,t.pattern&&(r.patterns??(r.patterns=new Set),r.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=r=>{t.pattern.lastIndex=0,t.pattern.test(r.value)||r.issues.push({origin:"string",code:"invalid_format",format:t.format,input:r.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),lN=a8("$ZodCheckRegex",(e,t)=>{lO.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,t.pattern.test(r.value)||r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),lR=a8("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=ln),lO.init(e,t)}),lP=a8("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=li),lO.init(e,t)}),lU=a8("$ZodCheckIncludes",(e,t)=>{ly.init(e,t);let r=sU(t.includes),n=new RegExp("number"==typeof t.position?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(e=>{let t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(n)}),e._zod.check=r=>{r.value.includes(t.includes,t.position)||r.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:r.value,inst:e,continue:!t.abort})}}),lD=a8("$ZodCheckStartsWith",(e,t)=>{ly.init(e,t);let r=RegExp(`^${sU(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(e=>{let t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(r)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),lC=a8("$ZodCheckEndsWith",(e,t)=>{ly.init(e,t);let r=RegExp(`.*${sU(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(e=>{let t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(r)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}});function lj(e,t,r){e.issues.length&&t.issues.push(...sJ(r,e.issues))}let lL=a8("$ZodCheckProperty",(e,t)=>{ly.init(e,t),e._zod.check=e=>{let r=t.schema._zod.run({value:e.value[t.property],issues:[]},{});if(r instanceof Promise)return r.then(r=>lj(r,e,t.property));lj(r,e,t.property)}}),lz=a8("$ZodCheckMimeType",(e,t)=>{ly.init(e,t);let r=new Set(t.mime);e._zod.onattach.push(e=>{e._zod.bag.mime=t.mime}),e._zod.check=n=>{r.has(n.value.type)||n.issues.push({code:"invalid_value",values:t.mime,input:n.value.type,inst:e,continue:!t.abort})}}),lM=a8("$ZodCheckOverwrite",(e,t)=>{ly.init(e,t),e._zod.check=e=>{e.value=t.tx(e.value)}});e.s(["$ZodCheck",0,ly,"$ZodCheckBigIntFormat",0,lk,"$ZodCheckEndsWith",0,lC,"$ZodCheckGreaterThan",0,lw,"$ZodCheckIncludes",0,lU,"$ZodCheckLengthEquals",0,lA,"$ZodCheckLessThan",0,lb,"$ZodCheckLowerCase",0,lR,"$ZodCheckMaxLength",0,lS,"$ZodCheckMaxSize",0,lE,"$ZodCheckMimeType",0,lz,"$ZodCheckMinLength",0,lI,"$ZodCheckMinSize",0,l$,"$ZodCheckMultipleOf",0,l_,"$ZodCheckNumberFormat",0,lx,"$ZodCheckOverwrite",0,lM,"$ZodCheckProperty",0,lL,"$ZodCheckRegex",0,lN,"$ZodCheckSizeEquals",0,lT,"$ZodCheckStartsWith",0,lD,"$ZodCheckStringFormat",0,lO,"$ZodCheckUpperCase",0,lP],56351);class lq{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if("function"==typeof e){e(this,{execution:"sync"}),e(this,{execution:"async"});return}let t=e.split("\n").filter(e=>e),r=Math.min(...t.map(e=>e.length-e.trimStart().length));for(let e of t.map(e=>e.slice(r)).map(e=>" ".repeat(2*this.indent)+e))this.content.push(e)}compile(){return Function(...this?.args,[...(this?.content??[""]).map(e=>`  ${e}`)].join("\n"))}}e.s(["Doc",()=>lq],98912);let lZ={major:4,minor:1,patch:12};e.s(["version",0,lZ],61765);let lV=a8("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=lZ;let n=[...e._zod.def.checks??[]];for(let t of(e._zod.traits.has("$ZodCheck")&&n.unshift(e),n))for(let r of t._zod.onattach)r(e);if(0===n.length)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{let t=(e,t,r)=>{let n,i=sG(e);for(let a of t){if(a._zod.def.when){if(!a._zod.def.when(e))continue}else if(i)continue;let t=e.issues.length,s=a._zod.check(e);if(s instanceof Promise&&r?.async===!1)throw new se;if(n||s instanceof Promise)n=(n??Promise.resolve()).then(async()=>{await s,e.issues.length!==t&&(i||(i=sG(e,t)))});else{if(e.issues.length===t)continue;i||(i=sG(e,t))}}return n?n.then(()=>e):e},r=(r,i,a)=>{if(sG(r))return r.aborted=!0,r;let s=t(i,n,a);if(s instanceof Promise){if(!1===a.async)throw new se;return s.then(t=>e._zod.parse(t,a))}return e._zod.parse(s,a)};e._zod.run=(i,a)=>{if(a.skipChecks)return e._zod.parse(i,a);if("backward"===a.direction){let t=e._zod.parse({value:i.value,issues:[]},{...a,skipChecks:!0});return t instanceof Promise?t.then(e=>r(e,i,a)):r(t,i,a)}let s=e._zod.parse(i,a);if(s instanceof Promise){if(!1===a.async)throw new se;return s.then(e=>t(e,n,a))}return t(s,n,a)}}e["~standard"]={validate:t=>{try{let r=of(e,t);return r.success?{value:r.data}:{issues:r.error?.issues}}catch(r){return om(e,t).then(e=>e.success?{value:e.data}:{issues:e.error?.issues})}},vendor:"zod",version:1}}),lF=a8("$ZodString",(e,t)=>{lV.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??o3(e._zod.bag),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=String(r.value)}catch(e){}return"string"==typeof r.value||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),lB=a8("$ZodStringFormat",(e,t)=>{lO.init(e,t),lF.init(e,t)}),lW=a8("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=oz),lB.init(e,t)}),lH=a8("$ZodUUID",(e,t)=>{if(t.version){let e={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(void 0===e)throw Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=oM(e))}else t.pattern??(t.pattern=oM());lB.init(e,t)}),lK=a8("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=oF),lB.init(e,t)}),lG=a8("$ZodURL",(e,t)=>{lB.init(e,t),e._zod.check=r=>{try{let n=r.value.trim(),i=new URL(n);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(i.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:oX.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=i.href:r.value=n;return}catch(n){r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),lJ=a8("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=oW()),lB.init(e,t)}),lQ=a8("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=oj),lB.init(e,t)}),lY=a8("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=oR),lB.init(e,t)}),lX=a8("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=oP),lB.init(e,t)}),l0=a8("$ZodULID",(e,t)=>{t.pattern??(t.pattern=oU),lB.init(e,t)}),l1=a8("$ZodXID",(e,t)=>{t.pattern??(t.pattern=oD),lB.init(e,t)}),l4=a8("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=oC),lB.init(e,t)}),l6=a8("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=o9(t)),lB.init(e,t)}),l2=a8("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=o4),lB.init(e,t)}),l9=a8("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=o2(t)),lB.init(e,t)}),l3=a8("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=oL),lB.init(e,t)}),l5=a8("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=oH),lB.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.format="ipv4"})}),l8=a8("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=oK),lB.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.format="ipv6"}),e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),l7=a8("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=oG),lB.init(e,t)}),ue=a8("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=oJ),lB.init(e,t),e._zod.check=r=>{let n=r.value.split("/");try{if(2!==n.length)throw Error();let[e,t]=n;if(!t)throw Error();let r=Number(t);if(`${r}`!==t||r<0||r>128)throw Error();new URL(`http://[${e}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function ut(e){if(""===e)return!0;if(e.length%4!=0)return!1;try{return atob(e),!0}catch{return!1}}let ur=a8("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=oQ),lB.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.contentEncoding="base64"}),e._zod.check=r=>{ut(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function un(e){if(!oY.test(e))return!1;let t=e.replace(/[-_]/g,e=>"-"===e?"+":"/");return ut(t.padEnd(4*Math.ceil(t.length/4),"="))}let ui=a8("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=oY),lB.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.contentEncoding="base64url"}),e._zod.check=r=>{un(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),ua=a8("$ZodE164",(e,t)=>{t.pattern??(t.pattern=o0),lB.init(e,t)});function us(e,t=null){try{let r=e.split(".");if(3!==r.length)return!1;let[n]=r;if(!n)return!1;let i=JSON.parse(atob(n));if("typ"in i&&i?.typ!=="JWT"||!i.alg||t&&(!("alg"in i)||i.alg!==t))return!1;return!0}catch{return!1}}let uo=a8("$ZodJWT",(e,t)=>{lB.init(e,t),e._zod.check=r=>{us(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),ul=a8("$ZodCustomStringFormat",(e,t)=>{lB.init(e,t),e._zod.check=r=>{t.fn(r.value)||r.issues.push({code:"invalid_format",format:t.format,input:r.value,inst:e,continue:!t.abort})}}),uu=a8("$ZodNumber",(e,t)=>{lV.init(e,t),e._zod.pattern=e._zod.bag.pattern??o7,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch(e){}let i=r.value;if("number"==typeof i&&!Number.isNaN(i)&&Number.isFinite(i))return r;let a="number"==typeof i?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...a?{received:a}:{}}),r}}),uc=a8("$ZodNumber",(e,t)=>{lx.init(e,t),uu.init(e,t)}),ud=a8("$ZodBoolean",(e,t)=>{lV.init(e,t),e._zod.pattern=le,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=!!r.value}catch(e){}let i=r.value;return"boolean"==typeof i||r.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:e}),r}}),up=a8("$ZodBigInt",(e,t)=>{lV.init(e,t),e._zod.pattern=o5,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=BigInt(r.value)}catch(e){}return"bigint"==typeof r.value||r.issues.push({expected:"bigint",code:"invalid_type",input:r.value,inst:e}),r}}),uf=a8("$ZodBigInt",(e,t)=>{lk.init(e,t),up.init(e,t)}),uh=a8("$ZodSymbol",(e,t)=>{lV.init(e,t),e._zod.parse=(t,r)=>{let n=t.value;return"symbol"==typeof n||t.issues.push({expected:"symbol",code:"invalid_type",input:n,inst:e}),t}}),um=a8("$ZodUndefined",(e,t)=>{lV.init(e,t),e._zod.pattern=lr,e._zod.values=new Set([void 0]),e._zod.optin="optional",e._zod.optout="optional",e._zod.parse=(t,r)=>{let n=t.value;return void 0===n||t.issues.push({expected:"undefined",code:"invalid_type",input:n,inst:e}),t}}),ug=a8("$ZodNull",(e,t)=>{lV.init(e,t),e._zod.pattern=lt,e._zod.values=new Set([null]),e._zod.parse=(t,r)=>{let n=t.value;return null===n||t.issues.push({expected:"null",code:"invalid_type",input:n,inst:e}),t}}),uy=a8("$ZodAny",(e,t)=>{lV.init(e,t),e._zod.parse=e=>e}),uv=a8("$ZodUnknown",(e,t)=>{lV.init(e,t),e._zod.parse=e=>e}),ub=a8("$ZodNever",(e,t)=>{lV.init(e,t),e._zod.parse=(t,r)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:e}),t)}),uw=a8("$ZodVoid",(e,t)=>{lV.init(e,t),e._zod.parse=(t,r)=>{let n=t.value;return void 0===n||t.issues.push({expected:"void",code:"invalid_type",input:n,inst:e}),t}}),u_=a8("$ZodDate",(e,t)=>{lV.init(e,t),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=new Date(r.value)}catch(e){}let i=r.value,a=i instanceof Date;return a&&!Number.isNaN(i.getTime())||r.issues.push({expected:"date",code:"invalid_type",input:i,...a?{received:"Invalid Date"}:{},inst:e}),r}});function ux(e,t,r){e.issues.length&&t.issues.push(...sJ(r,e.issues)),t.value[r]=e.value}let uk=a8("$ZodArray",(e,t)=>{lV.init(e,t),e._zod.parse=(r,n)=>{let i=r.value;if(!Array.isArray(i))return r.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),r;r.value=Array(i.length);let a=[];for(let e=0;e<i.length;e++){let s=i[e],o=t.element._zod.run({value:s,issues:[]},n);o instanceof Promise?a.push(o.then(t=>ux(t,r,e))):ux(o,r,e)}return a.length?Promise.all(a).then(()=>r):r}});function uE(e,t,r,n){e.issues.length&&t.issues.push(...sJ(r,e.issues)),void 0===e.value?r in n&&(t.value[r]=void 0):t.value[r]=e.value}function u$(e){let t=Object.keys(e.shape);for(let r of t)if(!e.shape?.[r]?._zod?.traits?.has("$ZodType"))throw Error(`Invalid element at key "${r}": expected a Zod schema`);let r=sz(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}function uT(e,t,r,n,i,a){let s=[],o=i.keySet,l=i.catchall._zod,u=l.def.type;for(let i of Object.keys(t)){if(o.has(i))continue;if("never"===u){s.push(i);continue}let a=l.run({value:t[i],issues:[]},n);a instanceof Promise?e.push(a.then(e=>uE(e,r,i,t))):uE(a,r,i,t)}return(s.length&&r.issues.push({code:"unrecognized_keys",keys:s,input:t,inst:a}),e.length)?Promise.all(e).then(()=>r):r}let uS=a8("$ZodObject",(e,t)=>{let r;lV.init(e,t);let n=Object.getOwnPropertyDescriptor(t,"shape");if(!n?.get){let e=t.shape;Object.defineProperty(t,"shape",{get:()=>{let r={...e};return Object.defineProperty(t,"shape",{value:r}),r}})}let i=sp(()=>u$(t));sy(e._zod,"propValues",()=>{let e=t.shape,r={};for(let t in e){let n=e[t]._zod;if(n.values)for(let e of(r[t]??(r[t]=new Set),n.values))r[t].add(e)}return r});let a=t.catchall;e._zod.parse=(t,n)=>{r??(r=i.value);let s=t.value;if(!sS(s))return t.issues.push({expected:"object",code:"invalid_type",input:s,inst:e}),t;t.value={};let o=[],l=r.shape;for(let e of r.keys){let r=l[e]._zod.run({value:s[e],issues:[]},n);r instanceof Promise?o.push(r.then(r=>uE(r,t,e,s))):uE(r,t,e,s)}return a?uT(o,s,t,n,i.value,e):o.length?Promise.all(o).then(()=>t):t}}),uI=a8("$ZodObjectJIT",(e,t)=>{let r,n;uS.init(e,t);let i=e._zod.parse,a=sp(()=>u$(t)),s=!sr.jitless,o=s&&sI.value,l=t.catchall;e._zod.parse=(u,c)=>{n??(n=a.value);let d=u.value;return sS(d)?s&&o&&c?.async===!1&&!0!==c.jitless?(r||(r=(e=>{let t=new lq(["shape","payload","ctx"]),r=a.value,n=e=>{let t=s$(e);return`shape[${t}]._zod.run({ value: input[${t}], issues: [] }, ctx)`};t.write("const input = payload.value;");let i=Object.create(null),s=0;for(let e of r.keys)i[e]=`key_${s++}`;for(let e of(t.write("const newResult = {};"),r.keys)){let r=i[e],a=s$(e);t.write(`const ${r} = ${n(e)};`),t.write(`
        if (${r}.issues.length) {
          payload.issues = payload.issues.concat(${r}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${a}, ...iss.path] : [${a}]
          })));
        }
        
        
        if (${r}.value === undefined) {
          if (${a} in input) {
            newResult[${a}] = undefined;
          }
        } else {
          newResult[${a}] = ${r}.value;
        }
        
      `)}t.write("payload.value = newResult;"),t.write("return payload;");let o=t.compile();return(t,r)=>o(e,t,r)})(t.shape)),u=r(u,c),l)?uT([],d,u,c,n,e):u:i(u,c):(u.issues.push({expected:"object",code:"invalid_type",input:d,inst:e}),u)}});function uA(e,t,r,n){for(let r of e)if(0===r.issues.length)return t.value=r.value,t;let i=e.filter(e=>!sG(e));return 1===i.length?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(e=>e.issues.map(e=>sY(e,n,sn())))}),t)}let uO=a8("$ZodUnion",(e,t)=>{lV.init(e,t),sy(e._zod,"optin",()=>t.options.some(e=>"optional"===e._zod.optin)?"optional":void 0),sy(e._zod,"optout",()=>t.options.some(e=>"optional"===e._zod.optout)?"optional":void 0),sy(e._zod,"values",()=>{if(t.options.every(e=>e._zod.values))return new Set(t.options.flatMap(e=>Array.from(e._zod.values)))}),sy(e._zod,"pattern",()=>{if(t.options.every(e=>e._zod.pattern)){let e=t.options.map(e=>e._zod.pattern);return RegExp(`^(${e.map(e=>sh(e.source)).join("|")})$`)}});let r=1===t.options.length,n=t.options[0]._zod.run;e._zod.parse=(i,a)=>{if(r)return n(i,a);let s=!1,o=[];for(let e of t.options){let t=e._zod.run({value:i.value,issues:[]},a);if(t instanceof Promise)o.push(t),s=!0;else{if(0===t.issues.length)return t;o.push(t)}}return s?Promise.all(o).then(t=>uA(t,i,e,a)):uA(o,i,e,a)}}),uN=a8("$ZodDiscriminatedUnion",(e,t)=>{uO.init(e,t);let r=e._zod.parse;sy(e._zod,"propValues",()=>{let e={};for(let r of t.options){let n=r._zod.propValues;if(!n||0===Object.keys(n).length)throw Error(`Invalid discriminated union option at index "${t.options.indexOf(r)}"`);for(let[t,r]of Object.entries(n))for(let n of(e[t]||(e[t]=new Set),r))e[t].add(n)}return e});let n=sp(()=>{let e=t.options,r=new Map;for(let n of e){let e=n._zod.propValues?.[t.discriminator];if(!e||0===e.size)throw Error(`Invalid discriminated union option at index "${t.options.indexOf(n)}"`);for(let t of e){if(r.has(t))throw Error(`Duplicate discriminator value "${String(t)}"`);r.set(t,n)}}return r});e._zod.parse=(i,a)=>{let s=i.value;if(!sS(s))return i.issues.push({code:"invalid_type",expected:"object",input:s,inst:e}),i;let o=n.value.get(s?.[t.discriminator]);return o?o._zod.run(i,a):t.unionFallback?r(i,a):(i.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:t.discriminator,input:s,path:[t.discriminator],inst:e}),i)}}),uR=a8("$ZodIntersection",(e,t)=>{lV.init(e,t),e._zod.parse=(e,r)=>{let n=e.value,i=t.left._zod.run({value:n,issues:[]},r),a=t.right._zod.run({value:n,issues:[]},r);return i instanceof Promise||a instanceof Promise?Promise.all([i,a]).then(([t,r])=>uP(e,t,r)):uP(e,i,a)}});function uP(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),sG(e))return e;let n=function e(t,r){if(t===r||t instanceof Date&&r instanceof Date&&+t==+r)return{valid:!0,data:t};if(sA(t)&&sA(r)){let n=Object.keys(r),i=Object.keys(t).filter(e=>-1!==n.indexOf(e)),a={...t,...r};for(let n of i){let i=e(t[n],r[n]);if(!i.valid)return{valid:!1,mergeErrorPath:[n,...i.mergeErrorPath]};a[n]=i.data}return{valid:!0,data:a}}if(Array.isArray(t)&&Array.isArray(r)){if(t.length!==r.length)return{valid:!1,mergeErrorPath:[]};let n=[];for(let i=0;i<t.length;i++){let a=e(t[i],r[i]);if(!a.valid)return{valid:!1,mergeErrorPath:[i,...a.mergeErrorPath]};n.push(a.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}(t.value,r.value);if(!n.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return e.value=n.data,e}let uU=a8("$ZodTuple",(e,t)=>{lV.init(e,t);let r=t.items,n=r.length-[...r].reverse().findIndex(e=>"optional"!==e._zod.optin);e._zod.parse=(i,a)=>{let s=i.value;if(!Array.isArray(s))return i.issues.push({input:s,inst:e,expected:"tuple",code:"invalid_type"}),i;i.value=[];let o=[];if(!t.rest){let t=s.length>r.length,a=s.length<n-1;if(t||a)return i.issues.push({...t?{code:"too_big",maximum:r.length}:{code:"too_small",minimum:r.length},input:s,inst:e,origin:"array"}),i}let l=-1;for(let e of r){if(++l>=s.length&&l>=n)continue;let t=e._zod.run({value:s[l],issues:[]},a);t instanceof Promise?o.push(t.then(e=>uD(e,i,l))):uD(t,i,l)}if(t.rest)for(let e of s.slice(r.length)){l++;let r=t.rest._zod.run({value:e,issues:[]},a);r instanceof Promise?o.push(r.then(e=>uD(e,i,l))):uD(r,i,l)}return o.length?Promise.all(o).then(()=>i):i}});function uD(e,t,r){e.issues.length&&t.issues.push(...sJ(r,e.issues)),t.value[r]=e.value}let uC=a8("$ZodRecord",(e,t)=>{lV.init(e,t),e._zod.parse=(r,n)=>{let i=r.value;if(!sA(i))return r.issues.push({expected:"record",code:"invalid_type",input:i,inst:e}),r;let a=[];if(t.keyType._zod.values){let s,o=t.keyType._zod.values;for(let e of(r.value={},o))if("string"==typeof e||"number"==typeof e||"symbol"==typeof e){let s=t.valueType._zod.run({value:i[e],issues:[]},n);s instanceof Promise?a.push(s.then(t=>{t.issues.length&&r.issues.push(...sJ(e,t.issues)),r.value[e]=t.value})):(s.issues.length&&r.issues.push(...sJ(e,s.issues)),r.value[e]=s.value)}for(let e in i)o.has(e)||(s=s??[]).push(e);s&&s.length>0&&r.issues.push({code:"unrecognized_keys",input:i,inst:e,keys:s})}else for(let s of(r.value={},Reflect.ownKeys(i))){if("__proto__"===s)continue;let o=t.keyType._zod.run({value:s,issues:[]},n);if(o instanceof Promise)throw Error("Async schemas not supported in object keys currently");if(o.issues.length){r.issues.push({code:"invalid_key",origin:"record",issues:o.issues.map(e=>sY(e,n,sn())),input:s,path:[s],inst:e}),r.value[o.value]=o.value;continue}let l=t.valueType._zod.run({value:i[s],issues:[]},n);l instanceof Promise?a.push(l.then(e=>{e.issues.length&&r.issues.push(...sJ(s,e.issues)),r.value[o.value]=e.value})):(l.issues.length&&r.issues.push(...sJ(s,l.issues)),r.value[o.value]=l.value)}return a.length?Promise.all(a).then(()=>r):r}}),uj=a8("$ZodMap",(e,t)=>{lV.init(e,t),e._zod.parse=(r,n)=>{let i=r.value;if(!(i instanceof Map))return r.issues.push({expected:"map",code:"invalid_type",input:i,inst:e}),r;let a=[];for(let[s,o]of(r.value=new Map,i)){let l=t.keyType._zod.run({value:s,issues:[]},n),u=t.valueType._zod.run({value:o,issues:[]},n);l instanceof Promise||u instanceof Promise?a.push(Promise.all([l,u]).then(([t,a])=>{uL(t,a,r,s,i,e,n)})):uL(l,u,r,s,i,e,n)}return a.length?Promise.all(a).then(()=>r):r}});function uL(e,t,r,n,i,a,s){e.issues.length&&(sR.has(typeof n)?r.issues.push(...sJ(n,e.issues)):r.issues.push({code:"invalid_key",origin:"map",input:i,inst:a,issues:e.issues.map(e=>sY(e,s,sn()))})),t.issues.length&&(sR.has(typeof n)?r.issues.push(...sJ(n,t.issues)):r.issues.push({origin:"map",code:"invalid_element",input:i,inst:a,key:n,issues:t.issues.map(e=>sY(e,s,sn()))})),r.value.set(e.value,t.value)}let uz=a8("$ZodSet",(e,t)=>{lV.init(e,t),e._zod.parse=(r,n)=>{let i=r.value;if(!(i instanceof Set))return r.issues.push({input:i,inst:e,expected:"set",code:"invalid_type"}),r;let a=[];for(let e of(r.value=new Set,i)){let i=t.valueType._zod.run({value:e,issues:[]},n);i instanceof Promise?a.push(i.then(e=>uM(e,r))):uM(i,r)}return a.length?Promise.all(a).then(()=>r):r}});function uM(e,t){e.issues.length&&t.issues.push(...e.issues),t.value.add(e.value)}let uq=a8("$ZodEnum",(e,t)=>{lV.init(e,t);let r=su(t.entries),n=new Set(r);e._zod.values=n,e._zod.pattern=RegExp(`^(${r.filter(e=>sR.has(typeof e)).map(e=>"string"==typeof e?sU(e):e.toString()).join("|")})$`),e._zod.parse=(t,i)=>{let a=t.value;return n.has(a)||t.issues.push({code:"invalid_value",values:r,input:a,inst:e}),t}}),uZ=a8("$ZodLiteral",(e,t)=>{if(lV.init(e,t),0===t.values.length)throw Error("Cannot create literal schema with no valid values");e._zod.values=new Set(t.values),e._zod.pattern=RegExp(`^(${t.values.map(e=>"string"==typeof e?sU(e):e?sU(e.toString()):String(e)).join("|")})$`),e._zod.parse=(r,n)=>{let i=r.value;return e._zod.values.has(i)||r.issues.push({code:"invalid_value",values:t.values,input:i,inst:e}),r}}),uV=a8("$ZodFile",(e,t)=>{lV.init(e,t),e._zod.parse=(t,r)=>{let n=t.value;return n instanceof File||t.issues.push({expected:"file",code:"invalid_type",input:n,inst:e}),t}}),uF=a8("$ZodTransform",(e,t)=>{lV.init(e,t),e._zod.parse=(r,n)=>{if("backward"===n.direction)throw new st(e.constructor.name);let i=t.transform(r.value,r);if(n.async)return(i instanceof Promise?i:Promise.resolve(i)).then(e=>(r.value=e,r));if(i instanceof Promise)throw new se;return r.value=i,r}});function uB(e,t){return e.issues.length&&void 0===t?{issues:[],value:void 0}:e}let uW=a8("$ZodOptional",(e,t)=>{lV.init(e,t),e._zod.optin="optional",e._zod.optout="optional",sy(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),sy(e._zod,"pattern",()=>{let e=t.innerType._zod.pattern;return e?RegExp(`^(${sh(e.source)})?$`):void 0}),e._zod.parse=(e,r)=>{if("optional"===t.innerType._zod.optin){let n=t.innerType._zod.run(e,r);return n instanceof Promise?n.then(t=>uB(t,e.value)):uB(n,e.value)}return void 0===e.value?e:t.innerType._zod.run(e,r)}}),uH=a8("$ZodNullable",(e,t)=>{lV.init(e,t),sy(e._zod,"optin",()=>t.innerType._zod.optin),sy(e._zod,"optout",()=>t.innerType._zod.optout),sy(e._zod,"pattern",()=>{let e=t.innerType._zod.pattern;return e?RegExp(`^(${sh(e.source)}|null)$`):void 0}),sy(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(e,r)=>null===e.value?e:t.innerType._zod.run(e,r)}),uK=a8("$ZodDefault",(e,t)=>{lV.init(e,t),e._zod.optin="optional",sy(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>{if("backward"===r.direction)return t.innerType._zod.run(e,r);if(void 0===e.value)return e.value=t.defaultValue,e;let n=t.innerType._zod.run(e,r);return n instanceof Promise?n.then(e=>uG(e,t)):uG(n,t)}});function uG(e,t){return void 0===e.value&&(e.value=t.defaultValue),e}let uJ=a8("$ZodPrefault",(e,t)=>{lV.init(e,t),e._zod.optin="optional",sy(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>("backward"===r.direction||void 0===e.value&&(e.value=t.defaultValue),t.innerType._zod.run(e,r))}),uQ=a8("$ZodNonOptional",(e,t)=>{lV.init(e,t),sy(e._zod,"values",()=>{let e=t.innerType._zod.values;return e?new Set([...e].filter(e=>void 0!==e)):void 0}),e._zod.parse=(r,n)=>{let i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(t=>uY(t,e)):uY(i,e)}});function uY(e,t){return e.issues.length||void 0!==e.value||e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}let uX=a8("$ZodSuccess",(e,t)=>{lV.init(e,t),e._zod.parse=(e,r)=>{if("backward"===r.direction)throw new st("ZodSuccess");let n=t.innerType._zod.run(e,r);return n instanceof Promise?n.then(t=>(e.value=0===t.issues.length,e)):(e.value=0===n.issues.length,e)}}),u0=a8("$ZodCatch",(e,t)=>{lV.init(e,t),sy(e._zod,"optin",()=>t.innerType._zod.optin),sy(e._zod,"optout",()=>t.innerType._zod.optout),sy(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>{if("backward"===r.direction)return t.innerType._zod.run(e,r);let n=t.innerType._zod.run(e,r);return n instanceof Promise?n.then(n=>(e.value=n.value,n.issues.length&&(e.value=t.catchValue({...e,error:{issues:n.issues.map(e=>sY(e,r,sn()))},input:e.value}),e.issues=[]),e)):(e.value=n.value,n.issues.length&&(e.value=t.catchValue({...e,error:{issues:n.issues.map(e=>sY(e,r,sn()))},input:e.value}),e.issues=[]),e)}}),u1=a8("$ZodNaN",(e,t)=>{lV.init(e,t),e._zod.parse=(t,r)=>("number"==typeof t.value&&Number.isNaN(t.value)||t.issues.push({input:t.value,inst:e,expected:"nan",code:"invalid_type"}),t)}),u4=a8("$ZodPipe",(e,t)=>{lV.init(e,t),sy(e._zod,"values",()=>t.in._zod.values),sy(e._zod,"optin",()=>t.in._zod.optin),sy(e._zod,"optout",()=>t.out._zod.optout),sy(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(e,r)=>{if("backward"===r.direction){let n=t.out._zod.run(e,r);return n instanceof Promise?n.then(e=>u6(e,t.in,r)):u6(n,t.in,r)}let n=t.in._zod.run(e,r);return n instanceof Promise?n.then(e=>u6(e,t.out,r)):u6(n,t.out,r)}});function u6(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}let u2=a8("$ZodCodec",(e,t)=>{lV.init(e,t),sy(e._zod,"values",()=>t.in._zod.values),sy(e._zod,"optin",()=>t.in._zod.optin),sy(e._zod,"optout",()=>t.out._zod.optout),sy(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(e,r)=>{if("forward"===(r.direction||"forward")){let n=t.in._zod.run(e,r);return n instanceof Promise?n.then(e=>u9(e,t,r)):u9(n,t,r)}{let n=t.out._zod.run(e,r);return n instanceof Promise?n.then(e=>u9(e,t,r)):u9(n,t,r)}}});function u9(e,t,r){if(e.issues.length)return e.aborted=!0,e;if("forward"===(r.direction||"forward")){let n=t.transform(e.value,e);return n instanceof Promise?n.then(n=>u3(e,n,t.out,r)):u3(e,n,t.out,r)}{let n=t.reverseTransform(e.value,e);return n instanceof Promise?n.then(n=>u3(e,n,t.in,r)):u3(e,n,t.in,r)}}function u3(e,t,r,n){return e.issues.length?(e.aborted=!0,e):r._zod.run({value:t,issues:e.issues},n)}let u5=a8("$ZodReadonly",(e,t)=>{lV.init(e,t),sy(e._zod,"propValues",()=>t.innerType._zod.propValues),sy(e._zod,"values",()=>t.innerType._zod.values),sy(e._zod,"optin",()=>t.innerType._zod.optin),sy(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(e,r)=>{if("backward"===r.direction)return t.innerType._zod.run(e,r);let n=t.innerType._zod.run(e,r);return n instanceof Promise?n.then(u8):u8(n)}});function u8(e){return e.value=Object.freeze(e.value),e}let u7=a8("$ZodTemplateLiteral",(e,t)=>{lV.init(e,t);let r=[];for(let e of t.parts)if("object"==typeof e&&null!==e){if(!e._zod.pattern)throw Error(`Invalid template literal part, no pattern found: ${[...e._zod.traits].shift()}`);let t=e._zod.pattern instanceof RegExp?e._zod.pattern.source:e._zod.pattern;if(!t)throw Error(`Invalid template literal part: ${e._zod.traits}`);let n=+!!t.startsWith("^"),i=t.endsWith("$")?t.length-1:t.length;r.push(t.slice(n,i))}else if(null===e||sP.has(typeof e))r.push(sU(`${e}`));else throw Error(`Invalid template literal part: ${e}`);e._zod.pattern=RegExp(`^${r.join("")}$`),e._zod.parse=(r,n)=>("string"!=typeof r.value?r.issues.push({input:r.value,inst:e,expected:"template_literal",code:"invalid_type"}):(e._zod.pattern.lastIndex=0,e._zod.pattern.test(r.value)||r.issues.push({input:r.value,inst:e,code:"invalid_format",format:t.format??"template_literal",pattern:e._zod.pattern.source})),r)}),ce=a8("$ZodFunction",(e,t)=>(lV.init(e,t),e._def=t,e._zod.def=t,e.implement=t=>{if("function"!=typeof t)throw Error("implement() must be called with a function");return function(...r){let n=Reflect.apply(t,this,e._def.input?ou(e._def.input,r):r);return e._def.output?ou(e._def.output,n):n}},e.implementAsync=t=>{if("function"!=typeof t)throw Error("implementAsync() must be called with a function");return async function(...r){let n=e._def.input?await od(e._def.input,r):r,i=await Reflect.apply(t,this,n);return e._def.output?await od(e._def.output,i):i}},e._zod.parse=(t,r)=>("function"!=typeof t.value?t.issues.push({code:"invalid_type",expected:"function",input:t.value,inst:e}):e._def.output&&"promise"===e._def.output._zod.def.type?t.value=e.implementAsync(t.value):t.value=e.implement(t.value),t),e.input=(...t)=>{let r=e.constructor;return new r(Array.isArray(t[0])?{type:"function",input:new uU({type:"tuple",items:t[0],rest:t[1]}),output:e._def.output}:{type:"function",input:t[0],output:e._def.output})},e.output=t=>new e.constructor({type:"function",input:e._def.input,output:t}),e)),ct=a8("$ZodPromise",(e,t)=>{lV.init(e,t),e._zod.parse=(e,r)=>Promise.resolve(e.value).then(e=>t.innerType._zod.run({value:e,issues:[]},r))}),cr=a8("$ZodLazy",(e,t)=>{lV.init(e,t),sy(e._zod,"innerType",()=>t.getter()),sy(e._zod,"pattern",()=>e._zod.innerType._zod.pattern),sy(e._zod,"propValues",()=>e._zod.innerType._zod.propValues),sy(e._zod,"optin",()=>e._zod.innerType._zod.optin??void 0),sy(e._zod,"optout",()=>e._zod.innerType._zod.optout??void 0),e._zod.parse=(t,r)=>e._zod.innerType._zod.run(t,r)}),cn=a8("$ZodCustom",(e,t)=>{ly.init(e,t),lV.init(e,t),e._zod.parse=(e,t)=>e,e._zod.check=r=>{let n=r.value,i=t.fn(n);if(i instanceof Promise)return i.then(t=>ci(t,r,n,e));ci(i,r,n,e)}});function ci(e,t,r,n){if(!e){let e={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(e.params=n._zod.def.params),t.issues.push(s1(e))}}function ca(e,t,r,n){let i=Math.abs(e),a=i%10,s=i%100;return s>=11&&s<=19?n:1===a?t:a>=2&&a<=4?r:n}function cs(){let e,t;return{localeError:(e={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}},t={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},r=>{switch(r.code){case"invalid_type":return`Invalid input: expected ${r.expected}, received ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Invalid input: expected ${sL(r.values[0])}`;return`Invalid option: expected one of ${sc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Too big: expected ${r.origin??"value"} to have ${t}${r.maximum.toString()} ${n.unit??"elements"}`;return`Too big: expected ${r.origin??"value"} to be ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Too small: expected ${r.origin} to have ${t}${r.minimum.toString()} ${n.unit}`;return`Too small: expected ${r.origin} to be ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Invalid string: must start with "${r.prefix}"`;if("ends_with"===r.format)return`Invalid string: must end with "${r.suffix}"`;if("includes"===r.format)return`Invalid string: must include "${r.includes}"`;if("regex"===r.format)return`Invalid string: must match pattern ${r.pattern}`;return`Invalid ${t[r.format]??r.format}`;case"not_multiple_of":return`Invalid number: must be a multiple of ${r.divisor}`;case"unrecognized_keys":return`Unrecognized key${r.keys.length>1?"s":""}: ${sc(r.keys,", ")}`;case"invalid_key":return`Invalid key in ${r.origin}`;case"invalid_union":default:return"Invalid input";case"invalid_element":return`Invalid value in ${r.origin}`}})}}function co(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:" base64",base64url:" base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return`  ${r.expected}  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?" (NaN)":"";case"object":if(Array.isArray(e))return" (Array)";if(null===e)return" (null)";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`  ${sL(r.values[0])}`;return`  ${sc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`  ${r.origin??""} ${t} ${r.maximum.toString()} ${n.unit??""}`;return`  ${r.origin??""} ${t} ${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`  ${r.origin} ${t} ${r.minimum.toString()} ${n.unit}`;return`  ${r.origin} ${t} ${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`  "${r.prefix}"`;if("ends_with"===r.format)return`  "${r.suffix}"`;if("includes"===r.format)return`  "${r.includes}"`;if("regex"===r.format)return`  ${r.pattern}`;return` ${t[r.format]??r.format}`;case"not_multiple_of":return`  ${r.divisor}`;case"unrecognized_keys":return` ${sc(r.keys,", ")}`;case"invalid_key":return` ${r.origin}`;case"invalid_union":default:return``;case"invalid_element":return` ${r.origin}`}})}}e.s(["$ZodAny",0,uy,"$ZodArray",0,uk,"$ZodBase64",0,ur,"$ZodBase64URL",0,ui,"$ZodBigInt",0,up,"$ZodBigIntFormat",0,uf,"$ZodBoolean",0,ud,"$ZodCIDRv4",0,l7,"$ZodCIDRv6",0,ue,"$ZodCUID",0,lY,"$ZodCUID2",0,lX,"$ZodCatch",0,u0,"$ZodCodec",0,u2,"$ZodCustom",0,cn,"$ZodCustomStringFormat",0,ul,"$ZodDate",0,u_,"$ZodDefault",0,uK,"$ZodDiscriminatedUnion",0,uN,"$ZodE164",0,ua,"$ZodEmail",0,lK,"$ZodEmoji",0,lJ,"$ZodEnum",0,uq,"$ZodFile",0,uV,"$ZodFunction",0,ce,"$ZodGUID",0,lW,"$ZodIPv4",0,l5,"$ZodIPv6",0,l8,"$ZodISODate",0,l2,"$ZodISODateTime",0,l6,"$ZodISODuration",0,l3,"$ZodISOTime",0,l9,"$ZodIntersection",0,uR,"$ZodJWT",0,uo,"$ZodKSUID",0,l4,"$ZodLazy",0,cr,"$ZodLiteral",0,uZ,"$ZodMap",0,uj,"$ZodNaN",0,u1,"$ZodNanoID",0,lQ,"$ZodNever",0,ub,"$ZodNonOptional",0,uQ,"$ZodNull",0,ug,"$ZodNullable",0,uH,"$ZodNumber",0,uu,"$ZodNumberFormat",0,uc,"$ZodObject",0,uS,"$ZodObjectJIT",0,uI,"$ZodOptional",0,uW,"$ZodPipe",0,u4,"$ZodPrefault",0,uJ,"$ZodPromise",0,ct,"$ZodReadonly",0,u5,"$ZodRecord",0,uC,"$ZodSet",0,uz,"$ZodString",0,lF,"$ZodStringFormat",0,lB,"$ZodSuccess",0,uX,"$ZodSymbol",0,uh,"$ZodTemplateLiteral",0,u7,"$ZodTransform",0,uF,"$ZodTuple",0,uU,"$ZodType",0,lV,"$ZodULID",0,l0,"$ZodURL",0,lG,"$ZodUUID",0,lH,"$ZodUndefined",0,um,"$ZodUnion",0,uO,"$ZodUnknown",0,uv,"$ZodVoid",0,uw,"$ZodXID",0,l1,"isValidBase64",()=>ut,"isValidBase64URL",()=>un,"isValidJWT",()=>us],6441);let cl=(e,t)=>{switch(e){case"number":return Number.isNaN(t)?"NaN":"skaiius";case"bigint":return"sveikasis skaiius";case"string":return"eilut";case"boolean":return"login reikm";case"undefined":case"void":return"neapibrta reikm";case"function":return"funkcija";case"symbol":return"simbolis";case"object":if(void 0===t)return"neinomas objektas";if(null===t)return"nulin reikm";if(Array.isArray(t))return"masyvas";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name;return"objektas";case"null":return"nulin reikm"}return e},cu=e=>e.charAt(0).toUpperCase()+e.slice(1);function cc(e){let t=Math.abs(e),r=t%10,n=t%100;return n>=11&&n<=19||0===r?"many":1===r?"one":"few"}function cd(e,t,r,n){let i=Math.abs(e),a=i%10,s=i%100;return s>=11&&s<=19?n:1===a?t:a>=2&&a<=4?r:n}function cp(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:" ",email:"  ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:"   base64",base64url:"   base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:" "},r=>{switch(r.code){case"invalid_type":return`  :  ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`  :  ${sL(r.values[0])}`;return` :    ${sc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` : ,  ${r.origin??""} ${n.verb} ${t}${r.maximum.toString()} ${n.unit??""}`;return` : ,  ${r.origin??""}  ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` : ,  ${r.origin} ${n.verb} ${t}${r.minimum.toString()} ${n.unit}`;return` : ,  ${r.origin}  ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` :    "${r.prefix}"`;if("ends_with"===r.format)return` :    "${r.suffix}"`;if("includes"===r.format)return` :   "${r.includes}"`;if("regex"===r.format)return` :    ${r.pattern}`;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` :    ${r.divisor}`;case"unrecognized_keys":return` ${r.keys.length>1?"":""}: ${sc(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${r.origin}`;default:return`  `}})}}e.s([],41998);let cf=Symbol("ZodOutput"),ch=Symbol("ZodInput");class cm{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...t){let r=t[0];if(this._map.set(e,r),r&&"object"==typeof r&&"id"in r){if(this._idmap.has(r.id))throw Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){let t=this._map.get(e);return t&&"object"==typeof t&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){let t=e._zod.parent;if(t){let r={...this.get(t)??{}};delete r.id;let n={...r,...this._map.get(e)};return Object.keys(n).length?n:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function cg(){return new cm}let cy=cg();function cv(e,t){return new e({type:"string",...sC(t)})}function cb(e,t){return new e({type:"string",coerce:!0,...sC(t)})}function cw(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...sC(t)})}function c_(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...sC(t)})}function cx(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...sC(t)})}function ck(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...sC(t)})}function cE(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...sC(t)})}function c$(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...sC(t)})}function cT(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...sC(t)})}function cS(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...sC(t)})}function cI(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...sC(t)})}function cA(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...sC(t)})}function cO(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...sC(t)})}function cN(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...sC(t)})}function cR(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...sC(t)})}function cP(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...sC(t)})}function cU(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...sC(t)})}function cD(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...sC(t)})}function cC(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...sC(t)})}function cj(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...sC(t)})}function cL(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...sC(t)})}function cz(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...sC(t)})}function cM(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...sC(t)})}function cq(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...sC(t)})}e.s(["$ZodRegistry",()=>cm,"$input",0,ch,"$output",0,cf,"globalRegistry",0,cy,"registry",()=>cg],5222);let cZ={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function cV(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...sC(t)})}function cF(e,t){return new e({type:"string",format:"date",check:"string_format",...sC(t)})}function cB(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...sC(t)})}function cW(e,t){return new e({type:"string",format:"duration",check:"string_format",...sC(t)})}function cH(e,t){return new e({type:"number",checks:[],...sC(t)})}function cK(e,t){return new e({type:"number",coerce:!0,checks:[],...sC(t)})}function cG(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...sC(t)})}function cJ(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float32",...sC(t)})}function cQ(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float64",...sC(t)})}function cY(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"int32",...sC(t)})}function cX(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"uint32",...sC(t)})}function c0(e,t){return new e({type:"boolean",...sC(t)})}function c1(e,t){return new e({type:"boolean",coerce:!0,...sC(t)})}function c4(e,t){return new e({type:"bigint",...sC(t)})}function c6(e,t){return new e({type:"bigint",coerce:!0,...sC(t)})}function c2(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...sC(t)})}function c9(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...sC(t)})}function c3(e,t){return new e({type:"symbol",...sC(t)})}function c5(e,t){return new e({type:"undefined",...sC(t)})}function c8(e,t){return new e({type:"null",...sC(t)})}function c7(e){return new e({type:"any"})}function de(e){return new e({type:"unknown"})}function dt(e,t){return new e({type:"never",...sC(t)})}function dr(e,t){return new e({type:"void",...sC(t)})}function dn(e,t){return new e({type:"date",...sC(t)})}function di(e,t){return new e({type:"date",coerce:!0,...sC(t)})}function da(e,t){return new e({type:"nan",...sC(t)})}function ds(e,t){return new lb({check:"less_than",...sC(t),value:e,inclusive:!1})}function dl(e,t){return new lb({check:"less_than",...sC(t),value:e,inclusive:!0})}function du(e,t){return new lw({check:"greater_than",...sC(t),value:e,inclusive:!1})}function dc(e,t){return new lw({check:"greater_than",...sC(t),value:e,inclusive:!0})}function dd(e){return du(0,e)}function dp(e){return ds(0,e)}function df(e){return dl(0,e)}function dh(e){return dc(0,e)}function dm(e,t){return new l_({check:"multiple_of",...sC(t),value:e})}function dg(e,t){return new lE({check:"max_size",...sC(t),maximum:e})}function dy(e,t){return new l$({check:"min_size",...sC(t),minimum:e})}function dv(e,t){return new lT({check:"size_equals",...sC(t),size:e})}function db(e,t){return new lS({check:"max_length",...sC(t),maximum:e})}function dw(e,t){return new lI({check:"min_length",...sC(t),minimum:e})}function d_(e,t){return new lA({check:"length_equals",...sC(t),length:e})}function dx(e,t){return new lN({check:"string_format",format:"regex",...sC(t),pattern:e})}function dk(e){return new lR({check:"string_format",format:"lowercase",...sC(e)})}function dE(e){return new lP({check:"string_format",format:"uppercase",...sC(e)})}function d$(e,t){return new lU({check:"string_format",format:"includes",...sC(t),includes:e})}function dT(e,t){return new lD({check:"string_format",format:"starts_with",...sC(t),prefix:e})}function dS(e,t){return new lC({check:"string_format",format:"ends_with",...sC(t),suffix:e})}function dI(e,t,r){return new lL({check:"property",property:e,schema:t,...sC(r)})}function dA(e,t){return new lz({check:"mime_type",mime:e,...sC(t)})}function dO(e){return new lM({check:"overwrite",tx:e})}function dN(e){return dO(t=>t.normalize(e))}function dR(){return dO(e=>e.trim())}function dP(){return dO(e=>e.toLowerCase())}function dU(){return dO(e=>e.toUpperCase())}function dD(e,t,r){return new e({type:"array",element:t,...sC(r)})}function dC(e,t,r){return new e({type:"union",options:t,...sC(r)})}function dj(e,t,r,n){return new e({type:"union",options:r,discriminator:t,...sC(n)})}function dL(e,t,r){return new e({type:"intersection",left:t,right:r})}function dz(e,t,r,n){let i=r instanceof lV,a=i?n:r;return new e({type:"tuple",items:t,rest:i?r:null,...sC(a)})}function dM(e,t,r,n){return new e({type:"record",keyType:t,valueType:r,...sC(n)})}function dq(e,t,r,n){return new e({type:"map",keyType:t,valueType:r,...sC(n)})}function dZ(e,t,r){return new e({type:"set",valueType:t,...sC(r)})}function dV(e,t,r){return new e({type:"enum",entries:Array.isArray(t)?Object.fromEntries(t.map(e=>[e,e])):t,...sC(r)})}function dF(e,t,r){return new e({type:"enum",entries:t,...sC(r)})}function dB(e,t,r){return new e({type:"literal",values:Array.isArray(t)?t:[t],...sC(r)})}function dW(e,t){return new e({type:"file",...sC(t)})}function dH(e,t){return new e({type:"transform",transform:t})}function dK(e,t){return new e({type:"optional",innerType:t})}function dG(e,t){return new e({type:"nullable",innerType:t})}function dJ(e,t,r){return new e({type:"default",innerType:t,get defaultValue(){return"function"==typeof r?r():sO(r)}})}function dQ(e,t,r){return new e({type:"nonoptional",innerType:t,...sC(r)})}function dY(e,t){return new e({type:"success",innerType:t})}function dX(e,t,r){return new e({type:"catch",innerType:t,catchValue:"function"==typeof r?r:()=>r})}function d0(e,t,r){return new e({type:"pipe",in:t,out:r})}function d1(e,t){return new e({type:"readonly",innerType:t})}function d4(e,t,r){return new e({type:"template_literal",parts:t,...sC(r)})}function d6(e,t){return new e({type:"lazy",getter:t})}function d2(e,t){return new e({type:"promise",innerType:t})}function d9(e,t,r){let n=sC(r);return n.abort??(n.abort=!0),new e({type:"custom",check:"custom",fn:t,...n})}function d3(e,t,r){return new e({type:"custom",check:"custom",fn:t,...sC(r)})}function d5(e){let t=d8(r=>(r.addIssue=e=>{"string"==typeof e?r.issues.push(s1(e,r.value,t._zod.def)):(e.fatal&&(e.continue=!1),e.code??(e.code="custom"),e.input??(e.input=r.value),e.inst??(e.inst=t),e.continue??(e.continue=!t._zod.def.abort),r.issues.push(s1(e)))},e(r.value,r)));return t}function d8(e,t){let r=new ly({check:"custom",...sC(t)});return r._zod.check=e,r}function d7(e,t){let r=sC(t),n=r.truthy??["true","1","yes","on","y","enabled"],i=r.falsy??["false","0","no","off","n","disabled"];"sensitive"!==r.case&&(n=n.map(e=>"string"==typeof e?e.toLowerCase():e),i=i.map(e=>"string"==typeof e?e.toLowerCase():e));let a=new Set(n),s=new Set(i),o=e.Codec??u2,l=e.Boolean??ud,u=new o({type:"pipe",in:new(e.String??lF)({type:"string",error:r.error}),out:new l({type:"boolean",error:r.error}),transform:(e,t)=>{let n=e;return"sensitive"!==r.case&&(n=n.toLowerCase()),!!a.has(n)||!s.has(n)&&(t.issues.push({code:"invalid_value",expected:"stringbool",values:[...a,...s],input:t.value,inst:u,continue:!1}),{})},reverseTransform:(e,t)=>!0===e?n[0]||"true":i[0]||"false",error:r.error});return u}function pe(e,t,r,n={}){let i=sC(n),a={...sC(n),check:"string_format",type:"string",format:t,fn:"function"==typeof r?r:e=>r.test(e),...i};return r instanceof RegExp&&(a.pattern=r),new e(a)}e.s(["TimePrecision",0,cZ,"_any",()=>c7,"_array",()=>dD,"_base64",()=>cL,"_base64url",()=>cz,"_bigint",()=>c4,"_boolean",()=>c0,"_catch",()=>dX,"_check",()=>d8,"_cidrv4",()=>cC,"_cidrv6",()=>cj,"_coercedBigint",()=>c6,"_coercedBoolean",()=>c1,"_coercedDate",()=>di,"_coercedNumber",()=>cK,"_coercedString",()=>cb,"_cuid",()=>cA,"_cuid2",()=>cO,"_custom",()=>d9,"_date",()=>dn,"_default",()=>dJ,"_discriminatedUnion",()=>dj,"_e164",()=>cM,"_email",()=>cw,"_emoji",()=>cS,"_endsWith",()=>dS,"_enum",()=>dV,"_file",()=>dW,"_float32",()=>cJ,"_float64",()=>cQ,"_gt",()=>du,"_gte",()=>dc,"_guid",()=>c_,"_includes",()=>d$,"_int",()=>cG,"_int32",()=>cY,"_int64",()=>c2,"_intersection",()=>dL,"_ipv4",()=>cU,"_ipv6",()=>cD,"_isoDate",()=>cF,"_isoDateTime",()=>cV,"_isoDuration",()=>cW,"_isoTime",()=>cB,"_jwt",()=>cq,"_ksuid",()=>cP,"_lazy",()=>d6,"_length",()=>d_,"_literal",()=>dB,"_lowercase",()=>dk,"_lt",()=>ds,"_lte",()=>dl,"_map",()=>dq,"_max",()=>dl,"_maxLength",()=>db,"_maxSize",()=>dg,"_mime",()=>dA,"_min",()=>dc,"_minLength",()=>dw,"_minSize",()=>dy,"_multipleOf",()=>dm,"_nan",()=>da,"_nanoid",()=>cI,"_nativeEnum",()=>dF,"_negative",()=>dp,"_never",()=>dt,"_nonnegative",()=>dh,"_nonoptional",()=>dQ,"_nonpositive",()=>df,"_normalize",()=>dN,"_null",()=>c8,"_nullable",()=>dG,"_number",()=>cH,"_optional",()=>dK,"_overwrite",()=>dO,"_pipe",()=>d0,"_positive",()=>dd,"_promise",()=>d2,"_property",()=>dI,"_readonly",()=>d1,"_record",()=>dM,"_refine",()=>d3,"_regex",()=>dx,"_set",()=>dZ,"_size",()=>dv,"_startsWith",()=>dT,"_string",()=>cv,"_stringFormat",()=>pe,"_stringbool",()=>d7,"_success",()=>dY,"_superRefine",()=>d5,"_symbol",()=>c3,"_templateLiteral",()=>d4,"_toLowerCase",()=>dP,"_toUpperCase",()=>dU,"_transform",()=>dH,"_trim",()=>dR,"_tuple",()=>dz,"_uint32",()=>cX,"_uint64",()=>c9,"_ulid",()=>cN,"_undefined",()=>c5,"_union",()=>dC,"_unknown",()=>de,"_uppercase",()=>dE,"_url",()=>cT,"_uuid",()=>cx,"_uuidv4",()=>ck,"_uuidv6",()=>cE,"_uuidv7",()=>c$,"_void",()=>dr,"_xid",()=>cR],74390);class pt{constructor(e){this.counter=0,this.metadataRegistry=e?.metadata??cy,this.target=e?.target??"draft-2020-12",this.unrepresentable=e?.unrepresentable??"throw",this.override=e?.override??(()=>{}),this.io=e?.io??"output",this.seen=new Map}process(e,t={path:[],schemaPath:[]}){var r;let n=e._zod.def,i=this.seen.get(e);if(i)return i.count++,t.schemaPath.includes(e)&&(i.cycle=t.path),i.schema;let a={schema:{},count:1,cycle:void 0,path:t.path};this.seen.set(e,a);let s=e._zod.toJSONSchema?.();if(s)a.schema=s;else{let r={...t,schemaPath:[...t.schemaPath,e],path:t.path},i=e._zod.parent;if(i)a.ref=i,this.process(i,r),this.seen.get(i).isParent=!0;else{let t=a.schema;switch(n.type){case"string":{t.type="string";let{minimum:r,maximum:n,format:i,patterns:s,contentEncoding:o}=e._zod.bag;if("number"==typeof r&&(t.minLength=r),"number"==typeof n&&(t.maxLength=n),i&&(t.format=({guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""})[i]??i,""===t.format&&delete t.format),o&&(t.contentEncoding=o),s&&s.size>0){let e=[...s];1===e.length?t.pattern=e[0].source:e.length>1&&(a.schema.allOf=[...e.map(e=>({..."draft-7"===this.target||"draft-4"===this.target||"openapi-3.0"===this.target?{type:"string"}:{},pattern:e.source}))])}break}case"number":{let{minimum:r,maximum:n,format:i,multipleOf:a,exclusiveMaximum:s,exclusiveMinimum:o}=e._zod.bag;"string"==typeof i&&i.includes("int")?t.type="integer":t.type="number","number"==typeof o&&("draft-4"===this.target||"openapi-3.0"===this.target?(t.minimum=o,t.exclusiveMinimum=!0):t.exclusiveMinimum=o),"number"==typeof r&&(t.minimum=r,"number"==typeof o&&"draft-4"!==this.target&&(o>=r?delete t.minimum:delete t.exclusiveMinimum)),"number"==typeof s&&("draft-4"===this.target||"openapi-3.0"===this.target?(t.maximum=s,t.exclusiveMaximum=!0):t.exclusiveMaximum=s),"number"==typeof n&&(t.maximum=n,"number"==typeof s&&"draft-4"!==this.target&&(s<=n?delete t.maximum:delete t.exclusiveMaximum)),"number"==typeof a&&(t.multipleOf=a);break}case"boolean":case"success":t.type="boolean";break;case"bigint":if("throw"===this.unrepresentable)throw Error("BigInt cannot be represented in JSON Schema");break;case"symbol":if("throw"===this.unrepresentable)throw Error("Symbols cannot be represented in JSON Schema");break;case"null":"openapi-3.0"===this.target?(t.type="string",t.nullable=!0,t.enum=[null]):t.type="null";break;case"any":case"unknown":break;case"undefined":if("throw"===this.unrepresentable)throw Error("Undefined cannot be represented in JSON Schema");break;case"void":if("throw"===this.unrepresentable)throw Error("Void cannot be represented in JSON Schema");break;case"never":t.not={};break;case"date":if("throw"===this.unrepresentable)throw Error("Date cannot be represented in JSON Schema");break;case"array":{let{minimum:i,maximum:a}=e._zod.bag;"number"==typeof i&&(t.minItems=i),"number"==typeof a&&(t.maxItems=a),t.type="array",t.items=this.process(n.element,{...r,path:[...r.path,"items"]});break}case"object":{t.type="object",t.properties={};let e=n.shape;for(let n in e)t.properties[n]=this.process(e[n],{...r,path:[...r.path,"properties",n]});let i=new Set([...new Set(Object.keys(e))].filter(e=>{let t=n.shape[e]._zod;return"input"===this.io?void 0===t.optin:void 0===t.optout}));i.size>0&&(t.required=Array.from(i)),n.catchall?._zod.def.type==="never"?t.additionalProperties=!1:n.catchall?n.catchall&&(t.additionalProperties=this.process(n.catchall,{...r,path:[...r.path,"additionalProperties"]})):"output"===this.io&&(t.additionalProperties=!1);break}case"union":t.anyOf=n.options.map((e,t)=>this.process(e,{...r,path:[...r.path,"anyOf",t]}));break;case"intersection":{let e=this.process(n.left,{...r,path:[...r.path,"allOf",0]}),i=this.process(n.right,{...r,path:[...r.path,"allOf",1]}),a=e=>"allOf"in e&&1===Object.keys(e).length;t.allOf=[...a(e)?e.allOf:[e],...a(i)?i.allOf:[i]];break}case"tuple":{t.type="array";let i="draft-2020-12"===this.target?"prefixItems":"items",a="draft-2020-12"===this.target||"openapi-3.0"===this.target?"items":"additionalItems",s=n.items.map((e,t)=>this.process(e,{...r,path:[...r.path,i,t]})),o=n.rest?this.process(n.rest,{...r,path:[...r.path,a,..."openapi-3.0"===this.target?[n.items.length]:[]]}):null;"draft-2020-12"===this.target?(t.prefixItems=s,o&&(t.items=o)):"openapi-3.0"===this.target?(t.items={anyOf:s},o&&t.items.anyOf.push(o),t.minItems=s.length,o||(t.maxItems=s.length)):(t.items=s,o&&(t.additionalItems=o));let{minimum:l,maximum:u}=e._zod.bag;"number"==typeof l&&(t.minItems=l),"number"==typeof u&&(t.maxItems=u);break}case"record":t.type="object",("draft-7"===this.target||"draft-2020-12"===this.target)&&(t.propertyNames=this.process(n.keyType,{...r,path:[...r.path,"propertyNames"]})),t.additionalProperties=this.process(n.valueType,{...r,path:[...r.path,"additionalProperties"]});break;case"map":if("throw"===this.unrepresentable)throw Error("Map cannot be represented in JSON Schema");break;case"set":if("throw"===this.unrepresentable)throw Error("Set cannot be represented in JSON Schema");break;case"enum":{let e=su(n.entries);e.every(e=>"number"==typeof e)&&(t.type="number"),e.every(e=>"string"==typeof e)&&(t.type="string"),t.enum=e;break}case"literal":{let e=[];for(let t of n.values)if(void 0===t){if("throw"===this.unrepresentable)throw Error("Literal `undefined` cannot be represented in JSON Schema")}else if("bigint"==typeof t)if("throw"===this.unrepresentable)throw Error("BigInt literals cannot be represented in JSON Schema");else e.push(Number(t));else e.push(t);if(0===e.length);else if(1===e.length){let r=e[0];t.type=null===r?"null":typeof r,"draft-4"===this.target||"openapi-3.0"===this.target?t.enum=[r]:t.const=r}else e.every(e=>"number"==typeof e)&&(t.type="number"),e.every(e=>"string"==typeof e)&&(t.type="string"),e.every(e=>"boolean"==typeof e)&&(t.type="string"),e.every(e=>null===e)&&(t.type="null"),t.enum=e;break}case"file":{let r={type:"string",format:"binary",contentEncoding:"binary"},{minimum:n,maximum:i,mime:a}=e._zod.bag;void 0!==n&&(r.minLength=n),void 0!==i&&(r.maxLength=i),a?1===a.length?(r.contentMediaType=a[0],Object.assign(t,r)):t.anyOf=a.map(e=>({...r,contentMediaType:e})):Object.assign(t,r);break}case"transform":if("throw"===this.unrepresentable)throw Error("Transforms cannot be represented in JSON Schema");break;case"nullable":{let e=this.process(n.innerType,r);"openapi-3.0"===this.target?(a.ref=n.innerType,t.nullable=!0):t.anyOf=[e,{type:"null"}];break}case"nonoptional":case"promise":case"optional":this.process(n.innerType,r),a.ref=n.innerType;break;case"default":this.process(n.innerType,r),a.ref=n.innerType,t.default=JSON.parse(JSON.stringify(n.defaultValue));break;case"prefault":this.process(n.innerType,r),a.ref=n.innerType,"input"===this.io&&(t._prefault=JSON.parse(JSON.stringify(n.defaultValue)));break;case"catch":{let e;this.process(n.innerType,r),a.ref=n.innerType;try{e=n.catchValue(void 0)}catch{throw Error("Dynamic catch values are not supported in JSON Schema")}t.default=e;break}case"nan":if("throw"===this.unrepresentable)throw Error("NaN cannot be represented in JSON Schema");break;case"template_literal":{let r=e._zod.pattern;if(!r)throw Error("Pattern not found in template literal");t.type="string",t.pattern=r.source;break}case"pipe":{let e="input"===this.io?"transform"===n.in._zod.def.type?n.out:n.in:n.out;this.process(e,r),a.ref=e;break}case"readonly":this.process(n.innerType,r),a.ref=n.innerType,t.readOnly=!0;break;case"lazy":{let t=e._zod.innerType;this.process(t,r),a.ref=t;break}case"custom":if("throw"===this.unrepresentable)throw Error("Custom types cannot be represented in JSON Schema");break;case"function":if("throw"===this.unrepresentable)throw Error("Function types cannot be represented in JSON Schema")}}}let o=this.metadataRegistry.get(e);return o&&Object.assign(a.schema,o),"input"===this.io&&function e(t,r){let n=r??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);let i=t._zod.def;switch(i.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":case"custom":case"success":case"catch":case"function":return!1;case"array":return e(i.element,n);case"object":for(let t in i.shape)if(e(i.shape[t],n))return!0;return!1;case"union":for(let t of i.options)if(e(t,n))return!0;return!1;case"intersection":return e(i.left,n)||e(i.right,n);case"tuple":for(let t of i.items)if(e(t,n))return!0;if(i.rest&&e(i.rest,n))return!0;return!1;case"record":case"map":return e(i.keyType,n)||e(i.valueType,n);case"set":return e(i.valueType,n);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":case"default":case"prefault":return e(i.innerType,n);case"lazy":return e(i.getter(),n);case"transform":return!0;case"pipe":return e(i.in,n)||e(i.out,n)}throw Error(`Unknown schema type: ${i.type}`)}(e)&&(delete a.schema.examples,delete a.schema.default),"input"===this.io&&a.schema._prefault&&((r=a.schema).default??(r.default=a.schema._prefault)),delete a.schema._prefault,this.seen.get(e).schema}emit(e,t){let r={cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0},n=this.seen.get(e);if(!n)throw Error("Unprocessed schema. This is a bug in Zod.");let i=e=>{let t="draft-2020-12"===this.target?"$defs":"definitions";if(r.external){let n=r.external.registry.get(e[0])?.id,i=r.external.uri??(e=>e);if(n)return{ref:i(n)};let a=e[1].defId??e[1].schema.id??`schema${this.counter++}`;return e[1].defId=a,{defId:a,ref:`${i("__shared")}#/${t}/${a}`}}if(e[1]===n)return{ref:"#"};let i=`#/${t}/`,a=e[1].schema.id??`__schema${this.counter++}`;return{defId:a,ref:i+a}},a=e=>{if(e[1].schema.$ref)return;let t=e[1],{ref:r,defId:n}=i(e);t.def={...t.schema},n&&(t.defId=n);let a=t.schema;for(let e in a)delete a[e];a.$ref=r};if("throw"===r.cycles)for(let e of this.seen.entries()){let t=e[1];if(t.cycle)throw Error(`Cycle detected: #/${t.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let t of this.seen.entries()){let n=t[1];if(e===t[0]){a(t);continue}if(r.external){let n=r.external.registry.get(t[0])?.id;if(e!==t[0]&&n){a(t);continue}}if(this.metadataRegistry.get(t[0])?.id||n.cycle||n.count>1&&"ref"===r.reused){a(t);continue}}let s=(e,t)=>{let r=this.seen.get(e),n=r.def??r.schema,i={...n};if(null===r.ref)return;let a=r.ref;if(r.ref=null,a){s(a,t);let e=this.seen.get(a).schema;e.$ref&&("draft-7"===t.target||"draft-4"===t.target||"openapi-3.0"===t.target)?(n.allOf=n.allOf??[],n.allOf.push(e)):(Object.assign(n,e),Object.assign(n,i))}r.isParent||this.override({zodSchema:e,jsonSchema:n,path:r.path??[]})};for(let e of[...this.seen.entries()].reverse())s(e[0],{target:this.target});let o={};if("draft-2020-12"===this.target?o.$schema="https://json-schema.org/draft/2020-12/schema":"draft-7"===this.target?o.$schema="http://json-schema.org/draft-07/schema#":"draft-4"===this.target?o.$schema="http://json-schema.org/draft-04/schema#":"openapi-3.0"===this.target||console.warn(`Invalid target: ${this.target}`),r.external?.uri){let t=r.external.registry.get(e)?.id;if(!t)throw Error("Schema is missing an `id` property");o.$id=r.external.uri(t)}Object.assign(o,n.def);let l=r.external?.defs??{};for(let e of this.seen.entries()){let t=e[1];t.def&&t.defId&&(l[t.defId]=t.def)}r.external||Object.keys(l).length>0&&("draft-2020-12"===this.target?o.$defs=l:o.definitions=l);try{return JSON.parse(JSON.stringify(o))}catch(e){throw Error("Error converting schema to JSON.")}}}function pr(e,t){if(e instanceof cm){let r=new pt(t),n={};for(let t of e._idmap.entries()){let[e,n]=t;r.process(n)}let i={},a={registry:e,uri:t?.uri,defs:n};for(let n of e._idmap.entries()){let[e,s]=n;i[e]=r.emit(s,{...t,external:a})}return Object.keys(n).length>0&&(i.__shared={["draft-2020-12"===r.target?"$defs":"definitions"]:n}),{schemas:i}}let r=new pt(t);return r.process(e),r.emit(e,t)}e.s(["JSONSchemaGenerator",()=>pt,"toJSONSchema",()=>pr],28510),e.s([],76416),e.s([],90123),e.s(["ZodAny",()=>fj,"ZodArray",()=>fH,"ZodBase64",()=>fn,"ZodBase64URL",()=>fa,"ZodBigInt",()=>fT,"ZodBigIntFormat",()=>fI,"ZodBoolean",()=>fE,"ZodCIDRv4",()=>p7,"ZodCIDRv6",()=>ft,"ZodCUID",()=>pG,"ZodCUID2",()=>pQ,"ZodCatch",()=>hS,"ZodCodec",()=>hP,"ZodCustom",()=>hB,"ZodCustomStringFormat",()=>fd,"ZodDate",()=>fB,"ZodDefault",()=>hb,"ZodDiscriminatedUnion",()=>f4,"ZodE164",()=>fo,"ZodEmail",()=>pP,"ZodEmoji",()=>pB,"ZodEnum",()=>ha,"ZodFile",()=>hc,"ZodFunction",()=>hV,"ZodGUID",()=>pD,"ZodIPv4",()=>p9,"ZodIPv6",()=>p5,"ZodIntersection",()=>f2,"ZodJWT",()=>fu,"ZodKSUID",()=>p6,"ZodLazy",()=>hz,"ZodLiteral",()=>hl,"ZodMap",()=>ht,"ZodNaN",()=>hA,"ZodNanoID",()=>pH,"ZodNever",()=>fq,"ZodNonOptional",()=>hk,"ZodNull",()=>fD,"ZodNullable",()=>hg,"ZodNumber",()=>fg,"ZodNumberFormat",()=>fv,"ZodObject",()=>fJ,"ZodOptional",()=>hh,"ZodPipe",()=>hN,"ZodPrefault",()=>h_,"ZodPromise",()=>hq,"ZodReadonly",()=>hD,"ZodRecord",()=>f8,"ZodSet",()=>hn,"ZodString",()=>pO,"ZodStringFormat",()=>pR,"ZodSuccess",()=>h$,"ZodSymbol",()=>fN,"ZodTemplateLiteral",()=>hj,"ZodTransform",()=>hp,"ZodTuple",()=>f3,"ZodType",()=>pI,"ZodULID",()=>pX,"ZodURL",()=>pZ,"ZodUUID",()=>pj,"ZodUndefined",()=>fP,"ZodUnion",()=>f0,"ZodUnknown",()=>fz,"ZodVoid",()=>fV,"ZodXID",()=>p1,"_ZodString",()=>pA,"_default",()=>hw,"_function",()=>hF,"any",()=>fL,"array",()=>fK,"base64",()=>fi,"base64url",()=>fs,"bigint",()=>fS,"boolean",()=>f$,"catch",()=>hI,"check",()=>hW,"cidrv4",()=>fe,"cidrv6",()=>fr,"codec",()=>hU,"cuid",()=>pJ,"cuid2",()=>pY,"custom",()=>hH,"date",()=>fW,"discriminatedUnion",()=>f6,"e164",()=>fl,"email",()=>pU,"emoji",()=>pW,"enum",()=>hs,"file",()=>hd,"float32",()=>fw,"float64",()=>f_,"function",()=>hF,"guid",()=>pC,"hash",()=>fm,"hex",()=>fh,"hostname",()=>ff,"httpUrl",()=>pF,"instanceof",()=>hJ,"int",()=>fb,"int32",()=>fx,"int64",()=>fA,"intersection",()=>f9,"ipv4",()=>p3,"ipv6",()=>p8,"json",()=>hY,"jwt",()=>fc,"keyof",()=>fG,"ksuid",()=>p2,"lazy",()=>hM,"literal",()=>hu,"looseObject",()=>fX,"map",()=>hr,"nan",()=>hO,"nanoid",()=>pK,"nativeEnum",()=>ho,"never",()=>fZ,"nonoptional",()=>hE,"null",()=>fC,"nullable",()=>hy,"nullish",()=>hv,"number",()=>fy,"object",()=>fQ,"optional",()=>hm,"partialRecord",()=>he,"pipe",()=>hR,"prefault",()=>hx,"preprocess",()=>hX,"promise",()=>hZ,"readonly",()=>hC,"record",()=>f7,"refine",()=>hK,"set",()=>hi,"strictObject",()=>fY,"string",()=>pN,"stringFormat",()=>fp,"stringbool",()=>hQ,"success",()=>hT,"superRefine",()=>hG,"symbol",()=>fR,"templateLiteral",()=>hL,"transform",()=>hf,"tuple",()=>f5,"uint32",()=>fk,"uint64",()=>fO,"ulid",()=>p0,"undefined",()=>fU,"union",()=>f1,"unknown",()=>fM,"url",()=>pV,"uuid",()=>pL,"uuidv4",()=>pz,"uuidv6",()=>pM,"uuidv7",()=>pq,"void",()=>fF,"xid",()=>p4],22942),e.i(6441),e.s(["$ZodAny",0,uy,"$ZodArray",0,uk,"$ZodBase64",0,ur,"$ZodBase64URL",0,ui,"$ZodBigInt",0,up,"$ZodBigIntFormat",0,uf,"$ZodBoolean",0,ud,"$ZodCIDRv4",0,l7,"$ZodCIDRv6",0,ue,"$ZodCUID",0,lY,"$ZodCUID2",0,lX,"$ZodCatch",0,u0,"$ZodCodec",0,u2,"$ZodCustom",0,cn,"$ZodCustomStringFormat",0,ul,"$ZodDate",0,u_,"$ZodDefault",0,uK,"$ZodDiscriminatedUnion",0,uN,"$ZodE164",0,ua,"$ZodEmail",0,lK,"$ZodEmoji",0,lJ,"$ZodEnum",0,uq,"$ZodFile",0,uV,"$ZodFunction",0,ce,"$ZodGUID",0,lW,"$ZodIPv4",0,l5,"$ZodIPv6",0,l8,"$ZodISODate",0,l2,"$ZodISODateTime",0,l6,"$ZodISODuration",0,l3,"$ZodISOTime",0,l9,"$ZodIntersection",0,uR,"$ZodJWT",0,uo,"$ZodKSUID",0,l4,"$ZodLazy",0,cr,"$ZodLiteral",0,uZ,"$ZodMap",0,uj,"$ZodNaN",0,u1,"$ZodNanoID",0,lQ,"$ZodNever",0,ub,"$ZodNonOptional",0,uQ,"$ZodNull",0,ug,"$ZodNullable",0,uH,"$ZodNumber",0,uu,"$ZodNumberFormat",0,uc,"$ZodObject",0,uS,"$ZodObjectJIT",0,uI,"$ZodOptional",0,uW,"$ZodPipe",0,u4,"$ZodPrefault",0,uJ,"$ZodPromise",0,ct,"$ZodReadonly",0,u5,"$ZodRecord",0,uC,"$ZodSet",0,uz,"$ZodString",0,lF,"$ZodStringFormat",0,lB,"$ZodSuccess",0,uX,"$ZodSymbol",0,uh,"$ZodTemplateLiteral",0,u7,"$ZodTransform",0,uF,"$ZodTuple",0,uU,"$ZodType",0,lV,"$ZodULID",0,l0,"$ZodURL",0,lG,"$ZodUUID",0,lH,"$ZodUndefined",0,um,"$ZodUnion",0,uO,"$ZodUnknown",0,uv,"$ZodVoid",0,uw,"$ZodXID",0,l1,"clone",()=>sD,"isValidBase64",()=>ut,"isValidBase64URL",()=>un,"isValidJWT",()=>us],74585);var pn=e.i(92822),pn=pn,pi=e.i(74509),pi=pi;e.s([],27069),e.s(["ZodISODate",()=>po,"ZodISODateTime",()=>pa,"ZodISODuration",()=>pd,"ZodISOTime",()=>pu,"date",()=>pl,"datetime",()=>ps,"duration",()=>pp,"time",()=>pc],11904);let pa=a8("ZodISODateTime",(e,t)=>{l6.init(e,t),pR.init(e,t)});function ps(e){return cV(pa,e)}let po=a8("ZodISODate",(e,t)=>{l2.init(e,t),pR.init(e,t)});function pl(e){return cF(po,e)}let pu=a8("ZodISOTime",(e,t)=>{l9.init(e,t),pR.init(e,t)});function pc(e){return cB(pu,e)}let pd=a8("ZodISODuration",(e,t)=>{l3.init(e,t),pR.init(e,t)});function pp(e){return cW(pd,e)}let pf=(e,t)=>{ot.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:t=>oi(e,t)},flatten:{value:t=>on(e,t)},addIssue:{value:t=>{e.issues.push(t),e.message=JSON.stringify(e.issues,sd,2)}},addIssues:{value:t=>{e.issues.push(...t),e.message=JSON.stringify(e.issues,sd,2)}},isEmpty:{get:()=>0===e.issues.length}})},ph=a8("ZodError",pf),pm=a8("ZodError",pf,{Parent:Error});e.s(["ZodError",0,ph,"ZodRealError",0,pm],52040);let pg=ol(pm),py=oc(pm),pv=op(pm),pb=oh(pm),pw=og(pm),p_=ov(pm),px=ow(pm),pk=ox(pm),pE=oE(pm),p$=oT(pm),pT=oI(pm),pS=oO(pm);e.s(["decode",0,p_,"decodeAsync",0,pk,"encode",0,pw,"encodeAsync",0,px,"parse",0,pg,"parseAsync",0,py,"safeDecode",0,p$,"safeDecodeAsync",0,pS,"safeEncode",0,pE,"safeEncodeAsync",0,pT,"safeParse",0,pv,"safeParseAsync",0,pb],47170);let pI=a8("ZodType",(e,t)=>(lV.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone(pi.mergeDefs(t,{checks:[...t.checks??[],...r.map(e=>"function"==typeof e?{_zod:{check:e,def:{check:"custom"},onattach:[]}}:e)]})),e.clone=(t,r)=>sD(e,t,r),e.brand=()=>e,e.register=(t,r)=>(t.add(e,r),e),e.parse=(t,r)=>pg(e,t,r,{callee:e.parse}),e.safeParse=(t,r)=>pv(e,t,r),e.parseAsync=async(t,r)=>py(e,t,r,{callee:e.parseAsync}),e.safeParseAsync=async(t,r)=>pb(e,t,r),e.spa=e.safeParseAsync,e.encode=(t,r)=>pw(e,t,r),e.decode=(t,r)=>p_(e,t,r),e.encodeAsync=async(t,r)=>px(e,t,r),e.decodeAsync=async(t,r)=>pk(e,t,r),e.safeEncode=(t,r)=>pE(e,t,r),e.safeDecode=(t,r)=>p$(e,t,r),e.safeEncodeAsync=async(t,r)=>pT(e,t,r),e.safeDecodeAsync=async(t,r)=>pS(e,t,r),e.refine=(t,r)=>e.check(hK(t,r)),e.superRefine=t=>e.check(d5(t)),e.overwrite=t=>e.check(dO(t)),e.optional=()=>hm(e),e.nullable=()=>hy(e),e.nullish=()=>hm(hy(e)),e.nonoptional=t=>hE(e,t),e.array=()=>fK(e),e.or=t=>f1([e,t]),e.and=t=>f9(e,t),e.transform=t=>hR(e,hf(t)),e.default=t=>hw(e,t),e.prefault=t=>hx(e,t),e.catch=t=>hI(e,t),e.pipe=t=>hR(e,t),e.readonly=()=>hC(e),e.describe=t=>{let r=e.clone();return cy.add(r,{description:t}),r},Object.defineProperty(e,"description",{get:()=>cy.get(e)?.description,configurable:!0}),e.meta=(...t)=>{if(0===t.length)return cy.get(e);let r=e.clone();return cy.add(r,t[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),pA=a8("_ZodString",(e,t)=>{lF.init(e,t),pI.init(e,t);let r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...t)=>e.check(dx(...t)),e.includes=(...t)=>e.check(d$(...t)),e.startsWith=(...t)=>e.check(dT(...t)),e.endsWith=(...t)=>e.check(dS(...t)),e.min=(...t)=>e.check(dw(...t)),e.max=(...t)=>e.check(db(...t)),e.length=(...t)=>e.check(d_(...t)),e.nonempty=(...t)=>e.check(dw(1,...t)),e.lowercase=t=>e.check(dk(t)),e.uppercase=t=>e.check(dE(t)),e.trim=()=>e.check(dR()),e.normalize=(...t)=>e.check(dN(...t)),e.toLowerCase=()=>e.check(dP()),e.toUpperCase=()=>e.check(dU())}),pO=a8("ZodString",(e,t)=>{lF.init(e,t),pA.init(e,t),e.email=t=>e.check(cw(pP,t)),e.url=t=>e.check(cT(pZ,t)),e.jwt=t=>e.check(cq(fu,t)),e.emoji=t=>e.check(cS(pB,t)),e.guid=t=>e.check(c_(pD,t)),e.uuid=t=>e.check(cx(pj,t)),e.uuidv4=t=>e.check(ck(pj,t)),e.uuidv6=t=>e.check(cE(pj,t)),e.uuidv7=t=>e.check(c$(pj,t)),e.nanoid=t=>e.check(cI(pH,t)),e.guid=t=>e.check(c_(pD,t)),e.cuid=t=>e.check(cA(pG,t)),e.cuid2=t=>e.check(cO(pQ,t)),e.ulid=t=>e.check(cN(pX,t)),e.base64=t=>e.check(cL(fn,t)),e.base64url=t=>e.check(cz(fa,t)),e.xid=t=>e.check(cR(p1,t)),e.ksuid=t=>e.check(cP(p6,t)),e.ipv4=t=>e.check(cU(p9,t)),e.ipv6=t=>e.check(cD(p5,t)),e.cidrv4=t=>e.check(cC(p7,t)),e.cidrv6=t=>e.check(cj(ft,t)),e.e164=t=>e.check(cM(fo,t)),e.datetime=t=>e.check(ps(t)),e.date=t=>e.check(pl(t)),e.time=t=>e.check(pc(t)),e.duration=t=>e.check(pp(t))});function pN(e){return cv(pO,e)}let pR=a8("ZodStringFormat",(e,t)=>{lB.init(e,t),pA.init(e,t)}),pP=a8("ZodEmail",(e,t)=>{lK.init(e,t),pR.init(e,t)});function pU(e){return cw(pP,e)}let pD=a8("ZodGUID",(e,t)=>{lW.init(e,t),pR.init(e,t)});function pC(e){return c_(pD,e)}let pj=a8("ZodUUID",(e,t)=>{lH.init(e,t),pR.init(e,t)});function pL(e){return cx(pj,e)}function pz(e){return ck(pj,e)}function pM(e){return cE(pj,e)}function pq(e){return c$(pj,e)}let pZ=a8("ZodURL",(e,t)=>{lG.init(e,t),pR.init(e,t)});function pV(e){return cT(pZ,e)}function pF(e){return cT(pZ,{protocol:/^https?$/,hostname:pn.domain,...pi.normalizeParams(e)})}let pB=a8("ZodEmoji",(e,t)=>{lJ.init(e,t),pR.init(e,t)});function pW(e){return cS(pB,e)}let pH=a8("ZodNanoID",(e,t)=>{lQ.init(e,t),pR.init(e,t)});function pK(e){return cI(pH,e)}let pG=a8("ZodCUID",(e,t)=>{lY.init(e,t),pR.init(e,t)});function pJ(e){return cA(pG,e)}let pQ=a8("ZodCUID2",(e,t)=>{lX.init(e,t),pR.init(e,t)});function pY(e){return cO(pQ,e)}let pX=a8("ZodULID",(e,t)=>{l0.init(e,t),pR.init(e,t)});function p0(e){return cN(pX,e)}let p1=a8("ZodXID",(e,t)=>{l1.init(e,t),pR.init(e,t)});function p4(e){return cR(p1,e)}let p6=a8("ZodKSUID",(e,t)=>{l4.init(e,t),pR.init(e,t)});function p2(e){return cP(p6,e)}let p9=a8("ZodIPv4",(e,t)=>{l5.init(e,t),pR.init(e,t)});function p3(e){return cU(p9,e)}let p5=a8("ZodIPv6",(e,t)=>{l8.init(e,t),pR.init(e,t)});function p8(e){return cD(p5,e)}let p7=a8("ZodCIDRv4",(e,t)=>{l7.init(e,t),pR.init(e,t)});function fe(e){return cC(p7,e)}let ft=a8("ZodCIDRv6",(e,t)=>{ue.init(e,t),pR.init(e,t)});function fr(e){return cj(ft,e)}let fn=a8("ZodBase64",(e,t)=>{ur.init(e,t),pR.init(e,t)});function fi(e){return cL(fn,e)}let fa=a8("ZodBase64URL",(e,t)=>{ui.init(e,t),pR.init(e,t)});function fs(e){return cz(fa,e)}let fo=a8("ZodE164",(e,t)=>{ua.init(e,t),pR.init(e,t)});function fl(e){return cM(fo,e)}let fu=a8("ZodJWT",(e,t)=>{uo.init(e,t),pR.init(e,t)});function fc(e){return cq(fu,e)}let fd=a8("ZodCustomStringFormat",(e,t)=>{ul.init(e,t),pR.init(e,t)});function fp(e,t,r={}){return pe(fd,e,t,r)}function ff(e){return pe(fd,"hostname",pn.hostname,e)}function fh(e){return pe(fd,"hex",pn.hex,e)}function fm(e,t){let r=t?.enc??"hex",n=`${e}_${r}`,i=pn[n];if(!i)throw Error(`Unrecognized hash format: ${n}`);return pe(fd,n,i,t)}let fg=a8("ZodNumber",(e,t)=>{uu.init(e,t),pI.init(e,t),e.gt=(t,r)=>e.check(du(t,r)),e.gte=(t,r)=>e.check(dc(t,r)),e.min=(t,r)=>e.check(dc(t,r)),e.lt=(t,r)=>e.check(ds(t,r)),e.lte=(t,r)=>e.check(dl(t,r)),e.max=(t,r)=>e.check(dl(t,r)),e.int=t=>e.check(fb(t)),e.safe=t=>e.check(fb(t)),e.positive=t=>e.check(du(0,t)),e.nonnegative=t=>e.check(dc(0,t)),e.negative=t=>e.check(ds(0,t)),e.nonpositive=t=>e.check(dl(0,t)),e.multipleOf=(t,r)=>e.check(dm(t,r)),e.step=(t,r)=>e.check(dm(t,r)),e.finite=()=>e;let r=e._zod.bag;e.minValue=Math.max(r.minimum??-1/0,r.exclusiveMinimum??-1/0)??null,e.maxValue=Math.min(r.maximum??1/0,r.exclusiveMaximum??1/0)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function fy(e){return cH(fg,e)}let fv=a8("ZodNumberFormat",(e,t)=>{uc.init(e,t),fg.init(e,t)});function fb(e){return cG(fv,e)}function fw(e){return cJ(fv,e)}function f_(e){return cQ(fv,e)}function fx(e){return cY(fv,e)}function fk(e){return cX(fv,e)}let fE=a8("ZodBoolean",(e,t)=>{ud.init(e,t),pI.init(e,t)});function f$(e){return c0(fE,e)}let fT=a8("ZodBigInt",(e,t)=>{up.init(e,t),pI.init(e,t),e.gte=(t,r)=>e.check(dc(t,r)),e.min=(t,r)=>e.check(dc(t,r)),e.gt=(t,r)=>e.check(du(t,r)),e.gte=(t,r)=>e.check(dc(t,r)),e.min=(t,r)=>e.check(dc(t,r)),e.lt=(t,r)=>e.check(ds(t,r)),e.lte=(t,r)=>e.check(dl(t,r)),e.max=(t,r)=>e.check(dl(t,r)),e.positive=t=>e.check(du(BigInt(0),t)),e.negative=t=>e.check(ds(BigInt(0),t)),e.nonpositive=t=>e.check(dl(BigInt(0),t)),e.nonnegative=t=>e.check(dc(BigInt(0),t)),e.multipleOf=(t,r)=>e.check(dm(t,r));let r=e._zod.bag;e.minValue=r.minimum??null,e.maxValue=r.maximum??null,e.format=r.format??null});function fS(e){return c4(fT,e)}let fI=a8("ZodBigIntFormat",(e,t)=>{uf.init(e,t),fT.init(e,t)});function fA(e){return c2(fI,e)}function fO(e){return c9(fI,e)}let fN=a8("ZodSymbol",(e,t)=>{uh.init(e,t),pI.init(e,t)});function fR(e){return c3(fN,e)}let fP=a8("ZodUndefined",(e,t)=>{um.init(e,t),pI.init(e,t)});function fU(e){return c5(fP,e)}let fD=a8("ZodNull",(e,t)=>{ug.init(e,t),pI.init(e,t)});function fC(e){return c8(fD,e)}let fj=a8("ZodAny",(e,t)=>{uy.init(e,t),pI.init(e,t)});function fL(){return c7(fj)}let fz=a8("ZodUnknown",(e,t)=>{uv.init(e,t),pI.init(e,t)});function fM(){return de(fz)}let fq=a8("ZodNever",(e,t)=>{ub.init(e,t),pI.init(e,t)});function fZ(e){return dt(fq,e)}let fV=a8("ZodVoid",(e,t)=>{uw.init(e,t),pI.init(e,t)});function fF(e){return dr(fV,e)}let fB=a8("ZodDate",(e,t)=>{u_.init(e,t),pI.init(e,t),e.min=(t,r)=>e.check(dc(t,r)),e.max=(t,r)=>e.check(dl(t,r));let r=e._zod.bag;e.minDate=r.minimum?new Date(r.minimum):null,e.maxDate=r.maximum?new Date(r.maximum):null});function fW(e){return dn(fB,e)}let fH=a8("ZodArray",(e,t)=>{uk.init(e,t),pI.init(e,t),e.element=t.element,e.min=(t,r)=>e.check(dw(t,r)),e.nonempty=t=>e.check(dw(1,t)),e.max=(t,r)=>e.check(db(t,r)),e.length=(t,r)=>e.check(d_(t,r)),e.unwrap=()=>e.element});function fK(e,t){return dD(fH,e,t)}function fG(e){return hs(Object.keys(e._zod.def.shape))}let fJ=a8("ZodObject",(e,t)=>{uI.init(e,t),pI.init(e,t),pi.defineLazy(e,"shape",()=>t.shape),e.keyof=()=>hs(Object.keys(e._zod.def.shape)),e.catchall=t=>e.clone({...e._zod.def,catchall:t}),e.passthrough=()=>e.clone({...e._zod.def,catchall:fM()}),e.loose=()=>e.clone({...e._zod.def,catchall:fM()}),e.strict=()=>e.clone({...e._zod.def,catchall:fZ()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=t=>pi.extend(e,t),e.safeExtend=t=>pi.safeExtend(e,t),e.merge=t=>pi.merge(e,t),e.pick=t=>pi.pick(e,t),e.omit=t=>pi.omit(e,t),e.partial=(...t)=>pi.partial(hh,e,t[0]),e.required=(...t)=>pi.required(hk,e,t[0])});function fQ(e,t){return new fJ({type:"object",shape:e??{},...pi.normalizeParams(t)})}function fY(e,t){return new fJ({type:"object",shape:e,catchall:fZ(),...pi.normalizeParams(t)})}function fX(e,t){return new fJ({type:"object",shape:e,catchall:fM(),...pi.normalizeParams(t)})}let f0=a8("ZodUnion",(e,t)=>{uO.init(e,t),pI.init(e,t),e.options=t.options});function f1(e,t){return new f0({type:"union",options:e,...pi.normalizeParams(t)})}let f4=a8("ZodDiscriminatedUnion",(e,t)=>{f0.init(e,t),uN.init(e,t)});function f6(e,t,r){return new f4({type:"union",options:t,discriminator:e,...pi.normalizeParams(r)})}let f2=a8("ZodIntersection",(e,t)=>{uR.init(e,t),pI.init(e,t)});function f9(e,t){return new f2({type:"intersection",left:e,right:t})}let f3=a8("ZodTuple",(e,t)=>{uU.init(e,t),pI.init(e,t),e.rest=t=>e.clone({...e._zod.def,rest:t})});function f5(e,t,r){let n=t instanceof lV,i=n?r:t;return new f3({type:"tuple",items:e,rest:n?t:null,...pi.normalizeParams(i)})}let f8=a8("ZodRecord",(e,t)=>{uC.init(e,t),pI.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function f7(e,t,r){return new f8({type:"record",keyType:e,valueType:t,...pi.normalizeParams(r)})}function he(e,t,r){let n=sD(e);return n._zod.values=void 0,new f8({type:"record",keyType:n,valueType:t,...pi.normalizeParams(r)})}let ht=a8("ZodMap",(e,t)=>{uj.init(e,t),pI.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function hr(e,t,r){return new ht({type:"map",keyType:e,valueType:t,...pi.normalizeParams(r)})}let hn=a8("ZodSet",(e,t)=>{uz.init(e,t),pI.init(e,t),e.min=(...t)=>e.check(dy(...t)),e.nonempty=t=>e.check(dy(1,t)),e.max=(...t)=>e.check(dg(...t)),e.size=(...t)=>e.check(dv(...t))});function hi(e,t){return new hn({type:"set",valueType:e,...pi.normalizeParams(t)})}let ha=a8("ZodEnum",(e,t)=>{uq.init(e,t),pI.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);let r=new Set(Object.keys(t.entries));e.extract=(e,n)=>{let i={};for(let n of e)if(r.has(n))i[n]=t.entries[n];else throw Error(`Key ${n} not found in enum`);return new ha({...t,checks:[],...pi.normalizeParams(n),entries:i})},e.exclude=(e,n)=>{let i={...t.entries};for(let t of e)if(r.has(t))delete i[t];else throw Error(`Key ${t} not found in enum`);return new ha({...t,checks:[],...pi.normalizeParams(n),entries:i})}});function hs(e,t){return new ha({type:"enum",entries:Array.isArray(e)?Object.fromEntries(e.map(e=>[e,e])):e,...pi.normalizeParams(t)})}function ho(e,t){return new ha({type:"enum",entries:e,...pi.normalizeParams(t)})}let hl=a8("ZodLiteral",(e,t)=>{uZ.init(e,t),pI.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function hu(e,t){return new hl({type:"literal",values:Array.isArray(e)?e:[e],...pi.normalizeParams(t)})}let hc=a8("ZodFile",(e,t)=>{uV.init(e,t),pI.init(e,t),e.min=(t,r)=>e.check(dy(t,r)),e.max=(t,r)=>e.check(dg(t,r)),e.mime=(t,r)=>e.check(dA(Array.isArray(t)?t:[t],r))});function hd(e){return dW(hc,e)}let hp=a8("ZodTransform",(e,t)=>{uF.init(e,t),pI.init(e,t),e._zod.parse=(r,n)=>{if("backward"===n.direction)throw new st(e.constructor.name);r.addIssue=n=>{"string"==typeof n?r.issues.push(pi.issue(n,r.value,t)):(n.fatal&&(n.continue=!1),n.code??(n.code="custom"),n.input??(n.input=r.value),n.inst??(n.inst=e),r.issues.push(pi.issue(n)))};let i=t.transform(r.value,r);return i instanceof Promise?i.then(e=>(r.value=e,r)):(r.value=i,r)}});function hf(e){return new hp({type:"transform",transform:e})}let hh=a8("ZodOptional",(e,t)=>{uW.init(e,t),pI.init(e,t),e.unwrap=()=>e._zod.def.innerType});function hm(e){return new hh({type:"optional",innerType:e})}let hg=a8("ZodNullable",(e,t)=>{uH.init(e,t),pI.init(e,t),e.unwrap=()=>e._zod.def.innerType});function hy(e){return new hg({type:"nullable",innerType:e})}function hv(e){return hm(hy(e))}let hb=a8("ZodDefault",(e,t)=>{uK.init(e,t),pI.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function hw(e,t){return new hb({type:"default",innerType:e,get defaultValue(){return"function"==typeof t?t():pi.shallowClone(t)}})}let h_=a8("ZodPrefault",(e,t)=>{uJ.init(e,t),pI.init(e,t),e.unwrap=()=>e._zod.def.innerType});function hx(e,t){return new h_({type:"prefault",innerType:e,get defaultValue(){return"function"==typeof t?t():pi.shallowClone(t)}})}let hk=a8("ZodNonOptional",(e,t)=>{uQ.init(e,t),pI.init(e,t),e.unwrap=()=>e._zod.def.innerType});function hE(e,t){return new hk({type:"nonoptional",innerType:e,...pi.normalizeParams(t)})}let h$=a8("ZodSuccess",(e,t)=>{uX.init(e,t),pI.init(e,t),e.unwrap=()=>e._zod.def.innerType});function hT(e){return new h$({type:"success",innerType:e})}let hS=a8("ZodCatch",(e,t)=>{u0.init(e,t),pI.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function hI(e,t){return new hS({type:"catch",innerType:e,catchValue:"function"==typeof t?t:()=>t})}let hA=a8("ZodNaN",(e,t)=>{u1.init(e,t),pI.init(e,t)});function hO(e){return da(hA,e)}let hN=a8("ZodPipe",(e,t)=>{u4.init(e,t),pI.init(e,t),e.in=t.in,e.out=t.out});function hR(e,t){return new hN({type:"pipe",in:e,out:t})}let hP=a8("ZodCodec",(e,t)=>{hN.init(e,t),u2.init(e,t)});function hU(e,t,r){return new hP({type:"pipe",in:e,out:t,transform:r.decode,reverseTransform:r.encode})}let hD=a8("ZodReadonly",(e,t)=>{u5.init(e,t),pI.init(e,t),e.unwrap=()=>e._zod.def.innerType});function hC(e){return new hD({type:"readonly",innerType:e})}let hj=a8("ZodTemplateLiteral",(e,t)=>{u7.init(e,t),pI.init(e,t)});function hL(e,t){return new hj({type:"template_literal",parts:e,...pi.normalizeParams(t)})}let hz=a8("ZodLazy",(e,t)=>{cr.init(e,t),pI.init(e,t),e.unwrap=()=>e._zod.def.getter()});function hM(e){return new hz({type:"lazy",getter:e})}let hq=a8("ZodPromise",(e,t)=>{ct.init(e,t),pI.init(e,t),e.unwrap=()=>e._zod.def.innerType});function hZ(e){return new hq({type:"promise",innerType:e})}let hV=a8("ZodFunction",(e,t)=>{ce.init(e,t),pI.init(e,t)});function hF(e){return new hV({type:"function",input:Array.isArray(e?.input)?f5(e?.input):e?.input??fK(fM()),output:e?.output??fM()})}let hB=a8("ZodCustom",(e,t)=>{cn.init(e,t),pI.init(e,t)});function hW(e){let t=new ly({check:"custom"});return t._zod.check=e,t}function hH(e,t){return d9(hB,e??(()=>!0),t)}function hK(e,t={}){return d3(hB,e,t)}function hG(e){return d5(e)}function hJ(e,t={error:`Input not instance of ${e.name}`}){let r=new hB({type:"custom",check:"custom",fn:t=>t instanceof e,abort:!0,...pi.normalizeParams(t)});return r._zod.bag.Class=e,r}let hQ=(...e)=>d7({Codec:hP,Boolean:fE,String:pO},...e);function hY(e){let t=hM(()=>f1([pN(e),fy(),f$(),fC(),fK(t),f7(pN(),t)]));return t}function hX(e,t){return hR(hf(e),t)}let h0={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function h1(e){sn({customError:e})}function h4(){return sn().customError}function h6(e){return cb(pO,e)}function h2(e){return cK(fg,e)}function h9(e){return c1(fE,e)}function h3(e){return c6(fT,e)}function h5(e){return di(fB,e)}H||(H={}),e.s(["ZodFirstPartyTypeKind",()=>H,"ZodIssueCode",0,h0,"getErrorMap",()=>h4,"setErrorMap",()=>h1],99529),e.s(["bigint",()=>h3,"boolean",()=>h9,"date",()=>h5,"number",()=>h2,"string",()=>h6],12553),sn(cs()),e.s([],42511),e.i(42511),e.i(90123),e.i(59551),e.i(70142),e.i(85142),e.i(74585),e.i(56351),e.i(61765);var h8=pi,h7=pn;e.i(41998),e.s(["ar",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:" ",url:"",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:"  ISO",time:"  ISO",duration:"  ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:"   IPv4",cidrv6:"   IPv6",base64:"  base64-encoded",base64url:"  base64url-encoded",json_string:"   JSON",e164:"   E.164",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return`  :   ${r.expected}    ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`  :   ${sL(r.values[0])}`;return`  :     : ${sc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`   :    ${r.origin??""} ${t} ${r.maximum.toString()} ${n.unit??""}`;return`  :    ${r.origin??""} ${t} ${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`  :   ${r.origin}   ${t} ${r.minimum.toString()} ${n.unit}`;return`  :   ${r.origin}   ${t} ${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`  :     "${r.prefix}"`;if("ends_with"===r.format)return`  :     "${r.suffix}"`;if("includes"===r.format)return`  :    "${r.includes}"`;if("regex"===r.format)return`  :     ${r.pattern}`;return`${t[r.format]??r.format}  `;case"not_multiple_of":return`  :      ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"":""} ${r.keys.length>1?"":""}: ${sc(r.keys," ")}`;case"invalid_key":return`    ${r.origin}`;case"invalid_union":default:return"  ";case"invalid_element":return`    ${r.origin}`}})}},"az",0,function(){let e,t;return{localeError:(e={string:{unit:"simvol",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"element",verb:"olmaldr"},set:{unit:"element",verb:"olmaldr"}},t={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},r=>{switch(r.code){case"invalid_type":return`Yanl dyr: g\xf6zlniln ${r.expected}, daxil olan ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Yanl dyr: g\xf6zlniln ${sL(r.values[0])}`;return`Yanl se\xe7im: aadaklardan biri olmaldr: ${sc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`\xc7ox b\xf6y\xfck: g\xf6zlniln ${r.origin??"dyr"} ${t}${r.maximum.toString()} ${n.unit??"element"}`;return`\xc7ox b\xf6y\xfck: g\xf6zlniln ${r.origin??"dyr"} ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`\xc7ox ki\xe7ik: g\xf6zlniln ${r.origin} ${t}${r.minimum.toString()} ${n.unit}`;return`\xc7ox ki\xe7ik: g\xf6zlniln ${r.origin} ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Yanl mtn: "${r.prefix}" il balamaldr`;if("ends_with"===r.format)return`Yanl mtn: "${r.suffix}" il bitmlidir`;if("includes"===r.format)return`Yanl mtn: "${r.includes}" daxil olmaldr`;if("regex"===r.format)return`Yanl mtn: ${r.pattern} ablonuna uyun olmaldr`;return`Yanl ${t[r.format]??r.format}`;case"not_multiple_of":return`Yanl dd: ${r.divisor} il b\xf6l\xfcn biln olmaldr`;case"unrecognized_keys":return`Tannmayan a\xe7ar${r.keys.length>1?"lar":""}: ${sc(r.keys,", ")}`;case"invalid_key":return`${r.origin} daxilind yanl a\xe7ar`;case"invalid_union":return"Yanl dyr";case"invalid_element":return`${r.origin} daxilind yanl dyr`;default:return`Yanl dyr`}})}},"be",0,function(){let e,t;return{localeError:(e={string:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""}},t={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return` :  ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` :  ${sL(r.values[0])}`;return` :    ${sc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n){let e=ca(Number(r.maximum),n.unit.one,n.unit.few,n.unit.many);return` : ,  ${r.origin??""}  ${n.verb} ${t}${r.maximum.toString()} ${e}`}return` : ,  ${r.origin??""}   ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n){let e=ca(Number(r.minimum),n.unit.one,n.unit.few,n.unit.many);return` : ,  ${r.origin}  ${n.verb} ${t}${r.minimum.toString()} ${e}`}return` : ,  ${r.origin}   ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` :    "${r.prefix}"`;if("ends_with"===r.format)return` :    "${r.suffix}"`;if("includes"===r.format)return` :   "${r.includes}"`;if("regex"===r.format)return` :    ${r.pattern}`;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` :    ${r.divisor}`;case"unrecognized_keys":return` ${r.keys.length>1?"":""}: ${sc(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${r.origin}`;default:return` `}})}},"bg",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return` :  ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` :  ${sL(r.values[0])}`;return` :    ${sc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` :   ${r.origin??""}   ${t}${r.maximum.toString()} ${n.unit??""}`;return` :   ${r.origin??""}   ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` :   ${r.origin}   ${t}${r.minimum.toString()} ${n.unit}`;return` :   ${r.origin}   ${t}${r.minimum.toString()}`}case"invalid_format":{if("starts_with"===r.format)return` :     "${r.prefix}"`;if("ends_with"===r.format)return` :     "${r.suffix}"`;if("includes"===r.format)return` :    "${r.includes}"`;if("regex"===r.format)return` :     ${r.pattern}`;let e="";return"emoji"===r.format&&(e=""),"datetime"===r.format&&(e=""),"date"===r.format&&(e=""),"time"===r.format&&(e=""),"duration"===r.format&&(e=""),`${e} ${t[r.format]??r.format}`}case"not_multiple_of":return` :      ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"":""} ${r.keys.length>1?"":""}: ${sc(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${r.origin}`;default:return` `}})}},"ca",0,function(){let e,t;return{localeError:(e={string:{unit:"carcters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}},t={regex:"entrada",email:"adrea electrnica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adrea IPv4",ipv6:"adrea IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"},r=>{switch(r.code){case"invalid_type":return`Tipus inv\xe0lid: s'esperava ${r.expected}, s'ha rebut ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Valor inv\xe0lid: s'esperava ${sL(r.values[0])}`;return`Opci\xf3 inv\xe0lida: s'esperava una de ${sc(r.values," o ")}`;case"too_big":{let t=r.inclusive?"com a mxim":"menys de",n=e[r.origin]??null;if(n)return`Massa gran: s'esperava que ${r.origin??"el valor"} contingu\xe9s ${t} ${r.maximum.toString()} ${n.unit??"elements"}`;return`Massa gran: s'esperava que ${r.origin??"el valor"} fos ${t} ${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?"com a mnim":"ms de",n=e[r.origin]??null;if(n)return`Massa petit: s'esperava que ${r.origin} contingu\xe9s ${t} ${r.minimum.toString()} ${n.unit}`;return`Massa petit: s'esperava que ${r.origin} fos ${t} ${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Format inv\xe0lid: ha de comen\xe7ar amb "${r.prefix}"`;if("ends_with"===r.format)return`Format inv\xe0lid: ha d'acabar amb "${r.suffix}"`;if("includes"===r.format)return`Format inv\xe0lid: ha d'incloure "${r.includes}"`;if("regex"===r.format)return`Format inv\xe0lid: ha de coincidir amb el patr\xf3 ${r.pattern}`;return`Format inv\xe0lid per a ${t[r.format]??r.format}`;case"not_multiple_of":return`N\xfamero inv\xe0lid: ha de ser m\xfaltiple de ${r.divisor}`;case"unrecognized_keys":return`Clau${r.keys.length>1?"s":""} no reconeguda${r.keys.length>1?"s":""}: ${sc(r.keys,", ")}`;case"invalid_key":return`Clau inv\xe0lida a ${r.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Element inv\xe0lid a ${r.origin}`;default:return`Entrada inv\xe0lida`}})}},"cs",0,function(){let e,t;return{localeError:(e={string:{unit:"znak",verb:"mt"},file:{unit:"bajt",verb:"mt"},array:{unit:"prvk",verb:"mt"},set:{unit:"prvk",verb:"mt"}},t={regex:"regulrn vraz",email:"e-mailov adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a as ve formtu ISO",date:"datum ve formtu ISO",time:"as ve formtu ISO",duration:"doba trvn ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"etzec zakdovan ve formtu base64",base64url:"etzec zakdovan ve formtu base64url",json_string:"etzec ve formtu JSON",e164:"slo E.164",jwt:"JWT",template_literal:"vstup"},r=>{switch(r.code){case"invalid_type":return`Neplatn\xfd vstup: oek\xe1v\xe1no ${r.expected}, obdreno ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"slo";case"string":return"etzec";case"boolean":return"boolean";case"bigint":return"bigint";case"function":return"funkce";case"symbol":return"symbol";case"undefined":return"undefined";case"object":if(Array.isArray(e))return"pole";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Neplatn\xfd vstup: oek\xe1v\xe1no ${sL(r.values[0])}`;return`Neplatn\xe1 monost: oek\xe1v\xe1na jedna z hodnot ${sc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Hodnota je p\xedli velk\xe1: ${r.origin??"hodnota"} mus\xed m\xedt ${t}${r.maximum.toString()} ${n.unit??"prvk"}`;return`Hodnota je p\xedli velk\xe1: ${r.origin??"hodnota"} mus\xed b\xfdt ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Hodnota je p\xedli mal\xe1: ${r.origin??"hodnota"} mus\xed m\xedt ${t}${r.minimum.toString()} ${n.unit??"prvk"}`;return`Hodnota je p\xedli mal\xe1: ${r.origin??"hodnota"} mus\xed b\xfdt ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Neplatn\xfd etzec: mus\xed za\xednat na "${r.prefix}"`;if("ends_with"===r.format)return`Neplatn\xfd etzec: mus\xed konit na "${r.suffix}"`;if("includes"===r.format)return`Neplatn\xfd etzec: mus\xed obsahovat "${r.includes}"`;if("regex"===r.format)return`Neplatn\xfd etzec: mus\xed odpov\xeddat vzoru ${r.pattern}`;return`Neplatn\xfd form\xe1t ${t[r.format]??r.format}`;case"not_multiple_of":return`Neplatn\xe9 \xedslo: mus\xed b\xfdt n\xe1sobkem ${r.divisor}`;case"unrecognized_keys":return`Nezn\xe1m\xe9 kl\xede: ${sc(r.keys,", ")}`;case"invalid_key":return`Neplatn\xfd kl\xed v ${r.origin}`;case"invalid_union":return"Neplatn vstup";case"invalid_element":return`Neplatn\xe1 hodnota v ${r.origin}`;default:return`Neplatn\xfd vstup`}})}},"da",0,function(){let e,t,r;return{localeError:(e={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}},t={string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"st",file:"fil"},r={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslt",date:"ISO-dato",time:"ISO-klokkeslt",duration:"ISO-varighed",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},n=>{var i,a,s,o;switch(n.code){case"invalid_type":return`Ugyldigt input: forventede ${t[i=n.expected]??i}, fik ${t[a=(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"tal";case"object":if(Array.isArray(e))return"liste";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name;return"objekt"}return t})(n.input)]??a}`;case"invalid_value":if(1===n.values.length)return`Ugyldig v\xe6rdi: forventede ${sL(n.values[0])}`;return`Ugyldigt valg: forventede en af f\xf8lgende ${sc(n.values,"|")}`;case"too_big":{let r=n.inclusive?"<=":"<",i=e[n.origin]??null,a=t[s=n.origin]??s;if(i)return`For stor: forventede ${a??"value"} ${i.verb} ${r} ${n.maximum.toString()} ${i.unit??"elementer"}`;return`For stor: forventede ${a??"value"} havde ${r} ${n.maximum.toString()}`}case"too_small":{let r=n.inclusive?">=":">",i=e[n.origin]??null,a=t[o=n.origin]??o;if(i)return`For lille: forventede ${a} ${i.verb} ${r} ${n.minimum.toString()} ${i.unit}`;return`For lille: forventede ${a} havde ${r} ${n.minimum.toString()}`}case"invalid_format":if("starts_with"===n.format)return`Ugyldig streng: skal starte med "${n.prefix}"`;if("ends_with"===n.format)return`Ugyldig streng: skal ende med "${n.suffix}"`;if("includes"===n.format)return`Ugyldig streng: skal indeholde "${n.includes}"`;if("regex"===n.format)return`Ugyldig streng: skal matche m\xf8nsteret ${n.pattern}`;return`Ugyldig ${r[n.format]??n.format}`;case"not_multiple_of":return`Ugyldigt tal: skal v\xe6re deleligt med ${n.divisor}`;case"unrecognized_keys":return`${n.keys.length>1?"Ukendte ngler":"Ukendt ngle"}: ${sc(n.keys,", ")}`;case"invalid_key":return`Ugyldig n\xf8gle i ${n.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig v\xe6rdi i ${n.origin}`;default:return"Ugyldigt input"}})}},"de",0,function(){let e,t;return{localeError:(e={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}},t={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"},r=>{switch(r.code){case"invalid_type":return`Ung\xfcltige Eingabe: erwartet ${r.expected}, erhalten ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"Zahl";case"object":if(Array.isArray(e))return"Array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Ung\xfcltige Eingabe: erwartet ${sL(r.values[0])}`;return`Ung\xfcltige Option: erwartet eine von ${sc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Zu gro\xdf: erwartet, dass ${r.origin??"Wert"} ${t}${r.maximum.toString()} ${n.unit??"Elemente"} hat`;return`Zu gro\xdf: erwartet, dass ${r.origin??"Wert"} ${t}${r.maximum.toString()} ist`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Zu klein: erwartet, dass ${r.origin} ${t}${r.minimum.toString()} ${n.unit} hat`;return`Zu klein: erwartet, dass ${r.origin} ${t}${r.minimum.toString()} ist`}case"invalid_format":if("starts_with"===r.format)return`Ung\xfcltiger String: muss mit "${r.prefix}" beginnen`;if("ends_with"===r.format)return`Ung\xfcltiger String: muss mit "${r.suffix}" enden`;if("includes"===r.format)return`Ung\xfcltiger String: muss "${r.includes}" enthalten`;if("regex"===r.format)return`Ung\xfcltiger String: muss dem Muster ${r.pattern} entsprechen`;return`Ung\xfcltig: ${t[r.format]??r.format}`;case"not_multiple_of":return`Ung\xfcltige Zahl: muss ein Vielfaches von ${r.divisor} sein`;case"unrecognized_keys":return`${r.keys.length>1?"Unbekannte Schlssel":"Unbekannter Schlssel"}: ${sc(r.keys,", ")}`;case"invalid_key":return`Ung\xfcltiger Schl\xfcssel in ${r.origin}`;case"invalid_union":return"Ungltige Eingabe";case"invalid_element":return`Ung\xfcltiger Wert in ${r.origin}`;default:return`Ung\xfcltige Eingabe`}})}},"en",0,cs,"eo",0,function(){let e,t;return{localeError:(e={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}},t={regex:"enigo",email:"retadreso",url:"URL",emoji:"emoio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-daro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"},r=>{switch(r.code){case"invalid_type":return`Nevalida enigo: atendiis ${r.expected}, riceviis ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombro";case"object":if(Array.isArray(e))return"tabelo";if(null===e)return"senvalora";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Nevalida enigo: atendiis ${sL(r.values[0])}`;return`Nevalida opcio: atendiis unu el ${sc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Tro granda: atendiis ke ${r.origin??"valoro"} havu ${t}${r.maximum.toString()} ${n.unit??"elementojn"}`;return`Tro granda: atendiis ke ${r.origin??"valoro"} havu ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Tro malgranda: atendiis ke ${r.origin} havu ${t}${r.minimum.toString()} ${n.unit}`;return`Tro malgranda: atendiis ke ${r.origin} estu ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Nevalida karaktraro: devas komencii per "${r.prefix}"`;if("ends_with"===r.format)return`Nevalida karaktraro: devas finii per "${r.suffix}"`;if("includes"===r.format)return`Nevalida karaktraro: devas inkluzivi "${r.includes}"`;if("regex"===r.format)return`Nevalida karaktraro: devas kongrui kun la modelo ${r.pattern}`;return`Nevalida ${t[r.format]??r.format}`;case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${r.divisor}`;case"unrecognized_keys":return`Nekonata${r.keys.length>1?"j":""} losilo${r.keys.length>1?"j":""}: ${sc(r.keys,", ")}`;case"invalid_key":return`Nevalida losilo en ${r.origin}`;case"invalid_union":default:return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${r.origin}`}})}},"es",0,function(){return{localeError:(()=>{let e={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}},t={string:"texto",number:"nmero",boolean:"booleano",array:"arreglo",object:"objeto",set:"conjunto",file:"archivo",date:"fecha",bigint:"nmero grande",symbol:"smbolo",undefined:"indefinido",null:"nulo",function:"funcin",map:"mapa",record:"registro",tuple:"tupla",enum:"enumeracin",union:"unin",literal:"literal",promise:"promesa",void:"vaco",never:"nunca",unknown:"desconocido",any:"cualquiera"};function r(e){return t[e]??e}let n={regex:"entrada",email:"direccin de correo electrnico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duracin ISO",ipv4:"direccin IPv4",ipv6:"direccin IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"};return t=>{switch(t.code){case"invalid_type":return`Entrada inv\xe1lida: se esperaba ${r(t.expected)}, recibido ${r((e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype)return e.constructor.name;return"object"}return t})(t.input))}`;case"invalid_value":if(1===t.values.length)return`Entrada inv\xe1lida: se esperaba ${sL(t.values[0])}`;return`Opci\xf3n inv\xe1lida: se esperaba una de ${sc(t.values,"|")}`;case"too_big":{let n=t.inclusive?"<=":"<",i=e[t.origin]??null,a=r(t.origin);if(i)return`Demasiado grande: se esperaba que ${a??"valor"} tuviera ${n}${t.maximum.toString()} ${i.unit??"elementos"}`;return`Demasiado grande: se esperaba que ${a??"valor"} fuera ${n}${t.maximum.toString()}`}case"too_small":{let n=t.inclusive?">=":">",i=e[t.origin]??null,a=r(t.origin);if(i)return`Demasiado peque\xf1o: se esperaba que ${a} tuviera ${n}${t.minimum.toString()} ${i.unit}`;return`Demasiado peque\xf1o: se esperaba que ${a} fuera ${n}${t.minimum.toString()}`}case"invalid_format":if("starts_with"===t.format)return`Cadena inv\xe1lida: debe comenzar con "${t.prefix}"`;if("ends_with"===t.format)return`Cadena inv\xe1lida: debe terminar en "${t.suffix}"`;if("includes"===t.format)return`Cadena inv\xe1lida: debe incluir "${t.includes}"`;if("regex"===t.format)return`Cadena inv\xe1lida: debe coincidir con el patr\xf3n ${t.pattern}`;return`Inv\xe1lido ${n[t.format]??t.format}`;case"not_multiple_of":return`N\xfamero inv\xe1lido: debe ser m\xfaltiplo de ${t.divisor}`;case"unrecognized_keys":return`Llave${t.keys.length>1?"s":""} desconocida${t.keys.length>1?"s":""}: ${sc(t.keys,", ")}`;case"invalid_key":return`Llave inv\xe1lida en ${r(t.origin)}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor inv\xe1lido en ${r(t.origin)}`;default:return`Entrada inv\xe1lida`}}})()}},"fa",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ",date:" ",time:" ",duration:"  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return` :  ${r.expected}  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}  `;case"invalid_value":if(1===r.values.length)return` :  ${sL(r.values[0])} `;return` :    ${sc(r.values,"|")} `;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` : ${r.origin??""}  ${t}${r.maximum.toString()} ${n.unit??""} `;return` : ${r.origin??""}  ${t}${r.maximum.toString()} `}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` : ${r.origin}  ${t}${r.minimum.toString()} ${n.unit} `;return` : ${r.origin}  ${t}${r.minimum.toString()} `}case"invalid_format":if("starts_with"===r.format)return` :   "${r.prefix}"  `;if("ends_with"===r.format)return` :   "${r.suffix}"  `;if("includes"===r.format)return` :   "${r.includes}" `;if("regex"===r.format)return` :    ${r.pattern}   `;return`${t[r.format]??r.format} `;case"not_multiple_of":return` :   ${r.divisor} `;case"unrecognized_keys":return`${r.keys.length>1?"":""} : ${sc(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":default:return` `;case"invalid_element":return`   ${r.origin}`}})}},"fi",0,function(){let e,t;return{localeError:(e={string:{unit:"merkki",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"pivmrn"}},t={regex:"snnllinen lauseke",email:"shkpostiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-pivmr",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"},r=>{switch(r.code){case"invalid_type":return`Virheellinen tyyppi: odotettiin ${r.expected}, oli ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Virheellinen sy\xf6te: t\xe4ytyy olla ${sL(r.values[0])}`;return`Virheellinen valinta: t\xe4ytyy olla yksi seuraavista: ${sc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Liian suuri: ${n.subject} t\xe4ytyy olla ${t}${r.maximum.toString()} ${n.unit}`.trim();return`Liian suuri: arvon t\xe4ytyy olla ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Liian pieni: ${n.subject} t\xe4ytyy olla ${t}${r.minimum.toString()} ${n.unit}`.trim();return`Liian pieni: arvon t\xe4ytyy olla ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Virheellinen sy\xf6te: t\xe4ytyy alkaa "${r.prefix}"`;if("ends_with"===r.format)return`Virheellinen sy\xf6te: t\xe4ytyy loppua "${r.suffix}"`;if("includes"===r.format)return`Virheellinen sy\xf6te: t\xe4ytyy sis\xe4lt\xe4\xe4 "${r.includes}"`;if("regex"===r.format)return`Virheellinen sy\xf6te: t\xe4ytyy vastata s\xe4\xe4nn\xf6llist\xe4 lauseketta ${r.pattern}`;return`Virheellinen ${t[r.format]??r.format}`;case"not_multiple_of":return`Virheellinen luku: t\xe4ytyy olla luvun ${r.divisor} monikerta`;case"unrecognized_keys":return`${r.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${sc(r.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return`Virheellinen sy\xf6te`}})}},"fr",0,function(){let e,t;return{localeError:(e={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}},t={regex:"entre",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"},r=>{switch(r.code){case"invalid_type":return`Entr\xe9e invalide : ${r.expected} attendu, ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombre";case"object":if(Array.isArray(e))return"tableau";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)} re\xe7u`;case"invalid_value":if(1===r.values.length)return`Entr\xe9e invalide : ${sL(r.values[0])} attendu`;return`Option invalide : une valeur parmi ${sc(r.values,"|")} attendue`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Trop grand : ${r.origin??"valeur"} doit ${n.verb} ${t}${r.maximum.toString()} ${n.unit??"lment(s)"}`;return`Trop grand : ${r.origin??"valeur"} doit \xeatre ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Trop petit : ${r.origin} doit ${n.verb} ${t}${r.minimum.toString()} ${n.unit}`;return`Trop petit : ${r.origin} doit \xeatre ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Cha\xeene invalide : doit commencer par "${r.prefix}"`;if("ends_with"===r.format)return`Cha\xeene invalide : doit se terminer par "${r.suffix}"`;if("includes"===r.format)return`Cha\xeene invalide : doit inclure "${r.includes}"`;if("regex"===r.format)return`Cha\xeene invalide : doit correspondre au mod\xe8le ${r.pattern}`;return`${t[r.format]??r.format} invalide`;case"not_multiple_of":return`Nombre invalide : doit \xeatre un multiple de ${r.divisor}`;case"unrecognized_keys":return`Cl\xe9${r.keys.length>1?"s":""} non reconnue${r.keys.length>1?"s":""} : ${sc(r.keys,", ")}`;case"invalid_key":return`Cl\xe9 invalide dans ${r.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${r.origin}`;default:return`Entr\xe9e invalide`}})}},"frCA",0,function(){let e,t;return{localeError:(e={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}},t={regex:"entre",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"},r=>{switch(r.code){case"invalid_type":return`Entr\xe9e invalide : attendu ${r.expected}, re\xe7u ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Entr\xe9e invalide : attendu ${sL(r.values[0])}`;return`Option invalide : attendu l'une des valeurs suivantes ${sc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"":"<",n=e[r.origin]??null;if(n)return`Trop grand : attendu que ${r.origin??"la valeur"} ait ${t}${r.maximum.toString()} ${n.unit}`;return`Trop grand : attendu que ${r.origin??"la valeur"} soit ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?"":">",n=e[r.origin]??null;if(n)return`Trop petit : attendu que ${r.origin} ait ${t}${r.minimum.toString()} ${n.unit}`;return`Trop petit : attendu que ${r.origin} soit ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Cha\xeene invalide : doit commencer par "${r.prefix}"`;if("ends_with"===r.format)return`Cha\xeene invalide : doit se terminer par "${r.suffix}"`;if("includes"===r.format)return`Cha\xeene invalide : doit inclure "${r.includes}"`;if("regex"===r.format)return`Cha\xeene invalide : doit correspondre au motif ${r.pattern}`;return`${t[r.format]??r.format} invalide`;case"not_multiple_of":return`Nombre invalide : doit \xeatre un multiple de ${r.divisor}`;case"unrecognized_keys":return`Cl\xe9${r.keys.length>1?"s":""} non reconnue${r.keys.length>1?"s":""} : ${sc(r.keys,", ")}`;case"invalid_key":return`Cl\xe9 invalide dans ${r.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${r.origin}`;default:return`Entr\xe9e invalide`}})}},"he",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:" ",url:" ",emoji:"'",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ISO",date:" ISO",time:" ISO",duration:"  ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:"  64",base64url:"  64  ",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return`  :  ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`  :  ${sL(r.values[0])}`;return`  :     ${sc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` : ${r.origin??"value"}   ${t}${r.maximum.toString()} ${n.unit??"elements"}`;return` : ${r.origin??"value"}   ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` : ${r.origin}   ${t}${r.minimum.toString()} ${n.unit}`;return` : ${r.origin}   ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`  :   "${r.prefix}"`;if("ends_with"===r.format)return`  :    "${r.suffix}"`;if("includes"===r.format)return`  :   "${r.includes}"`;if("regex"===r.format)return`  :    ${r.pattern}`;return`${t[r.format]??r.format}  `;case"not_multiple_of":return`  :     ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"":""}  ${r.keys.length>1?"":""}: ${sc(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${r.origin}`;default:return`  `}})}},"hu",0,function(){let e,t;return{localeError:(e={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}},t={regex:"bemenet",email:"email cm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO idblyeg",date:"ISO dtum",time:"ISO id",duration:"ISO idintervallum",ipv4:"IPv4 cm",ipv6:"IPv6 cm",cidrv4:"IPv4 tartomny",cidrv6:"IPv6 tartomny",base64:"base64-kdolt string",base64url:"base64url-kdolt string",json_string:"JSON string",e164:"E.164 szm",jwt:"JWT",template_literal:"bemenet"},r=>{switch(r.code){case"invalid_type":return`\xc9rv\xe9nytelen bemenet: a v\xe1rt \xe9rt\xe9k ${r.expected}, a kapott \xe9rt\xe9k ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"szm";case"object":if(Array.isArray(e))return"tmb";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`\xc9rv\xe9nytelen bemenet: a v\xe1rt \xe9rt\xe9k ${sL(r.values[0])}`;return`\xc9rv\xe9nytelen opci\xf3: valamelyik \xe9rt\xe9k v\xe1rt ${sc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`T\xfal nagy: ${r.origin??"rtk"} m\xe9rete t\xfal nagy ${t}${r.maximum.toString()} ${n.unit??"elem"}`;return`T\xfal nagy: a bemeneti \xe9rt\xe9k ${r.origin??"rtk"} t\xfal nagy: ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`T\xfal kicsi: a bemeneti \xe9rt\xe9k ${r.origin} m\xe9rete t\xfal kicsi ${t}${r.minimum.toString()} ${n.unit}`;return`T\xfal kicsi: a bemeneti \xe9rt\xe9k ${r.origin} t\xfal kicsi ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`\xc9rv\xe9nytelen string: "${r.prefix}" \xe9rt\xe9kkel kell kezddnie`;if("ends_with"===r.format)return`\xc9rv\xe9nytelen string: "${r.suffix}" \xe9rt\xe9kkel kell v\xe9gzdnie`;if("includes"===r.format)return`\xc9rv\xe9nytelen string: "${r.includes}" \xe9rt\xe9ket kell tartalmaznia`;if("regex"===r.format)return`\xc9rv\xe9nytelen string: ${r.pattern} mint\xe1nak kell megfelelnie`;return`\xc9rv\xe9nytelen ${t[r.format]??r.format}`;case"not_multiple_of":return`\xc9rv\xe9nytelen sz\xe1m: ${r.divisor} t\xf6bbsz\xf6r\xf6s\xe9nek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${r.keys.length>1?"s":""}: ${sc(r.keys,", ")}`;case"invalid_key":return`\xc9rv\xe9nytelen kulcs ${r.origin}`;case"invalid_union":return"rvnytelen bemenet";case"invalid_element":return`\xc9rv\xe9nytelen \xe9rt\xe9k: ${r.origin}`;default:return`\xc9rv\xe9nytelen bemenet`}})}},"id",0,function(){let e,t;return{localeError:(e={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}},t={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"},r=>{switch(r.code){case"invalid_type":return`Input tidak valid: diharapkan ${r.expected}, diterima ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Input tidak valid: diharapkan ${sL(r.values[0])}`;return`Pilihan tidak valid: diharapkan salah satu dari ${sc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Terlalu besar: diharapkan ${r.origin??"value"} memiliki ${t}${r.maximum.toString()} ${n.unit??"elemen"}`;return`Terlalu besar: diharapkan ${r.origin??"value"} menjadi ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Terlalu kecil: diharapkan ${r.origin} memiliki ${t}${r.minimum.toString()} ${n.unit}`;return`Terlalu kecil: diharapkan ${r.origin} menjadi ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`String tidak valid: harus dimulai dengan "${r.prefix}"`;if("ends_with"===r.format)return`String tidak valid: harus berakhir dengan "${r.suffix}"`;if("includes"===r.format)return`String tidak valid: harus menyertakan "${r.includes}"`;if("regex"===r.format)return`String tidak valid: harus sesuai pola ${r.pattern}`;return`${t[r.format]??r.format} tidak valid`;case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${r.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${r.keys.length>1?"s":""}: ${sc(r.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${r.origin}`;case"invalid_union":default:return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${r.origin}`}})}},"is",0,function(){let e,t;return{localeError:(e={string:{unit:"stafi",verb:"a hafa"},file:{unit:"bti",verb:"a hafa"},array:{unit:"hluti",verb:"a hafa"},set:{unit:"hluti",verb:"a hafa"}},t={regex:"gildi",email:"netfang",url:"vefsl",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og tmi",date:"ISO dagsetning",time:"ISO tmi",duration:"ISO tmalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 tlugildi",jwt:"JWT",template_literal:"gildi"},r=>{switch(r.code){case"invalid_type":return`Rangt gildi: \xde\xfa sl\xf3st inn ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nmer";case"object":if(Array.isArray(e))return"fylki";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)} \xfear sem \xe1 a\xf0 vera ${r.expected}`;case"invalid_value":if(1===r.values.length)return`Rangt gildi: gert r\xe1\xf0 fyrir ${sL(r.values[0])}`;return`\xd3gilt val: m\xe1 vera eitt af eftirfarandi ${sc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Of st\xf3rt: gert er r\xe1\xf0 fyrir a\xf0 ${r.origin??"gildi"} hafi ${t}${r.maximum.toString()} ${n.unit??"hluti"}`;return`Of st\xf3rt: gert er r\xe1\xf0 fyrir a\xf0 ${r.origin??"gildi"} s\xe9 ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Of l\xedti\xf0: gert er r\xe1\xf0 fyrir a\xf0 ${r.origin} hafi ${t}${r.minimum.toString()} ${n.unit}`;return`Of l\xedti\xf0: gert er r\xe1\xf0 fyrir a\xf0 ${r.origin} s\xe9 ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 byrja \xe1 "${r.prefix}"`;if("ends_with"===r.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 enda \xe1 "${r.suffix}"`;if("includes"===r.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 innihalda "${r.includes}"`;if("regex"===r.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 fylgja mynstri ${r.pattern}`;return`Rangt ${t[r.format]??r.format}`;case"not_multiple_of":return`R\xf6ng tala: ver\xf0ur a\xf0 vera margfeldi af ${r.divisor}`;case"unrecognized_keys":return`\xd3\xfeekkt ${r.keys.length>1?"ir lyklar":"ur lykill"}: ${sc(r.keys,", ")}`;case"invalid_key":return`Rangur lykill \xed ${r.origin}`;case"invalid_union":default:return"Rangt gildi";case"invalid_element":return`Rangt gildi \xed ${r.origin}`}})}},"it",0,function(){let e,t;return{localeError:(e={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}},t={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"},r=>{switch(r.code){case"invalid_type":return`Input non valido: atteso ${r.expected}, ricevuto ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"numero";case"object":if(Array.isArray(e))return"vettore";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Input non valido: atteso ${sL(r.values[0])}`;return`Opzione non valida: atteso uno tra ${sc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Troppo grande: ${r.origin??"valore"} deve avere ${t}${r.maximum.toString()} ${n.unit??"elementi"}`;return`Troppo grande: ${r.origin??"valore"} deve essere ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Troppo piccolo: ${r.origin} deve avere ${t}${r.minimum.toString()} ${n.unit}`;return`Troppo piccolo: ${r.origin} deve essere ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Stringa non valida: deve iniziare con "${r.prefix}"`;if("ends_with"===r.format)return`Stringa non valida: deve terminare con "${r.suffix}"`;if("includes"===r.format)return`Stringa non valida: deve includere "${r.includes}"`;if("regex"===r.format)return`Stringa non valida: deve corrispondere al pattern ${r.pattern}`;return`Invalid ${t[r.format]??r.format}`;case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${r.divisor}`;case"unrecognized_keys":return`Chiav${r.keys.length>1?"i":"e"} non riconosciut${r.keys.length>1?"e":"a"}: ${sc(r.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${r.origin}`;case"invalid_union":default:return"Input non valido";case"invalid_element":return`Valore non valido in ${r.origin}`}})}},"ja",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return`: ${r.expected}${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`: ${sL(r.values[0])}`;return`: ${sc(r.values,"")}`;case"too_big":{let t=r.inclusive?"":"",n=e[r.origin]??null;if(n)return`: ${r.origin??""}${r.maximum.toString()}${n.unit??""}${t}`;return`: ${r.origin??""}${r.maximum.toString()}${t}`}case"too_small":{let t=r.inclusive?"":"",n=e[r.origin]??null;if(n)return`: ${r.origin}${r.minimum.toString()}${n.unit}${t}`;return`: ${r.origin}${r.minimum.toString()}${t}`}case"invalid_format":if("starts_with"===r.format)return`: "${r.prefix}"`;if("ends_with"===r.format)return`: "${r.suffix}"`;if("includes"===r.format)return`: "${r.includes}"`;if("regex"===r.format)return`: ${r.pattern}`;return`${t[r.format]??r.format}`;case"not_multiple_of":return`: ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"":""}: ${sc(r.keys,"")}`;case"invalid_key":return`${r.origin}`;case"invalid_union":return"";case"invalid_element":return`${r.origin}`;default:return``}})}},"ka",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:"- ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"-",date:"",time:"",duration:"",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return` :  ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return({string:"",boolean:"",undefined:"undefined",bigint:"bigint",symbol:"symbol",function:""})[t]??t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` :  ${sL(r.values[0])}`;return` :  - ${sc(r.values,"|")}-`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` :  ${r.origin??""} ${n.verb} ${t}${r.maximum.toString()} ${n.unit}`;return` :  ${r.origin??""}  ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` :  ${r.origin} ${n.verb} ${t}${r.minimum.toString()} ${n.unit}`;return` :  ${r.origin}  ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` :   "${r.prefix}"-`;if("ends_with"===r.format)return` :   "${r.suffix}"-`;if("includes"===r.format)return` :   "${r.includes}"-`;if("regex"===r.format)return` :    ${r.pattern}`;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` :   ${r.divisor}- `;case"unrecognized_keys":return` ${r.keys.length>1?"":""}: ${sc(r.keys,", ")}`;case"invalid_key":return`  ${r.origin}-`;case"invalid_union":return" ";case"invalid_element":return`  ${r.origin}-`;default:return` `}})}},"kh",0,function(){return co()},"km",0,co,"ko",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:"to have"},file:{unit:"",verb:"to have"},array:{unit:"",verb:"to have"},set:{unit:"",verb:"to have"}},t={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64  ",base64url:"base64url  ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return` :   ${r.expected},   ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` :  ${sL(r.values[0])}  `;return` : ${sc(r.values," ")}   `;case"too_big":{let t=r.inclusive?"":"",n=""===t?" ":" ",i=e[r.origin]??null,a=i?.unit??"";if(i)return`${r.origin??""}  : ${r.maximum.toString()}${a} ${t}${n}`;return`${r.origin??""}  : ${r.maximum.toString()} ${t}${n}`}case"too_small":{let t=r.inclusive?"":"",n=""===t?" ":" ",i=e[r.origin]??null,a=i?.unit??"";if(i)return`${r.origin??""}  : ${r.minimum.toString()}${a} ${t}${n}`;return`${r.origin??""}  : ${r.minimum.toString()} ${t}${n}`}case"invalid_format":if("starts_with"===r.format)return` : "${r.prefix}"()  `;if("ends_with"===r.format)return` : "${r.suffix}"()  `;if("includes"===r.format)return` : "${r.includes}"()  `;if("regex"===r.format)return` :  ${r.pattern}   `;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` : ${r.divisor}  `;case"unrecognized_keys":return`   : ${sc(r.keys,", ")}`;case"invalid_key":return` : ${r.origin}`;case"invalid_union":default:return` `;case"invalid_element":return` : ${r.origin}`}})}},"lt",0,function(){return{localeError:(()=>{let e={string:{unit:{one:"simbolis",few:"simboliai",many:"simboli"},verb:{smaller:{inclusive:"turi bti ne ilgesn kaip",notInclusive:"turi bti trumpesn kaip"},bigger:{inclusive:"turi bti ne trumpesn kaip",notInclusive:"turi bti ilgesn kaip"}}},file:{unit:{one:"baitas",few:"baitai",many:"bait"},verb:{smaller:{inclusive:"turi bti ne didesnis kaip",notInclusive:"turi bti maesnis kaip"},bigger:{inclusive:"turi bti ne maesnis kaip",notInclusive:"turi bti didesnis kaip"}}},array:{unit:{one:"element",few:"elementus",many:"element"},verb:{smaller:{inclusive:"turi turti ne daugiau kaip",notInclusive:"turi turti maiau kaip"},bigger:{inclusive:"turi turti ne maiau kaip",notInclusive:"turi turti daugiau kaip"}}},set:{unit:{one:"element",few:"elementus",many:"element"},verb:{smaller:{inclusive:"turi turti ne daugiau kaip",notInclusive:"turi turti maiau kaip"},bigger:{inclusive:"turi turti ne maiau kaip",notInclusive:"turi turti daugiau kaip"}}}};function t(t,r,n,i){let a=e[t]??null;return null===a?a:{unit:a.unit[r],verb:a.verb[i][n?"inclusive":"notInclusive"]}}let r={regex:"vestis",email:"el. pato adresas",url:"URL",emoji:"jaustukas",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO data ir laikas",date:"ISO data",time:"ISO laikas",duration:"ISO trukm",ipv4:"IPv4 adresas",ipv6:"IPv6 adresas",cidrv4:"IPv4 tinklo prefiksas (CIDR)",cidrv6:"IPv6 tinklo prefiksas (CIDR)",base64:"base64 ukoduota eilut",base64url:"base64url ukoduota eilut",json_string:"JSON eilut",e164:"E.164 numeris",jwt:"JWT",template_literal:"vestis"};return e=>{switch(e.code){case"invalid_type":var n;return`Gautas tipas ${cl(typeof(n=e.input),n)}, o tiktasi - ${cl(e.expected)}`;case"invalid_value":if(1===e.values.length)return`Privalo bti ${sL(e.values[0])}`;return`Privalo bti vienas i ${sc(e.values,"|")} pasirinkim`;case"too_big":{let r=cl(e.origin),n=t(e.origin,cc(Number(e.maximum)),e.inclusive??!1,"smaller");if(n?.verb)return`${cu(r??e.origin??"reikm")} ${n.verb} ${e.maximum.toString()} ${n.unit??"element"}`;let i=e.inclusive?"ne didesnis kaip":"maesnis kaip";return`${cu(r??e.origin??"reikm")} turi bti ${i} ${e.maximum.toString()} ${n?.unit}`}case"too_small":{let r=cl(e.origin),n=t(e.origin,cc(Number(e.minimum)),e.inclusive??!1,"bigger");if(n?.verb)return`${cu(r??e.origin??"reikm")} ${n.verb} ${e.minimum.toString()} ${n.unit??"element"}`;let i=e.inclusive?"ne maesnis kaip":"didesnis kaip";return`${cu(r??e.origin??"reikm")} turi bti ${i} ${e.minimum.toString()} ${n?.unit}`}case"invalid_format":if("starts_with"===e.format)return`Eilut privalo prasidti "${e.prefix}"`;if("ends_with"===e.format)return`Eilut privalo pasibaigti "${e.suffix}"`;if("includes"===e.format)return`Eilut privalo traukti "${e.includes}"`;if("regex"===e.format)return`Eilut privalo atitikti ${e.pattern}`;return`Neteisingas ${r[e.format]??e.format}`;case"not_multiple_of":return`Skaiius privalo bti ${e.divisor} kartotinis.`;case"unrecognized_keys":return`Neatpaint${e.keys.length>1?"i":"as"} rakt${e.keys.length>1?"ai":"as"}: ${sc(e.keys,", ")}`;case"invalid_key":return"Rastas klaidingas raktas";case"invalid_union":default:return"Klaidinga vestis";case"invalid_element":{let t=cl(e.origin);return`${cu(t??e.origin??"reikm")} turi klaiding vest`}}}})()}},"mk",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:"  -",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return` :   ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Invalid input: expected ${sL(r.values[0])}`;return` :    ${sc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` :   ${r.origin??""}   ${t}${r.maximum.toString()} ${n.unit??""}`;return` :   ${r.origin??""}   ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` :   ${r.origin}   ${t}${r.minimum.toString()} ${n.unit}`;return` :   ${r.origin}   ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` :     "${r.prefix}"`;if("ends_with"===r.format)return` :     "${r.suffix}"`;if("includes"===r.format)return` :    "${r.includes}"`;if("regex"===r.format)return` :      ${r.pattern}`;return`Invalid ${t[r.format]??r.format}`;case"not_multiple_of":return` :      ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?" ":" "}: ${sc(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${r.origin}`;default:return` `}})}},"ms",0,function(){let e,t;return{localeError:(e={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}},t={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"},r=>{switch(r.code){case"invalid_type":return`Input tidak sah: dijangka ${r.expected}, diterima ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombor";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Input tidak sah: dijangka ${sL(r.values[0])}`;return`Pilihan tidak sah: dijangka salah satu daripada ${sc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Terlalu besar: dijangka ${r.origin??"nilai"} ${n.verb} ${t}${r.maximum.toString()} ${n.unit??"elemen"}`;return`Terlalu besar: dijangka ${r.origin??"nilai"} adalah ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Terlalu kecil: dijangka ${r.origin} ${n.verb} ${t}${r.minimum.toString()} ${n.unit}`;return`Terlalu kecil: dijangka ${r.origin} adalah ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`String tidak sah: mesti bermula dengan "${r.prefix}"`;if("ends_with"===r.format)return`String tidak sah: mesti berakhir dengan "${r.suffix}"`;if("includes"===r.format)return`String tidak sah: mesti mengandungi "${r.includes}"`;if("regex"===r.format)return`String tidak sah: mesti sepadan dengan corak ${r.pattern}`;return`${t[r.format]??r.format} tidak sah`;case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${r.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${sc(r.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${r.origin}`;case"invalid_union":default:return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${r.origin}`}})}},"nl",0,function(){let e,t;return{localeError:(e={string:{unit:"tekens"},file:{unit:"bytes"},array:{unit:"elementen"},set:{unit:"elementen"}},t={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"},r=>{switch(r.code){case"invalid_type":return`Ongeldige invoer: verwacht ${r.expected}, ontving ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"getal";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Ongeldige invoer: verwacht ${sL(r.values[0])}`;return`Ongeldige optie: verwacht \xe9\xe9n van ${sc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Te lang: verwacht dat ${r.origin??"waarde"} ${t}${r.maximum.toString()} ${n.unit??"elementen"} bevat`;return`Te lang: verwacht dat ${r.origin??"waarde"} ${t}${r.maximum.toString()} is`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Te kort: verwacht dat ${r.origin} ${t}${r.minimum.toString()} ${n.unit} bevat`;return`Te kort: verwacht dat ${r.origin} ${t}${r.minimum.toString()} is`}case"invalid_format":if("starts_with"===r.format)return`Ongeldige tekst: moet met "${r.prefix}" beginnen`;if("ends_with"===r.format)return`Ongeldige tekst: moet op "${r.suffix}" eindigen`;if("includes"===r.format)return`Ongeldige tekst: moet "${r.includes}" bevatten`;if("regex"===r.format)return`Ongeldige tekst: moet overeenkomen met patroon ${r.pattern}`;return`Ongeldig: ${t[r.format]??r.format}`;case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${r.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${r.keys.length>1?"s":""}: ${sc(r.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${r.origin}`;case"invalid_union":default:return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${r.origin}`}})}},"no",0,function(){let e,t;return{localeError:(e={string:{unit:"tegn",verb:" ha"},file:{unit:"bytes",verb:" ha"},array:{unit:"elementer",verb:" inneholde"},set:{unit:"elementer",verb:" inneholde"}},t={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},r=>{switch(r.code){case"invalid_type":return`Ugyldig input: forventet ${r.expected}, fikk ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"tall";case"object":if(Array.isArray(e))return"liste";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Ugyldig verdi: forventet ${sL(r.values[0])}`;return`Ugyldig valg: forventet en av ${sc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`For stor(t): forventet ${r.origin??"value"} til \xe5 ha ${t}${r.maximum.toString()} ${n.unit??"elementer"}`;return`For stor(t): forventet ${r.origin??"value"} til \xe5 ha ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`For lite(n): forventet ${r.origin} til \xe5 ha ${t}${r.minimum.toString()} ${n.unit}`;return`For lite(n): forventet ${r.origin} til \xe5 ha ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Ugyldig streng: m\xe5 starte med "${r.prefix}"`;if("ends_with"===r.format)return`Ugyldig streng: m\xe5 ende med "${r.suffix}"`;if("includes"===r.format)return`Ugyldig streng: m\xe5 inneholde "${r.includes}"`;if("regex"===r.format)return`Ugyldig streng: m\xe5 matche m\xf8nsteret ${r.pattern}`;return`Ugyldig ${t[r.format]??r.format}`;case"not_multiple_of":return`Ugyldig tall: m\xe5 v\xe6re et multiplum av ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"Ukjente nkler":"Ukjent nkkel"}: ${sc(r.keys,", ")}`;case"invalid_key":return`Ugyldig n\xf8kkel i ${r.origin}`;case"invalid_union":default:return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${r.origin}`}})}},"ota",0,function(){let e,t;return{localeError:(e={string:{unit:"harf",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"unsur",verb:"olmaldr"},set:{unit:"unsur",verb:"olmaldr"}},t={regex:"giren",email:"epostagh",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO hengm",date:"ISO tarihi",time:"ISO zaman",duration:"ISO mddeti",ipv4:"IPv4 nin",ipv6:"IPv6 nin",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-ifreli metin",base64url:"base64url-ifreli metin",json_string:"JSON metin",e164:"E.164 says",jwt:"JWT",template_literal:"giren"},r=>{switch(r.code){case"invalid_type":return`F\xe2sit giren: umulan ${r.expected}, alnan ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"numara";case"object":if(Array.isArray(e))return"saf";if(null===e)return"gayb";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`F\xe2sit giren: umulan ${sL(r.values[0])}`;return`F\xe2sit tercih: m\xfbteberler ${sc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Fazla b\xfcy\xfck: ${r.origin??"value"}, ${t}${r.maximum.toString()} ${n.unit??"elements"} sahip olmalyd.`;return`Fazla b\xfcy\xfck: ${r.origin??"value"}, ${t}${r.maximum.toString()} olmalyd.`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Fazla k\xfc\xe7\xfck: ${r.origin}, ${t}${r.minimum.toString()} ${n.unit} sahip olmalyd.`;return`Fazla k\xfc\xe7\xfck: ${r.origin}, ${t}${r.minimum.toString()} olmalyd.`}case"invalid_format":if("starts_with"===r.format)return`F\xe2sit metin: "${r.prefix}" ile balamal.`;if("ends_with"===r.format)return`F\xe2sit metin: "${r.suffix}" ile bitmeli.`;if("includes"===r.format)return`F\xe2sit metin: "${r.includes}" ihtiv\xe2 etmeli.`;if("regex"===r.format)return`F\xe2sit metin: ${r.pattern} nakna uymal.`;return`F\xe2sit ${t[r.format]??r.format}`;case"not_multiple_of":return`F\xe2sit say: ${r.divisor} kat olmalyd.`;case"unrecognized_keys":return`Tannmayan anahtar ${r.keys.length>1?"s":""}: ${sc(r.keys,", ")}`;case"invalid_key":return`${r.origin} i\xe7in tannmayan anahtar var.`;case"invalid_union":return"Giren tannamad.";case"invalid_element":return`${r.origin} i\xe7in tannmayan kymet var.`;default:return`Kymet tannamad.`}})}},"pl",0,function(){let e,t;return{localeError:(e={string:{unit:"znakw",verb:"mie"},file:{unit:"bajtw",verb:"mie"},array:{unit:"elementw",verb:"mie"},set:{unit:"elementw",verb:"mie"}},t={regex:"wyraenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"cig znakw zakodowany w formacie base64",base64url:"cig znakw zakodowany w formacie base64url",json_string:"cig znakw w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wejcie"},r=>{switch(r.code){case"invalid_type":return`Nieprawidowe dane wejciowe: oczekiwano ${r.expected}, otrzymano ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"liczba";case"object":if(Array.isArray(e))return"tablica";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Nieprawidowe dane wejciowe: oczekiwano ${sL(r.values[0])}`;return`Nieprawidowa opcja: oczekiwano jednej z wartoci ${sc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Za dua warto: oczekiwano, e ${r.origin??"warto"} bdzie mie ${t}${r.maximum.toString()} ${n.unit??"elementw"}`;return`Zbyt du(y/a/e): oczekiwano, e ${r.origin??"warto"} bdzie wynosi ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Za maa warto: oczekiwano, e ${r.origin??"warto"} bdzie mie ${t}${r.minimum.toString()} ${n.unit??"elementw"}`;return`Zbyt ma(y/a/e): oczekiwano, e ${r.origin??"warto"} bdzie wynosi ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Nieprawidowy cig znak\xf3w: musi zaczyna si od "${r.prefix}"`;if("ends_with"===r.format)return`Nieprawidowy cig znak\xf3w: musi koczy si na "${r.suffix}"`;if("includes"===r.format)return`Nieprawidowy cig znak\xf3w: musi zawiera "${r.includes}"`;if("regex"===r.format)return`Nieprawidowy cig znak\xf3w: musi odpowiada wzorcowi ${r.pattern}`;return`Nieprawidow(y/a/e) ${t[r.format]??r.format}`;case"not_multiple_of":return`Nieprawidowa liczba: musi by wielokrotnoci ${r.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${r.keys.length>1?"s":""}: ${sc(r.keys,", ")}`;case"invalid_key":return`Nieprawidowy klucz w ${r.origin}`;case"invalid_union":return"Nieprawidowe dane wejciowe";case"invalid_element":return`Nieprawidowa warto w ${r.origin}`;default:return`Nieprawidowe dane wejciowe`}})}},"ps",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"  ",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ",date:"",time:"",duration:"",ipv4:" IPv4 ",ipv6:" IPv6 ",cidrv4:" IPv4 ",cidrv6:" IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:" E.164 ",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return` :  ${r.expected} ,  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}  `;case"invalid_value":if(1===r.values.length)return` :  ${sL(r.values[0])} `;return` :    ${sc(r.values,"|")}  `;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` : ${r.origin??""}  ${t}${r.maximum.toString()} ${n.unit??""} `;return` : ${r.origin??""}  ${t}${r.maximum.toString()} `}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` : ${r.origin}  ${t}${r.minimum.toString()} ${n.unit} `;return` : ${r.origin}  ${t}${r.minimum.toString()} `}case"invalid_format":if("starts_with"===r.format)return` :   "${r.prefix}"   `;if("ends_with"===r.format)return` :   "${r.suffix}"    `;if("includes"===r.format)return` :  "${r.includes}" `;if("regex"===r.format)return` :   ${r.pattern}   `;return`${t[r.format]??r.format}  `;case"not_multiple_of":return` :   ${r.divisor}  `;case"unrecognized_keys":return` ${r.keys.length>1?"":""}: ${sc(r.keys,", ")}`;case"invalid_key":return`   ${r.origin} `;case"invalid_union":default:return` `;case"invalid_element":return`   ${r.origin} `}})}},"pt",0,function(){let e,t;return{localeError:(e={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}},t={regex:"padro",email:"endereo de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"durao ISO",ipv4:"endereo IPv4",ipv6:"endereo IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"},r=>{switch(r.code){case"invalid_type":return`Tipo inv\xe1lido: esperado ${r.expected}, recebido ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nmero";case"object":if(Array.isArray(e))return"array";if(null===e)return"nulo";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Entrada inv\xe1lida: esperado ${sL(r.values[0])}`;return`Op\xe7\xe3o inv\xe1lida: esperada uma das ${sc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Muito grande: esperado que ${r.origin??"valor"} tivesse ${t}${r.maximum.toString()} ${n.unit??"elementos"}`;return`Muito grande: esperado que ${r.origin??"valor"} fosse ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Muito pequeno: esperado que ${r.origin} tivesse ${t}${r.minimum.toString()} ${n.unit}`;return`Muito pequeno: esperado que ${r.origin} fosse ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Texto inv\xe1lido: deve come\xe7ar com "${r.prefix}"`;if("ends_with"===r.format)return`Texto inv\xe1lido: deve terminar com "${r.suffix}"`;if("includes"===r.format)return`Texto inv\xe1lido: deve incluir "${r.includes}"`;if("regex"===r.format)return`Texto inv\xe1lido: deve corresponder ao padr\xe3o ${r.pattern}`;return`${t[r.format]??r.format} inv\xe1lido`;case"not_multiple_of":return`N\xfamero inv\xe1lido: deve ser m\xfaltiplo de ${r.divisor}`;case"unrecognized_keys":return`Chave${r.keys.length>1?"s":""} desconhecida${r.keys.length>1?"s":""}: ${sc(r.keys,", ")}`;case"invalid_key":return`Chave inv\xe1lida em ${r.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor inv\xe1lido em ${r.origin}`;default:return`Campo inv\xe1lido`}})}},"ru",0,function(){let e,t;return{localeError:(e={string:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""}},t={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return` :  ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` :  ${sL(r.values[0])}`;return` :    ${sc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n){let e=cd(Number(r.maximum),n.unit.one,n.unit.few,n.unit.many);return`  : ,  ${r.origin??""}   ${t}${r.maximum.toString()} ${e}`}return`  : ,  ${r.origin??""}  ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n){let e=cd(Number(r.minimum),n.unit.one,n.unit.few,n.unit.many);return`  : ,  ${r.origin}   ${t}${r.minimum.toString()} ${e}`}return`  : ,  ${r.origin}  ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` :    "${r.prefix}"`;if("ends_with"===r.format)return` :    "${r.suffix}"`;if("includes"===r.format)return` :   "${r.includes}"`;if("regex"===r.format)return` :    ${r.pattern}`;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` :    ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"":""} ${r.keys.length>1?"":""}: ${sc(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${r.origin}`;default:return`  `}})}},"sl",0,function(){let e,t;return{localeError:(e={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}},t={regex:"vnos",email:"e-potni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in as",date:"ISO datum",time:"ISO as",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 tevilka",jwt:"JWT",template_literal:"vnos"},r=>{switch(r.code){case"invalid_type":return`Neveljaven vnos: priakovano ${r.expected}, prejeto ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"tevilo";case"object":if(Array.isArray(e))return"tabela";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Neveljaven vnos: priakovano ${sL(r.values[0])}`;return`Neveljavna monost: priakovano eno izmed ${sc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Preveliko: priakovano, da bo ${r.origin??"vrednost"} imelo ${t}${r.maximum.toString()} ${n.unit??"elementov"}`;return`Preveliko: priakovano, da bo ${r.origin??"vrednost"} ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Premajhno: priakovano, da bo ${r.origin} imelo ${t}${r.minimum.toString()} ${n.unit}`;return`Premajhno: priakovano, da bo ${r.origin} ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Neveljaven niz: mora se zaeti z "${r.prefix}"`;if("ends_with"===r.format)return`Neveljaven niz: mora se konati z "${r.suffix}"`;if("includes"===r.format)return`Neveljaven niz: mora vsebovati "${r.includes}"`;if("regex"===r.format)return`Neveljaven niz: mora ustrezati vzorcu ${r.pattern}`;return`Neveljaven ${t[r.format]??r.format}`;case"not_multiple_of":return`Neveljavno tevilo: mora biti vekratnik ${r.divisor}`;case"unrecognized_keys":return`Neprepoznan${r.keys.length>1?"i kljui":" klju"}: ${sc(r.keys,", ")}`;case"invalid_key":return`Neveljaven klju v ${r.origin}`;case"invalid_union":default:return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${r.origin}`}})}},"sv",0,function(){let e,t;return{localeError:(e={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att innehlla"},set:{unit:"objekt",verb:"att innehlla"}},t={regex:"reguljrt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad strng",base64url:"base64url-kodad strng",json_string:"JSON-strng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"},r=>{switch(r.code){case"invalid_type":return`Ogiltig inmatning: f\xf6rv\xe4ntat ${r.expected}, fick ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"antal";case"object":if(Array.isArray(e))return"lista";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Ogiltig inmatning: f\xf6rv\xe4ntat ${sL(r.values[0])}`;return`Ogiltigt val: f\xf6rv\xe4ntade en av ${sc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`F\xf6r stor(t): f\xf6rv\xe4ntade ${r.origin??"vrdet"} att ha ${t}${r.maximum.toString()} ${n.unit??"element"}`;return`F\xf6r stor(t): f\xf6rv\xe4ntat ${r.origin??"vrdet"} att ha ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`F\xf6r lite(t): f\xf6rv\xe4ntade ${r.origin??"vrdet"} att ha ${t}${r.minimum.toString()} ${n.unit}`;return`F\xf6r lite(t): f\xf6rv\xe4ntade ${r.origin??"vrdet"} att ha ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Ogiltig str\xe4ng: m\xe5ste b\xf6rja med "${r.prefix}"`;if("ends_with"===r.format)return`Ogiltig str\xe4ng: m\xe5ste sluta med "${r.suffix}"`;if("includes"===r.format)return`Ogiltig str\xe4ng: m\xe5ste inneh\xe5lla "${r.includes}"`;if("regex"===r.format)return`Ogiltig str\xe4ng: m\xe5ste matcha m\xf6nstret "${r.pattern}"`;return`Ogiltig(t) ${t[r.format]??r.format}`;case"not_multiple_of":return`Ogiltigt tal: m\xe5ste vara en multipel av ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"Oknda nycklar":"Oknd nyckel"}: ${sc(r.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${r.origin??"vrdet"}`;case"invalid_union":default:return"Ogiltig input";case"invalid_element":return`Ogiltigt v\xe4rde i ${r.origin??"vrdet"}`}})}},"ta",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:" ",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO  ",date:"ISO ",time:"ISO ",duration:"ISO  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:"input"},r=>{switch(r.code){case"invalid_type":return` :  ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?" ":"";case"object":if(Array.isArray(e))return"";if(null===e)return"";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` :  ${sL(r.values[0])}`;return` :  ${sc(r.values,"|")}  `;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` :  ${r.origin??""} ${t}${r.maximum.toString()} ${n.unit??""}   `;return` :  ${r.origin??""} ${t}${r.maximum.toString()}   `}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` :  ${r.origin} ${t}${r.minimum.toString()} ${n.unit}   `;return` :  ${r.origin} ${t}${r.minimum.toString()}   `}case"invalid_format":if("starts_with"===r.format)return` : "${r.prefix}"   `;if("ends_with"===r.format)return` : "${r.suffix}"   `;if("includes"===r.format)return` : "${r.includes}"   `;if("regex"===r.format)return` : ${r.pattern}   `;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` : ${r.divisor}    `;case"unrecognized_keys":return`  ${r.keys.length>1?"":""}: ${sc(r.keys,", ")}`;case"invalid_key":return`${r.origin}   `;case"invalid_union":return" ";case"invalid_element":return`${r.origin}   `;default:return` `}})}},"th",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:" ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IP  IPv4",cidrv6:" IP  IPv6",base64:" Base64",base64url:" Base64  URL",json_string:" JSON",e164:" (E.164)",jwt:" JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return`:  ${r.expected}  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?" (NaN)":"";case"object":if(Array.isArray(e))return" (Array)";if(null===e)return" (null)";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`:  ${sL(r.values[0])}`;return`:  ${sc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"":"",n=e[r.origin]??null;if(n)return`: ${r.origin??""} ${t} ${r.maximum.toString()} ${n.unit??""}`;return`: ${r.origin??""} ${t} ${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?"":"",n=e[r.origin]??null;if(n)return`: ${r.origin} ${t} ${r.minimum.toString()} ${n.unit}`;return`: ${r.origin} ${t} ${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`:  "${r.prefix}"`;if("ends_with"===r.format)return`:  "${r.suffix}"`;if("includes"===r.format)return`:  "${r.includes}" `;if("regex"===r.format)return`:  ${r.pattern}`;return`: ${t[r.format]??r.format}`;case"not_multiple_of":return`:  ${r.divisor} `;case"unrecognized_keys":return`: ${sc(r.keys,", ")}`;case"invalid_key":return` ${r.origin}`;case"invalid_union":return": ";case"invalid_element":return` ${r.origin}`;default:return``}})}},"tr",0,function(){let e,t;return{localeError:(e={string:{unit:"karakter",verb:"olmal"},file:{unit:"bayt",verb:"olmal"},array:{unit:"e",verb:"olmal"},set:{unit:"e",verb:"olmal"}},t={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO sre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aral",cidrv6:"IPv6 aral",base64:"base64 ile ifrelenmi metin",base64url:"base64url ile ifrelenmi metin",json_string:"JSON dizesi",e164:"E.164 says",jwt:"JWT",template_literal:"ablon dizesi"},r=>{switch(r.code){case"invalid_type":return`Ge\xe7ersiz deer: beklenen ${r.expected}, alnan ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Ge\xe7ersiz deer: beklenen ${sL(r.values[0])}`;return`Ge\xe7ersiz se\xe7enek: aadakilerden biri olmal: ${sc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`\xc7ok b\xfcy\xfck: beklenen ${r.origin??"deer"} ${t}${r.maximum.toString()} ${n.unit??"e"}`;return`\xc7ok b\xfcy\xfck: beklenen ${r.origin??"deer"} ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`\xc7ok k\xfc\xe7\xfck: beklenen ${r.origin} ${t}${r.minimum.toString()} ${n.unit}`;return`\xc7ok k\xfc\xe7\xfck: beklenen ${r.origin} ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Ge\xe7ersiz metin: "${r.prefix}" ile balamal`;if("ends_with"===r.format)return`Ge\xe7ersiz metin: "${r.suffix}" ile bitmeli`;if("includes"===r.format)return`Ge\xe7ersiz metin: "${r.includes}" i\xe7ermeli`;if("regex"===r.format)return`Ge\xe7ersiz metin: ${r.pattern} desenine uymal`;return`Ge\xe7ersiz ${t[r.format]??r.format}`;case"not_multiple_of":return`Ge\xe7ersiz say: ${r.divisor} ile tam b\xf6l\xfcnebilmeli`;case"unrecognized_keys":return`Tannmayan anahtar${r.keys.length>1?"lar":""}: ${sc(r.keys,", ")}`;case"invalid_key":return`${r.origin} i\xe7inde ge\xe7ersiz anahtar`;case"invalid_union":return"Geersiz deer";case"invalid_element":return`${r.origin} i\xe7inde ge\xe7ersiz deer`;default:return`Ge\xe7ersiz deer`}})}},"ua",0,function(){return cp()},"uk",0,cp,"ur",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:" ",email:"  ",url:"  ",emoji:"",uuid:"   ",uuidv4:"     4",uuidv6:"     6",nanoid:"  ",guid:"   ",cuid:"   ",cuid2:"    2",ulid:"   ",xid:"  ",ksuid:"    ",datetime:"    ",date:"   ",time:"   ",duration:"   ",ipv4:"   4 ",ipv6:"   6 ",cidrv4:"   4 ",cidrv6:"   6 ",base64:" 64   ",base64url:" 64      ",json_string:"    ",e164:" 164 ",jwt:"  ",template_literal:" "},r=>{switch(r.code){case"invalid_type":return`  : ${r.expected}   ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}  `;case"invalid_value":if(1===r.values.length)return`  : ${sL(r.values[0])}  `;return` : ${sc(r.values,"|")}     `;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` : ${r.origin??""}  ${t}${r.maximum.toString()} ${n.unit??""}   `;return` : ${r.origin??""}  ${t}${r.maximum.toString()}   `}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` : ${r.origin}  ${t}${r.minimum.toString()} ${n.unit}   `;return` : ${r.origin}  ${t}${r.minimum.toString()}   `}case"invalid_format":if("starts_with"===r.format)return` : "${r.prefix}"    `;if("ends_with"===r.format)return` : "${r.suffix}"    `;if("includes"===r.format)return` : "${r.includes}"   `;if("regex"===r.format)return` :  ${r.pattern}    `;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` : ${r.divisor}    `;case"unrecognized_keys":return`   ${r.keys.length>1?"":""}: ${sc(r.keys," ")}`;case"invalid_key":return`${r.origin}   `;case"invalid_union":return"  ";case"invalid_element":return`${r.origin}   `;default:return`  `}})}},"vi",0,function(){let e,t;return{localeError:(e={string:{unit:"k t",verb:"c"},file:{unit:"byte",verb:"c"},array:{unit:"phn t",verb:"c"},set:{unit:"phn t",verb:"c"}},t={regex:"u vo",email:"a ch email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ngy gi ISO",date:"ngy ISO",time:"gi ISO",duration:"khong thi gian ISO",ipv4:"a ch IPv4",ipv6:"a ch IPv6",cidrv4:"di IPv4",cidrv6:"di IPv6",base64:"chui m ha base64",base64url:"chui m ha base64url",json_string:"chui JSON",e164:"s E.164",jwt:"JWT",template_literal:"u vo"},r=>{switch(r.code){case"invalid_type":return`u v\xe0o kh\xf4ng hp l: mong i ${r.expected}, nhn c ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"s";case"object":if(Array.isArray(e))return"mng";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`u v\xe0o kh\xf4ng hp l: mong i ${sL(r.values[0])}`;return`T\xf9y chn kh\xf4ng hp l: mong i mt trong c\xe1c gi\xe1 tr ${sc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Qu\xe1 ln: mong i ${r.origin??"gi tr"} ${n.verb} ${t}${r.maximum.toString()} ${n.unit??"phn t"}`;return`Qu\xe1 ln: mong i ${r.origin??"gi tr"} ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Qu\xe1 nh: mong i ${r.origin} ${n.verb} ${t}${r.minimum.toString()} ${n.unit}`;return`Qu\xe1 nh: mong i ${r.origin} ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Chui kh\xf4ng hp l: phi bt u bng "${r.prefix}"`;if("ends_with"===r.format)return`Chui kh\xf4ng hp l: phi kt th\xfac bng "${r.suffix}"`;if("includes"===r.format)return`Chui kh\xf4ng hp l: phi bao gm "${r.includes}"`;if("regex"===r.format)return`Chui kh\xf4ng hp l: phi khp vi mu ${r.pattern}`;return`${t[r.format]??r.format} kh\xf4ng hp l`;case"not_multiple_of":return`S kh\xf4ng hp l: phi l\xe0 bi s ca ${r.divisor}`;case"unrecognized_keys":return`Kh\xf3a kh\xf4ng c nhn dng: ${sc(r.keys,", ")}`;case"invalid_key":return`Kh\xf3a kh\xf4ng hp l trong ${r.origin}`;case"invalid_union":return"u vo khng hp l";case"invalid_element":return`Gi\xe1 tr kh\xf4ng hp l trong ${r.origin}`;default:return`u v\xe0o kh\xf4ng hp l`}})}},"yo",0,function(){let e,t;return{localeError:(e={string:{unit:"mi",verb:"n"},file:{unit:"bytes",verb:"n"},array:{unit:"nkan",verb:"n"},set:{unit:"nkan",verb:"n"}},t={regex:"r bwl",email:"drs ml",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"kk ISO",date:"j ISO",time:"kk ISO",duration:"kk t p ISO",ipv4:"drs IPv4",ipv6:"drs IPv6",cidrv4:"gbgb IPv4",cidrv6:"gbgb IPv6",base64:"r t a k n base64",base64url:"r base64url",json_string:"r JSON",e164:"nmb E.164",jwt:"JWT",template_literal:"r bwl"},r=>{switch(r.code){case"invalid_type":return`\xccb\xe1wl\xe9 a\xece: a n\xed l\xe1ti fi ${r.expected}, \xe0m a r\xed ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nmb";case"object":if(Array.isArray(e))return"akop";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`\xccb\xe1wl\xe9 a\xece: a n\xed l\xe1ti fi ${sL(r.values[0])}`;return`\xc0\xe0y\xe0n a\xece: yan kan l\xe1ra ${sc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`T\xf3 p j\xf9: a n\xed l\xe1ti j p\xe9 ${r.origin??"iye"} ${n.verb} ${t}${r.maximum} ${n.unit}`;return`T\xf3 p j\xf9: a n\xed l\xe1ti j ${t}${r.maximum}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`K\xe9r\xe9 ju: a n\xed l\xe1ti j p\xe9 ${r.origin} ${n.verb} ${t}${r.minimum} ${n.unit}`;return`K\xe9r\xe9 ju: a n\xed l\xe1ti j ${t}${r.minimum}`}case"invalid_format":if("starts_with"===r.format)return`r a\xece: gbd br pl\xfa "${r.prefix}"`;if("ends_with"===r.format)return`r a\xece: gbd par\xed pl\xfa "${r.suffix}"`;if("includes"===r.format)return`r a\xece: gbd n\xed "${r.includes}"`;if("regex"===r.format)return`r a\xece: gbd b\xe1 \xe0pr mu ${r.pattern}`;return`A\xece: ${t[r.format]??r.format}`;case"not_multiple_of":return`Nmb\xe0 a\xece: gbd j \xe8y\xe0 p\xedp\xedn ti ${r.divisor}`;case"unrecognized_keys":return`Bt\xecn\xec \xe0\xecm: ${sc(r.keys,", ")}`;case"invalid_key":return`Bt\xecn\xec a\xece n\xedn\xfa ${r.origin}`;case"invalid_union":default:return"bwl ae";case"invalid_element":return`Iye a\xece n\xedn\xfa ${r.origin}`}})}},"zhCN",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return` ${r.expected} ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"(NaN)":"";case"object":if(Array.isArray(e))return"";if(null===e)return"(null)";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` ${sL(r.values[0])}`;return` ${sc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` ${r.origin??""} ${t}${r.maximum.toString()} ${n.unit??""}`;return` ${r.origin??""} ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` ${r.origin} ${t}${r.minimum.toString()} ${n.unit}`;return` ${r.origin} ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` "${r.prefix}" `;if("ends_with"===r.format)return` "${r.suffix}" `;if("includes"===r.format)return` "${r.includes}"`;if("regex"===r.format)return` ${r.pattern}`;return`${t[r.format]??r.format}`;case"not_multiple_of":return` ${r.divisor} `;case"unrecognized_keys":return`(key): ${sc(r.keys,", ")}`;case"invalid_key":return`${r.origin} (key)`;case"invalid_union":return"";case"invalid_element":return`${r.origin} (value)`;default:return``}})}},"zhTW",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64 ",base64url:"base64url ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return` ${r.expected} ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` ${sL(r.values[0])}`;return` ${sc(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` ${r.origin??""}  ${t}${r.maximum.toString()} ${n.unit??""}`;return` ${r.origin??""}  ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` ${r.origin}  ${t}${r.minimum.toString()} ${n.unit}`;return` ${r.origin}  ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` "${r.prefix}" `;if("ends_with"===r.format)return` "${r.suffix}" `;if("includes"===r.format)return` "${r.includes}"`;if("regex"===r.format)return` ${r.pattern}`;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` ${r.divisor} `;case"unrecognized_keys":return`${r.keys.length>1?"":""}${sc(r.keys,"")}`;case"invalid_key":return`${r.origin} `;case"invalid_union":return"";case"invalid_element":return`${r.origin} `;default:return``}})}}],98369);var me=e.i(98369);e.i(5222),e.i(98912),e.i(74390),e.i(28510);var mt=e.i(76416);e.s(["$ZodAny",0,uy,"$ZodArray",0,uk,"$ZodAsyncError",()=>se,"$ZodBase64",0,ur,"$ZodBase64URL",0,ui,"$ZodBigInt",0,up,"$ZodBigIntFormat",0,uf,"$ZodBoolean",0,ud,"$ZodCIDRv4",0,l7,"$ZodCIDRv6",0,ue,"$ZodCUID",0,lY,"$ZodCUID2",0,lX,"$ZodCatch",0,u0,"$ZodCheck",0,ly,"$ZodCheckBigIntFormat",0,lk,"$ZodCheckEndsWith",0,lC,"$ZodCheckGreaterThan",0,lw,"$ZodCheckIncludes",0,lU,"$ZodCheckLengthEquals",0,lA,"$ZodCheckLessThan",0,lb,"$ZodCheckLowerCase",0,lR,"$ZodCheckMaxLength",0,lS,"$ZodCheckMaxSize",0,lE,"$ZodCheckMimeType",0,lz,"$ZodCheckMinLength",0,lI,"$ZodCheckMinSize",0,l$,"$ZodCheckMultipleOf",0,l_,"$ZodCheckNumberFormat",0,lx,"$ZodCheckOverwrite",0,lM,"$ZodCheckProperty",0,lL,"$ZodCheckRegex",0,lN,"$ZodCheckSizeEquals",0,lT,"$ZodCheckStartsWith",0,lD,"$ZodCheckStringFormat",0,lO,"$ZodCheckUpperCase",0,lP,"$ZodCodec",0,u2,"$ZodCustom",0,cn,"$ZodCustomStringFormat",0,ul,"$ZodDate",0,u_,"$ZodDefault",0,uK,"$ZodDiscriminatedUnion",0,uN,"$ZodE164",0,ua,"$ZodEmail",0,lK,"$ZodEmoji",0,lJ,"$ZodEncodeError",()=>st,"$ZodEnum",0,uq,"$ZodError",0,ot,"$ZodFile",0,uV,"$ZodFunction",0,ce,"$ZodGUID",0,lW,"$ZodIPv4",0,l5,"$ZodIPv6",0,l8,"$ZodISODate",0,l2,"$ZodISODateTime",0,l6,"$ZodISODuration",0,l3,"$ZodISOTime",0,l9,"$ZodIntersection",0,uR,"$ZodJWT",0,uo,"$ZodKSUID",0,l4,"$ZodLazy",0,cr,"$ZodLiteral",0,uZ,"$ZodMap",0,uj,"$ZodNaN",0,u1,"$ZodNanoID",0,lQ,"$ZodNever",0,ub,"$ZodNonOptional",0,uQ,"$ZodNull",0,ug,"$ZodNullable",0,uH,"$ZodNumber",0,uu,"$ZodNumberFormat",0,uc,"$ZodObject",0,uS,"$ZodObjectJIT",0,uI,"$ZodOptional",0,uW,"$ZodPipe",0,u4,"$ZodPrefault",0,uJ,"$ZodPromise",0,ct,"$ZodReadonly",0,u5,"$ZodRealError",0,or,"$ZodRecord",0,uC,"$ZodRegistry",()=>cm,"$ZodSet",0,uz,"$ZodString",0,lF,"$ZodStringFormat",0,lB,"$ZodSuccess",0,uX,"$ZodSymbol",0,uh,"$ZodTemplateLiteral",0,u7,"$ZodTransform",0,uF,"$ZodTuple",0,uU,"$ZodType",0,lV,"$ZodULID",0,l0,"$ZodURL",0,lG,"$ZodUUID",0,lH,"$ZodUndefined",0,um,"$ZodUnion",0,uO,"$ZodUnknown",0,uv,"$ZodVoid",0,uw,"$ZodXID",0,l1,"$brand",0,a7,"$constructor",()=>a8,"$input",0,ch,"$output",0,cf,"Doc",()=>lq,"JSONSchema",0,mt,"JSONSchemaGenerator",()=>pt,"NEVER",0,a5,"TimePrecision",0,cZ,"_any",()=>c7,"_array",()=>dD,"_base64",()=>cL,"_base64url",()=>cz,"_bigint",()=>c4,"_boolean",()=>c0,"_catch",()=>dX,"_check",()=>d8,"_cidrv4",()=>cC,"_cidrv6",()=>cj,"_coercedBigint",()=>c6,"_coercedBoolean",()=>c1,"_coercedDate",()=>di,"_coercedNumber",()=>cK,"_coercedString",()=>cb,"_cuid",()=>cA,"_cuid2",()=>cO,"_custom",()=>d9,"_date",()=>dn,"_decode",0,ov,"_decodeAsync",0,ox,"_default",()=>dJ,"_discriminatedUnion",()=>dj,"_e164",()=>cM,"_email",()=>cw,"_emoji",()=>cS,"_encode",0,og,"_encodeAsync",0,ow,"_endsWith",()=>dS,"_enum",()=>dV,"_file",()=>dW,"_float32",()=>cJ,"_float64",()=>cQ,"_gt",()=>du,"_gte",()=>dc,"_guid",()=>c_,"_includes",()=>d$,"_int",()=>cG,"_int32",()=>cY,"_int64",()=>c2,"_intersection",()=>dL,"_ipv4",()=>cU,"_ipv6",()=>cD,"_isoDate",()=>cF,"_isoDateTime",()=>cV,"_isoDuration",()=>cW,"_isoTime",()=>cB,"_jwt",()=>cq,"_ksuid",()=>cP,"_lazy",()=>d6,"_length",()=>d_,"_literal",()=>dB,"_lowercase",()=>dk,"_lt",()=>ds,"_lte",()=>dl,"_map",()=>dq,"_max",()=>dl,"_maxLength",()=>db,"_maxSize",()=>dg,"_mime",()=>dA,"_min",()=>dc,"_minLength",()=>dw,"_minSize",()=>dy,"_multipleOf",()=>dm,"_nan",()=>da,"_nanoid",()=>cI,"_nativeEnum",()=>dF,"_negative",()=>dp,"_never",()=>dt,"_nonnegative",()=>dh,"_nonoptional",()=>dQ,"_nonpositive",()=>df,"_normalize",()=>dN,"_null",()=>c8,"_nullable",()=>dG,"_number",()=>cH,"_optional",()=>dK,"_overwrite",()=>dO,"_parse",0,ol,"_parseAsync",0,oc,"_pipe",()=>d0,"_positive",()=>dd,"_promise",()=>d2,"_property",()=>dI,"_readonly",()=>d1,"_record",()=>dM,"_refine",()=>d3,"_regex",()=>dx,"_safeDecode",0,oT,"_safeDecodeAsync",0,oO,"_safeEncode",0,oE,"_safeEncodeAsync",0,oI,"_safeParse",0,op,"_safeParseAsync",0,oh,"_set",()=>dZ,"_size",()=>dv,"_startsWith",()=>dT,"_string",()=>cv,"_stringFormat",()=>pe,"_stringbool",()=>d7,"_success",()=>dY,"_superRefine",()=>d5,"_symbol",()=>c3,"_templateLiteral",()=>d4,"_toLowerCase",()=>dP,"_toUpperCase",()=>dU,"_transform",()=>dH,"_trim",()=>dR,"_tuple",()=>dz,"_uint32",()=>cX,"_uint64",()=>c9,"_ulid",()=>cN,"_undefined",()=>c5,"_union",()=>dC,"_unknown",()=>de,"_uppercase",()=>dE,"_url",()=>cT,"_uuid",()=>cx,"_uuidv4",()=>ck,"_uuidv6",()=>cE,"_uuidv7",()=>c$,"_void",()=>dr,"_xid",()=>cR,"clone",()=>sD,"config",()=>sn,"decode",0,ob,"decodeAsync",0,ok,"encode",0,oy,"encodeAsync",0,o_,"flattenError",()=>on,"formatError",()=>oi,"globalConfig",0,sr,"globalRegistry",0,cy,"isValidBase64",()=>ut,"isValidBase64URL",()=>un,"isValidJWT",()=>us,"locales",0,me,"parse",0,ou,"parseAsync",0,od,"prettifyError",()=>oo,"regexes",0,h7,"registry",()=>cg,"safeDecode",0,oS,"safeDecodeAsync",0,oN,"safeEncode",0,o$,"safeEncodeAsync",0,oA,"safeParse",0,of,"safeParseAsync",0,om,"toDotPath",()=>os,"toJSONSchema",()=>pr,"treeifyError",()=>oa,"util",0,h8,"version",0,lZ],74150);var mr=e.i(74150);e.i(22942),e.i(27069),e.s(["endsWith",()=>dS,"gt",()=>du,"gte",()=>dc,"includes",()=>d$,"length",()=>d_,"lowercase",()=>dk,"lt",()=>ds,"lte",()=>dl,"maxLength",()=>db,"maxSize",()=>dg,"mime",()=>dA,"minLength",()=>dw,"minSize",()=>dy,"multipleOf",()=>dm,"negative",()=>dp,"nonnegative",()=>dh,"nonpositive",()=>df,"normalize",()=>dN,"overwrite",()=>dO,"positive",()=>dd,"property",()=>dI,"regex",()=>dx,"size",()=>dv,"startsWith",()=>dT,"toLowerCase",()=>dP,"toUpperCase",()=>dU,"trim",()=>dR,"uppercase",()=>dE],74320),e.i(74320),e.i(52040),e.i(47170),e.i(99529),e.s(["$brand",0,a7,"ZodFirstPartyTypeKind",()=>H,"ZodIssueCode",0,h0,"config",()=>sn,"getErrorMap",()=>h4,"setErrorMap",()=>h1],74206),e.i(74206);var pn=pn,pi=pi,mn=e.i(11904),mi=e.i(12553);e.s(["$brand",0,a7,"$input",0,ch,"$output",0,cf,"NEVER",0,a5,"TimePrecision",0,cZ,"ZodAny",0,fj,"ZodArray",0,fH,"ZodBase64",0,fn,"ZodBase64URL",0,fa,"ZodBigInt",0,fT,"ZodBigIntFormat",0,fI,"ZodBoolean",0,fE,"ZodCIDRv4",0,p7,"ZodCIDRv6",0,ft,"ZodCUID",0,pG,"ZodCUID2",0,pQ,"ZodCatch",0,hS,"ZodCodec",0,hP,"ZodCustom",0,hB,"ZodCustomStringFormat",0,fd,"ZodDate",0,fB,"ZodDefault",0,hb,"ZodDiscriminatedUnion",0,f4,"ZodE164",0,fo,"ZodEmail",0,pP,"ZodEmoji",0,pB,"ZodEnum",0,ha,"ZodError",0,ph,"ZodFile",0,hc,"ZodFirstPartyTypeKind",()=>H,"ZodFunction",0,hV,"ZodGUID",0,pD,"ZodIPv4",0,p9,"ZodIPv6",0,p5,"ZodISODate",0,po,"ZodISODateTime",0,pa,"ZodISODuration",0,pd,"ZodISOTime",0,pu,"ZodIntersection",0,f2,"ZodIssueCode",0,h0,"ZodJWT",0,fu,"ZodKSUID",0,p6,"ZodLazy",0,hz,"ZodLiteral",0,hl,"ZodMap",0,ht,"ZodNaN",0,hA,"ZodNanoID",0,pH,"ZodNever",0,fq,"ZodNonOptional",0,hk,"ZodNull",0,fD,"ZodNullable",0,hg,"ZodNumber",0,fg,"ZodNumberFormat",0,fv,"ZodObject",0,fJ,"ZodOptional",0,hh,"ZodPipe",0,hN,"ZodPrefault",0,h_,"ZodPromise",0,hq,"ZodReadonly",0,hD,"ZodRealError",0,pm,"ZodRecord",0,f8,"ZodSet",0,hn,"ZodString",0,pO,"ZodStringFormat",0,pR,"ZodSuccess",0,h$,"ZodSymbol",0,fN,"ZodTemplateLiteral",0,hj,"ZodTransform",0,hp,"ZodTuple",0,f3,"ZodType",0,pI,"ZodULID",0,pX,"ZodURL",0,pZ,"ZodUUID",0,pj,"ZodUndefined",0,fP,"ZodUnion",0,f0,"ZodUnknown",0,fz,"ZodVoid",0,fV,"ZodXID",0,p1,"_ZodString",0,pA,"_default",()=>hw,"_function",()=>hF,"any",()=>fL,"array",()=>fK,"base64",()=>fi,"base64url",()=>fs,"bigint",()=>fS,"boolean",()=>f$,"catch",()=>hI,"check",()=>hW,"cidrv4",()=>fe,"cidrv6",()=>fr,"clone",()=>sD,"codec",()=>hU,"coerce",0,mi,"config",()=>sn,"core",0,mr,"cuid",()=>pJ,"cuid2",()=>pY,"custom",()=>hH,"date",()=>fW,"decode",0,p_,"decodeAsync",0,pk,"discriminatedUnion",()=>f6,"e164",()=>fl,"email",()=>pU,"emoji",()=>pW,"encode",0,pw,"encodeAsync",0,px,"endsWith",()=>dS,"enum",()=>hs,"file",()=>hd,"flattenError",()=>on,"float32",()=>fw,"float64",()=>f_,"formatError",()=>oi,"function",()=>hF,"getErrorMap",()=>h4,"globalRegistry",0,cy,"gt",()=>du,"gte",()=>dc,"guid",()=>pC,"hash",()=>fm,"hex",()=>fh,"hostname",()=>ff,"httpUrl",()=>pF,"includes",()=>d$,"instanceof",()=>hJ,"int",()=>fb,"int32",()=>fx,"int64",()=>fA,"intersection",()=>f9,"ipv4",()=>p3,"ipv6",()=>p8,"iso",0,mn,"json",()=>hY,"jwt",()=>fc,"keyof",()=>fG,"ksuid",()=>p2,"lazy",()=>hM,"length",()=>d_,"literal",()=>hu,"locales",0,me,"looseObject",()=>fX,"lowercase",()=>dk,"lt",()=>ds,"lte",()=>dl,"map",()=>hr,"maxLength",()=>db,"maxSize",()=>dg,"mime",()=>dA,"minLength",()=>dw,"minSize",()=>dy,"multipleOf",()=>dm,"nan",()=>hO,"nanoid",()=>pK,"nativeEnum",()=>ho,"negative",()=>dp,"never",()=>fZ,"nonnegative",()=>dh,"nonoptional",()=>hE,"nonpositive",()=>df,"normalize",()=>dN,"null",()=>fC,"nullable",()=>hy,"nullish",()=>hv,"number",()=>fy,"object",()=>fQ,"optional",()=>hm,"overwrite",()=>dO,"parse",0,pg,"parseAsync",0,py,"partialRecord",()=>he,"pipe",()=>hR,"positive",()=>dd,"prefault",()=>hx,"preprocess",()=>hX,"prettifyError",()=>oo,"promise",()=>hZ,"property",()=>dI,"readonly",()=>hC,"record",()=>f7,"refine",()=>hK,"regex",()=>dx,"regexes",()=>pn,"registry",()=>cg,"safeDecode",0,p$,"safeDecodeAsync",0,pS,"safeEncode",0,pE,"safeEncodeAsync",0,pT,"safeParse",0,pv,"safeParseAsync",0,pb,"set",()=>hi,"setErrorMap",()=>h1,"size",()=>dv,"startsWith",()=>dT,"strictObject",()=>fY,"string",()=>pN,"stringFormat",()=>fp,"stringbool",0,hQ,"success",()=>hT,"superRefine",()=>hG,"symbol",()=>fR,"templateLiteral",()=>hL,"toJSONSchema",()=>pr,"toLowerCase",()=>dP,"toUpperCase",()=>dU,"transform",()=>hf,"treeifyError",()=>oa,"trim",()=>dR,"tuple",()=>f5,"uint32",()=>fk,"uint64",()=>fO,"ulid",()=>p0,"undefined",()=>fU,"union",()=>f1,"unknown",()=>fM,"uppercase",()=>dE,"url",()=>pV,"util",()=>pi,"uuid",()=>pL,"uuidv4",()=>pz,"uuidv6",()=>pM,"uuidv7",()=>pq,"void",()=>fF,"xid",()=>p4],15431);var ma=e.i(15431);e.s(["default",0,ma],91462),e.i(91462),e.s(["$brand",0,a7,"$input",0,ch,"$output",0,cf,"NEVER",0,a5,"TimePrecision",0,cZ,"ZodAny",0,fj,"ZodArray",0,fH,"ZodBase64",0,fn,"ZodBase64URL",0,fa,"ZodBigInt",0,fT,"ZodBigIntFormat",0,fI,"ZodBoolean",0,fE,"ZodCIDRv4",0,p7,"ZodCIDRv6",0,ft,"ZodCUID",0,pG,"ZodCUID2",0,pQ,"ZodCatch",0,hS,"ZodCodec",0,hP,"ZodCustom",0,hB,"ZodCustomStringFormat",0,fd,"ZodDate",0,fB,"ZodDefault",0,hb,"ZodDiscriminatedUnion",0,f4,"ZodE164",0,fo,"ZodEmail",0,pP,"ZodEmoji",0,pB,"ZodEnum",0,ha,"ZodError",0,ph,"ZodFile",0,hc,"ZodFirstPartyTypeKind",()=>H,"ZodFunction",0,hV,"ZodGUID",0,pD,"ZodIPv4",0,p9,"ZodIPv6",0,p5,"ZodISODate",0,po,"ZodISODateTime",0,pa,"ZodISODuration",0,pd,"ZodISOTime",0,pu,"ZodIntersection",0,f2,"ZodIssueCode",0,h0,"ZodJWT",0,fu,"ZodKSUID",0,p6,"ZodLazy",0,hz,"ZodLiteral",0,hl,"ZodMap",0,ht,"ZodNaN",0,hA,"ZodNanoID",0,pH,"ZodNever",0,fq,"ZodNonOptional",0,hk,"ZodNull",0,fD,"ZodNullable",0,hg,"ZodNumber",0,fg,"ZodNumberFormat",0,fv,"ZodObject",0,fJ,"ZodOptional",0,hh,"ZodPipe",0,hN,"ZodPrefault",0,h_,"ZodPromise",0,hq,"ZodReadonly",0,hD,"ZodRealError",0,pm,"ZodRecord",0,f8,"ZodSet",0,hn,"ZodString",0,pO,"ZodStringFormat",0,pR,"ZodSuccess",0,h$,"ZodSymbol",0,fN,"ZodTemplateLiteral",0,hj,"ZodTransform",0,hp,"ZodTuple",0,f3,"ZodType",0,pI,"ZodULID",0,pX,"ZodURL",0,pZ,"ZodUUID",0,pj,"ZodUndefined",0,fP,"ZodUnion",0,f0,"ZodUnknown",0,fz,"ZodVoid",0,fV,"ZodXID",0,p1,"_ZodString",0,pA,"_default",()=>hw,"_function",()=>hF,"any",()=>fL,"array",()=>fK,"base64",()=>fi,"base64url",()=>fs,"bigint",()=>fS,"boolean",()=>f$,"catch",()=>hI,"check",()=>hW,"cidrv4",()=>fe,"cidrv6",()=>fr,"clone",()=>sD,"codec",()=>hU,"coerce",()=>mi,"config",()=>sn,"core",()=>mr,"cuid",()=>pJ,"cuid2",()=>pY,"custom",()=>hH,"date",()=>fW,"decode",0,p_,"decodeAsync",0,pk,"default",0,ma,"discriminatedUnion",()=>f6,"e164",()=>fl,"email",()=>pU,"emoji",()=>pW,"encode",0,pw,"encodeAsync",0,px,"endsWith",()=>dS,"enum",()=>hs,"file",()=>hd,"flattenError",()=>on,"float32",()=>fw,"float64",()=>f_,"formatError",()=>oi,"function",()=>hF,"getErrorMap",()=>h4,"globalRegistry",0,cy,"gt",()=>du,"gte",()=>dc,"guid",()=>pC,"hash",()=>fm,"hex",()=>fh,"hostname",()=>ff,"httpUrl",()=>pF,"includes",()=>d$,"instanceof",()=>hJ,"int",()=>fb,"int32",()=>fx,"int64",()=>fA,"intersection",()=>f9,"ipv4",()=>p3,"ipv6",()=>p8,"iso",()=>mn,"json",()=>hY,"jwt",()=>fc,"keyof",()=>fG,"ksuid",()=>p2,"lazy",()=>hM,"length",()=>d_,"literal",()=>hu,"locales",()=>me,"looseObject",()=>fX,"lowercase",()=>dk,"lt",()=>ds,"lte",()=>dl,"map",()=>hr,"maxLength",()=>db,"maxSize",()=>dg,"mime",()=>dA,"minLength",()=>dw,"minSize",()=>dy,"multipleOf",()=>dm,"nan",()=>hO,"nanoid",()=>pK,"nativeEnum",()=>ho,"negative",()=>dp,"never",()=>fZ,"nonnegative",()=>dh,"nonoptional",()=>hE,"nonpositive",()=>df,"normalize",()=>dN,"null",()=>fC,"nullable",()=>hy,"nullish",()=>hv,"number",()=>fy,"object",()=>fQ,"optional",()=>hm,"overwrite",()=>dO,"parse",0,pg,"parseAsync",0,py,"partialRecord",()=>he,"pipe",()=>hR,"positive",()=>dd,"prefault",()=>hx,"preprocess",()=>hX,"prettifyError",()=>oo,"promise",()=>hZ,"property",()=>dI,"readonly",()=>hC,"record",()=>f7,"refine",()=>hK,"regex",()=>dx,"regexes",()=>pn,"registry",()=>cg,"safeDecode",0,p$,"safeDecodeAsync",0,pS,"safeEncode",0,pE,"safeEncodeAsync",0,pT,"safeParse",0,pv,"safeParseAsync",0,pb,"set",()=>hi,"setErrorMap",()=>h1,"size",()=>dv,"startsWith",()=>dT,"strictObject",()=>fY,"string",()=>pN,"stringFormat",()=>fp,"stringbool",0,hQ,"success",()=>hT,"superRefine",()=>hG,"symbol",()=>fR,"templateLiteral",()=>hL,"toJSONSchema",()=>pr,"toLowerCase",()=>dP,"toUpperCase",()=>dU,"transform",()=>hf,"treeifyError",()=>oa,"trim",()=>dR,"tuple",()=>f5,"uint32",()=>fk,"uint64",()=>fO,"ulid",()=>p0,"undefined",()=>fU,"union",()=>f1,"unknown",()=>fM,"uppercase",()=>dE,"url",()=>pV,"util",()=>pi,"uuid",()=>pL,"uuidv4",()=>pz,"uuidv6",()=>pM,"uuidv7",()=>pq,"void",()=>fF,"xid",()=>p4,"z",0,ma],7290),e.i(7290);var mi=mi;let ms=(e,t="ms")=>new Date(Date.now()+("sec"===t?1e3*e:e));function mo(e){try{if("string"!=typeof e)return e;return JSON.parse(e,function(e,t){if("string"==typeof t&&/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(?:\.\d+)?Z$/.test(t)){let e=new Date(t);if(!isNaN(e.getTime()))return e}return t})}catch(e){return ra.error("Error parsing JSON",{error:e}),null}}function ml(e,t="/api/auth"){if(function(e){try{let t=new URL(e).pathname.replace(/\/+$/,"")||"/";return"/"!==t}catch(t){throw new tq(`Invalid base URL: ${e}. Please provide a valid base URL.`)}}(e))return e;let r=e.replace(/\/+$/,"");return t&&"/"!==t?(t=t.startsWith("/")?t:`/${t}`,`${r}${t}`):r}function mu(e,t,r,n){if(e)return ml(e,t);if(!1!==n){let e=tF.BETTER_AUTH_URL||tF.NEXT_PUBLIC_BETTER_AUTH_URL||tF.PUBLIC_BETTER_AUTH_URL||tF.NUXT_PUBLIC_BETTER_AUTH_URL||tF.NUXT_PUBLIC_AUTH_URL||("/"!==tF.BASE_URL?tF.BASE_URL:void 0);if(e)return ml(e,t)}let i=r?.headers.get("x-forwarded-host"),a=r?.headers.get("x-forwarded-proto");if(i&&a)return ml(`${a}://${i}`,t);if(r){let e=mc(r.url);if(!e)throw new tq("Could not get origin from request. Please provide a valid base URL.");return ml(e,t)}}function mc(e){try{return new URL(e).origin}catch(e){return null}}function md(e){try{return new URL(e).protocol}catch(e){return null}}function mp(e){try{return new URL(e).host}catch(e){return null}}function mf(e){let t=(e.advanced?.useSecureCookies!==void 0?e.advanced?.useSecureCookies:void 0!==e.baseURL?!!e.baseURL.startsWith("https://"):tW)?"__Secure-":"",r=!!e.advanced?.crossSubDomainCookies?.enabled,n=r?e.advanced?.crossSubDomainCookies?.domain||(e.baseURL?new URL(e.baseURL).hostname:void 0):void 0;if(r&&!n)throw new tq("baseURL is required when crossSubdomainCookies are enabled");return function(i,a={}){let s=e.advanced?.cookiePrefix||"better-auth",o=e.advanced?.cookies?.[i]?.name||`${s}.${i}`,l=e.advanced?.cookies?.[i]?.attributes;return{name:`${t}${o}`,attributes:{secure:!!t,sameSite:"lax",path:"/",httpOnly:!0,...r?{domain:n}:{},...e.advanced?.defaultCookieAttributes,...a,...l}}}}async function mh(e,t,r){if(e.context.options.session?.cookieCache?.enabled){let n={session:Object.entries(t.session).reduce((t,[r,n])=>{let i=e.context.options.session?.additionalFields?.[r];return i&&!1===i.returned||(t[r]=n),t},{}),user:t.user},i={...e.context.authCookies.sessionData.options,maxAge:r?void 0:e.context.authCookies.sessionData.options.maxAge},a=ms(i.maxAge||60,"sec").getTime(),s=rc.encode(JSON.stringify({session:n,expiresAt:a,signature:await rf("SHA-256","base64urlnopad").sign(e.context.secret,JSON.stringify({...n,expiresAt:a}))}),{padding:!1});if(s.length>4093)return void e.context?.logger?.error(`Session data exceeds cookie size limit (${s.length} bytes > 4093 bytes). Consider reducing session data size or disabling cookie cache. Session will not be cached in cookie.`);e.setCookie(e.context.authCookies.sessionData.name,s,i)}}async function mm(e,t,r,n){let i=await e.getSignedCookie(e.context.authCookies.dontRememberToken.name,e.context.secret);r=void 0!==r?r:!!i;let a=e.context.authCookies.sessionToken.options,s=r?void 0:e.context.sessionConfig.expiresIn;await e.setSignedCookie(e.context.authCookies.sessionToken.name,t.session.token,e.context.secret,{...a,maxAge:s,...n}),r&&await e.setSignedCookie(e.context.authCookies.dontRememberToken.name,"true",e.context.secret,e.context.authCookies.dontRememberToken.options),await mh(e,t,r),e.context.setNewSession(t),e.context.options.secondaryStorage&&await e.context.secondaryStorage?.set(t.session.token,JSON.stringify({user:t.user,session:t.session}),Math.floor((new Date(t.session.expiresAt).getTime()-Date.now())/1e3))}function mg(e,t){e.setCookie(e.context.authCookies.sessionToken.name,"",{...e.context.authCookies.sessionToken.options,maxAge:0}),e.setCookie(e.context.authCookies.sessionData.name,"",{...e.context.authCookies.sessionData.options,maxAge:0}),t||e.setCookie(e.context.authCookies.dontRememberToken.name,"",{...e.context.authCookies.dontRememberToken.options,maxAge:0})}function my(e){switch(e){case"a-z":return"abcdefghijklmnopqrstuvwxyz";case"A-Z":return"ABCDEFGHIJKLMNOPQRSTUVWXYZ";case"0-9":return"0123456789";case"-_":return"-_";default:throw Error(`Unsupported alphabet: ${e}`)}}function mv(...e){let t=e.map(my).join("");if(0===t.length)throw Error("No valid characters provided for random string generation.");let r=t.length;return(e,...n)=>{let i;if(e<=0)throw Error("Length must be a positive integer.");let a=t,s=r;n.length>0&&(s=(a=n.map(my).join("")).length);let o=Math.floor(256/s)*s,l=new Uint8Array(2*e),u=l.length,c="",d=u;for(;c.length<e;)d>=u&&(crypto.getRandomValues(l),d=0),(i=l[d++])<o&&(c+=a[i%s]);return c}}function mb(e){let t,r;if("string"!=typeof e)throw new aw("JWTs must use Compact JWS serialization, JWT must be a string");let{1:n,length:i}=e.split(".");if(5===i)throw new aw("Only JWTs using Compact JWS serialization can be decoded");if(3!==i)throw new aw("Invalid JWT");if(!n)throw new aw("JWTs must contain a payload");try{t=ap(n)}catch{throw new aw("Failed to base64url decode the payload")}try{r=JSON.parse(au.decode(t))}catch{throw new aw("Failed to parse the decoded payload as JSON")}if(!aD(r))throw new aw("Invalid JWT Claims Set");return r}function mw(e){let t;if("string"==typeof e){let r=e.split(".");(3===r.length||5===r.length)&&([t]=r)}else if("object"==typeof e&&e)if("protected"in e)t=e.protected;else throw TypeError("Token does not contain a Protected Header");try{if("string"!=typeof t||!t)throw Error();let e=JSON.parse(au.decode(ap(t)));if(!aD(e))throw Error();return e}catch{throw TypeError("Invalid Token or Protected Header formatting")}}async function m_(e,t,r){let n;if(!aD(e))throw TypeError("JWK must be an object");switch(t??=e.alg,n??=r?.extractable??e.ext,e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw TypeError('missing "k" (Key Value) Parameter value');return ap(e.k);case"RSA":if("oth"in e&&void 0!==e.oth)throw new av('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');return aF({...e,alg:t,ext:n});case"AKP":if("string"!=typeof e.alg||!e.alg)throw TypeError('missing "alg" (Algorithm) Parameter value');if(void 0!==t&&t!==e.alg)throw TypeError("JWK alg and alg option value mismatch");return aF({...e,ext:n});case"EC":case"OKP":return aF({...e,alg:t,ext:n});default:throw new av('Unsupported "kty" (Key Type) Parameter value')}}function mx(e){return aD(e)}class mk{#i;#a=new WeakMap;constructor(e){if(!function(e){return e&&"object"==typeof e&&Array.isArray(e.keys)&&e.keys.every(mx)}(e))throw new a_("JSON Web Key Set malformed");this.#i=structuredClone(e)}jwks(){return this.#i}async getKey(e,t){let{alg:r,kid:n}={...e,...t?.header},i=function(e){switch("string"==typeof e&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";case"ML":return"AKP";default:throw new av('Unsupported "alg" value for a JSON Web Key Set')}}(r),a=this.#i.keys.filter(e=>{let t=i===e.kty;if(t&&"string"==typeof n&&(t=n===e.kid),t&&("string"==typeof e.alg||"AKP"===i)&&(t=r===e.alg),t&&"string"==typeof e.use&&(t="sig"===e.use),t&&Array.isArray(e.key_ops)&&(t=e.key_ops.includes("verify")),t)switch(r){case"ES256":t="P-256"===e.crv;break;case"ES384":t="P-384"===e.crv;break;case"ES512":t="P-521"===e.crv;break;case"Ed25519":case"EdDSA":t="Ed25519"===e.crv}return t}),{0:s,length:o}=a;if(0===o)throw new ax;if(1!==o){let e=new ak,t=this.#a;throw e[Symbol.asyncIterator]=async function*(){for(let e of a)try{yield await mE(t,e,r)}catch{}},e}return mE(this.#a,s,r)}}async function mE(e,t,r){let n=e.get(t)||e.set(t,{}).get(t);if(void 0===n[r]){let e=await m_({...t,ext:!0},r);if(e instanceof Uint8Array||"public"!==e.type)throw new a_("JSON Web Key Set members must be public keys");n[r]=e}return n[r]}function m$(e){let t=new mk(e),r=async(e,r)=>t.getKey(e,r);return Object.defineProperties(r,{jwks:{value:()=>structuredClone(t.jwks()),enumerable:!1,configurable:!1,writable:!1}}),r}"undefined"!=typeof navigator&&navigator.userAgent?.startsWith?.("Mozilla/5.0 ")||(i="jose/v6.1.2");let mT=Symbol();async function mS(e,t,r,n=fetch){let i=await n(e,{method:"GET",signal:r,redirect:"manual",headers:t}).catch(e=>{if("TimeoutError"===e.name)throw new aE;throw e});if(200!==i.status)throw new ah("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await i.json()}catch{throw new ah("Failed to parse the JSON Web Key Set HTTP response as JSON")}}let mI=Symbol();class mA{#s;#o;#l;#u;#c;#d;#p;#f;#h;#m;constructor(e,t){if(!(e instanceof URL))throw TypeError("url must be an instance of URL");this.#s=new URL(e.href),this.#o="number"==typeof t?.timeoutDuration?t?.timeoutDuration:5e3,this.#l="number"==typeof t?.cooldownDuration?t?.cooldownDuration:3e4,this.#u="number"==typeof t?.cacheMaxAge?t?.cacheMaxAge:6e5,this.#p=new Headers(t?.headers),i&&!this.#p.has("User-Agent")&&this.#p.set("User-Agent",i),this.#p.has("accept")||(this.#p.set("accept","application/json"),this.#p.append("accept","application/jwk-set+json")),this.#f=t?.[mT],t?.[mI]!==void 0&&(this.#m=t?.[mI],function(e,t){return!("object"!=typeof e||null===e||!("uat"in e)||"number"!=typeof e.uat||Date.now()-e.uat>=t)&&"jwks"in e&&!!aD(e.jwks)&&!!Array.isArray(e.jwks.keys)&&!!Array.prototype.every.call(e.jwks.keys,aD)}(t?.[mI],this.#u)&&(this.#c=this.#m.uat,this.#h=m$(this.#m.jwks)))}pendingFetch(){return!!this.#d}coolingDown(){return"number"==typeof this.#c&&Date.now()<this.#c+this.#l}fresh(){return"number"==typeof this.#c&&Date.now()<this.#c+this.#u}jwks(){return this.#h?.jwks()}async getKey(e,t){this.#h&&this.fresh()||await this.reload();try{return await this.#h(e,t)}catch(r){if(r instanceof ax&&!1===this.coolingDown())return await this.reload(),this.#h(e,t);throw r}}async reload(){this.#d&&("undefined"!=typeof WebSocketPair||"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||"undefined"!=typeof EdgeRuntime&&"vercel"===EdgeRuntime)&&(this.#d=void 0),this.#d||=mS(this.#s.href,this.#p,AbortSignal.timeout(this.#o),this.#f).then(e=>{this.#h=m$(e),this.#m&&(this.#m.uat=Date.now(),this.#m.jwks=e),this.#c=Date.now(),this.#d=void 0}).catch(e=>{throw this.#d=void 0,e}),await this.#d}}let mO=async e=>{let{data:t}=await ao("https://appleid.apple.com/auth/keys");if(!t?.keys)throw new rk("BAD_REQUEST",{message:"Keys not found"});let r=t.keys.find(t=>t.kid===e);if(!r)throw Error(`JWK with kid ${e} not found`);return await m_(r,r.alg)},mN=async(e,t,r)=>{let n=`https://cognito-idp.${t}.amazonaws.com/${r}/.well-known/jwks.json`;try{let{data:t}=await ao(n);if(!t?.keys)throw new rk("BAD_REQUEST",{message:"Keys not found"});let r=t.keys.find(t=>t.kid===e);if(!r)throw Error(`JWK with kid ${e} not found`);return await m_(r,r.alg)}catch(e){throw ra.error("Failed to fetch Cognito public key:",e),e}},mR=(e="")=>e.split("://").map(e=>e.replace(/\/{2,}/g,"/")).join("://"),mP={apple:e=>({id:"apple",name:"Apple",async createAuthorizationURL({state:t,scopes:r,redirectURI:n}){let i=e.disableDefaultScope?[]:["email","name"];return e.scope&&i.push(...e.scope),r&&i.push(...r),await a2({id:"apple",options:e,authorizationEndpoint:"https://appleid.apple.com/auth/authorize",scopes:i,state:t,redirectURI:n,responseMode:"form_post",responseType:"code id_token"})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:n})=>a9({code:t,codeVerifier:r,redirectURI:n,options:e,tokenEndpoint:"https://appleid.apple.com/auth/token"}),async verifyIdToken(t,r){if(e.disableIdTokenSignIn)return!1;if(e.verifyIdToken)return e.verifyIdToken(t,r);let{kid:n,alg:i}=mw(t);if(!n||!i)return!1;let a=await mO(n),{payload:s}=await a1(t,a,{algorithms:[i],issuer:"https://appleid.apple.com",audience:e.audience&&e.audience.length?e.audience:e.appBundleIdentifier?e.appBundleIdentifier:e.clientId,maxTokenAge:"1h"});return["email_verified","is_private_email"].forEach(e=>{void 0!==s[e]&&(s[e]=!!s[e])}),(!r||s.nonce===r)&&!!s},refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>a3({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://appleid.apple.com/auth/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);if(!t.idToken)return null;let r=mb(t.idToken);if(!r)return null;let n=t.user?`${t.user.name?.firstName} ${t.user.name?.lastName}`:r.name||r.email,i="boolean"==typeof r.email_verified?r.email_verified:"true"===r.email_verified,a={...r,name:n},s=await e.mapProfileToUser?.(a);return{user:{id:r.sub,name:a.name,emailVerified:i,email:r.email,...s},data:a}},options:e}),atlassian:e=>({id:"atlassian",name:"Atlassian",async createAuthorizationURL({state:t,scopes:r,codeVerifier:n,redirectURI:i}){if(!e.clientId||!e.clientSecret)throw ra.error("Client Id and Secret are required for Atlassian"),new tq("CLIENT_ID_AND_SECRET_REQUIRED");if(!n)throw new tq("codeVerifier is required for Atlassian");let a=e.disableDefaultScope?[]:["read:jira-user","offline_access"];return e.scope&&a.push(...e.scope),r&&a.push(...r),a2({id:"atlassian",options:e,authorizationEndpoint:"https://auth.atlassian.com/authorize",scopes:a,state:t,codeVerifier:n,redirectURI:i,additionalParams:{audience:"api.atlassian.com"},prompt:e.prompt})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:n})=>a9({code:t,codeVerifier:r,redirectURI:n,options:e,tokenEndpoint:"https://auth.atlassian.com/oauth/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>a3({refreshToken:t,options:{clientId:e.clientId,clientSecret:e.clientSecret},tokenEndpoint:"https://auth.atlassian.com/oauth/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);if(!t.accessToken)return null;try{let{data:r}=await ao("https://api.atlassian.com/me",{headers:{Authorization:`Bearer ${t.accessToken}`}});if(!r)return null;let n=await e.mapProfileToUser?.(r);return{user:{id:r.account_id,name:r.name,email:r.email,image:r.picture,emailVerified:!1,...n},data:r}}catch(e){return ra.error("Failed to fetch user info from Figma:",e),null}},options:e}),cognito:e=>{if(!e.domain||!e.region||!e.userPoolId)throw ra.error("Domain, region and userPoolId are required for Amazon Cognito. Make sure to provide them in the options."),new tq("DOMAIN_AND_REGION_REQUIRED");let t=e.domain.replace(/^https?:\/\//,""),r=`https://${t}/oauth2/authorize`,n=`https://${t}/oauth2/token`,i=`https://${t}/oauth2/userinfo`;return{id:"cognito",name:"Cognito",async createAuthorizationURL({state:t,scopes:n,codeVerifier:i,redirectURI:a}){if(!e.clientId)throw ra.error("ClientId is required for Amazon Cognito. Make sure to provide them in the options."),new tq("CLIENT_ID_AND_SECRET_REQUIRED");if(e.requireClientSecret&&!e.clientSecret)throw ra.error("Client Secret is required when requireClientSecret is true. Make sure to provide it in the options."),new tq("CLIENT_SECRET_REQUIRED");let s=e.disableDefaultScope?[]:["openid","profile","email"];return e.scope&&s.push(...e.scope),n&&s.push(...n),await a2({id:"cognito",options:{...e},authorizationEndpoint:r,scopes:s,state:t,codeVerifier:i,redirectURI:a,prompt:e.prompt})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:i})=>a9({code:t,codeVerifier:r,redirectURI:i,options:e,tokenEndpoint:n}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>a3({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:n}),async verifyIdToken(t,r){if(e.disableIdTokenSignIn)return!1;if(e.verifyIdToken)return e.verifyIdToken(t,r);try{let{kid:n,alg:i}=mw(t);if(!n||!i)return!1;let a=await mN(n,e.region,e.userPoolId),s=`https://cognito-idp.${e.region}.amazonaws.com/${e.userPoolId}`,{payload:o}=await a1(t,a,{algorithms:[i],issuer:s,audience:e.clientId,maxTokenAge:"1h"});if(r&&o.nonce!==r)return!1;return!0}catch(e){return ra.error("Failed to verify ID token:",e),!1}},async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);if(t.idToken)try{let r=mb(t.idToken);if(!r)return null;let n=r.name||r.given_name||r.username||r.email,i={...r,name:n},a=await e.mapProfileToUser?.(i);return{user:{id:r.sub,name:i.name,email:r.email,image:r.picture,emailVerified:r.email_verified,...a},data:i}}catch(e){ra.error("Failed to decode ID token:",e)}if(t.accessToken)try{let{data:r}=await ao(i,{headers:{Authorization:`Bearer ${t.accessToken}`}});if(r){let t=await e.mapProfileToUser?.(r);return{user:{id:r.sub,name:r.name||r.given_name||r.username,email:r.email,image:r.picture,emailVerified:r.email_verified,...t},data:r}}}catch(e){ra.error("Failed to fetch user info from Cognito:",e)}return null},options:e}},discord:e=>({id:"discord",name:"Discord",createAuthorizationURL({state:t,scopes:r,redirectURI:n}){let i=e.disableDefaultScope?[]:["identify","email"];r&&i.push(...r),e.scope&&i.push(...e.scope);let a=i.includes("bot")&&void 0!==e.permissions?`&permissions=${e.permissions}`:"";return new URL(`https://discord.com/api/oauth2/authorize?scope=${i.join("+")}&response_type=code&client_id=${e.clientId}&redirect_uri=${encodeURIComponent(e.redirectURI||n)}&state=${t}&prompt=${e.prompt||"none"}${a}`)},validateAuthorizationCode:async({code:t,redirectURI:r})=>a9({code:t,redirectURI:r,options:e,tokenEndpoint:"https://discord.com/api/oauth2/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>a3({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://discord.com/api/oauth2/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:n}=await ao("https://discord.com/api/users/@me",{headers:{authorization:`Bearer ${t.accessToken}`}});if(n)return null;if(null===r.avatar){let e="0"===r.discriminator?Number(BigInt(r.id)>>BigInt(22))%6:parseInt(r.discriminator)%5;r.image_url=`https://cdn.discordapp.com/embed/avatars/${e}.png`}else{let e=r.avatar.startsWith("a_")?"gif":"png";r.image_url=`https://cdn.discordapp.com/avatars/${r.id}/${r.avatar}.${e}`}let i=await e.mapProfileToUser?.(r);return{user:{id:r.id,name:r.global_name||r.username||"",email:r.email,emailVerified:r.verified,image:r.image_url,...i},data:r}},options:e}),facebook:e=>({id:"facebook",name:"Facebook",async createAuthorizationURL({state:t,scopes:r,redirectURI:n,loginHint:i}){let a=e.disableDefaultScope?[]:["email","public_profile"];return e.scope&&a.push(...e.scope),r&&a.push(...r),await a2({id:"facebook",options:e,authorizationEndpoint:"https://www.facebook.com/v21.0/dialog/oauth",scopes:a,state:t,redirectURI:n,loginHint:i,additionalParams:e.configId?{config_id:e.configId}:{}})},validateAuthorizationCode:async({code:t,redirectURI:r})=>a9({code:t,redirectURI:r,options:e,tokenEndpoint:"https://graph.facebook.com/oauth/access_token"}),async verifyIdToken(t,r){if(e.disableIdTokenSignIn)return!1;if(e.verifyIdToken)return e.verifyIdToken(t,r);if(3===t.split(".").length)try{var n;let i,a,{payload:s}=await a1(t,(n=new URL("https://limited.facebook.com/.well-known/oauth/openid/jwks/"),i=new mA(n,void 0),a=async(e,t)=>i.getKey(e,t),Object.defineProperties(a,{coolingDown:{get:()=>i.coolingDown(),enumerable:!0,configurable:!1},fresh:{get:()=>i.fresh(),enumerable:!0,configurable:!1},reload:{value:()=>i.reload(),enumerable:!0,configurable:!1,writable:!1},reloading:{get:()=>i.pendingFetch(),enumerable:!0,configurable:!1},jwks:{value:()=>i.jwks(),enumerable:!0,configurable:!1,writable:!1}}),a),{algorithms:["RS256"],audience:e.clientId,issuer:"https://www.facebook.com"});if(r&&s.nonce!==r)return!1;return!!s}catch(e){return!1}return!0},refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>a3({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://graph.facebook.com/v18.0/oauth/access_token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);if(t.idToken&&3===t.idToken.split(".").length){let r=mb(t.idToken),n={id:r.sub,name:r.name,email:r.email,picture:{data:{url:r.picture,height:100,width:100,is_silhouette:!1}}},i=await e.mapProfileToUser?.({...n,email_verified:!0});return{user:{...n,emailVerified:!0,...i},data:r}}let r=["id","name","email","picture",...e?.fields||[]],{data:n,error:i}=await ao("https://graph.facebook.com/me?fields="+r.join(","),{auth:{type:"Bearer",token:t.accessToken}});if(i)return null;let a=await e.mapProfileToUser?.(n);return{user:{id:n.id,name:n.name,email:n.email,image:n.picture.data.url,emailVerified:n.email_verified,...a},data:n}},options:e}),figma:e=>({id:"figma",name:"Figma",async createAuthorizationURL({state:t,scopes:r,codeVerifier:n,redirectURI:i}){if(!e.clientId||!e.clientSecret)throw ra.error("Client Id and Client Secret are required for Figma. Make sure to provide them in the options."),new tq("CLIENT_ID_AND_SECRET_REQUIRED");if(!n)throw new tq("codeVerifier is required for Figma");let a=e.disableDefaultScope?[]:["file_read"];return e.scope&&a.push(...e.scope),r&&a.push(...r),await a2({id:"figma",options:e,authorizationEndpoint:"https://www.figma.com/oauth",scopes:a,state:t,codeVerifier:n,redirectURI:i})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:n})=>a9({code:t,codeVerifier:r,redirectURI:n,options:e,tokenEndpoint:"https://www.figma.com/api/oauth/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>a3({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://www.figma.com/api/oauth/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);try{let{data:r}=await ao("https://api.figma.com/v1/me",{headers:{Authorization:`Bearer ${t.accessToken}`}});if(!r)return ra.error("Failed to fetch user from Figma"),null;let n=await e.mapProfileToUser?.(r);return{user:{id:r.id,name:r.handle,email:r.email,image:r.img_url,emailVerified:!!r.email,...n},data:r}}catch(e){return ra.error("Failed to fetch user info from Figma:",e),null}},options:e}),github:e=>({id:"github",name:"GitHub",createAuthorizationURL({state:t,scopes:r,loginHint:n,redirectURI:i}){let a=e.disableDefaultScope?[]:["read:user","user:email"];return e.scope&&a.push(...e.scope),r&&a.push(...r),a2({id:"github",options:e,authorizationEndpoint:"https://github.com/login/oauth/authorize",scopes:a,state:t,redirectURI:i,loginHint:n,prompt:e.prompt})},validateAuthorizationCode:async({code:t,redirectURI:r})=>a9({code:t,redirectURI:r,options:e,tokenEndpoint:"https://github.com/login/oauth/access_token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>a3({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://github.com/login/oauth/access_token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:n}=await ao("https://api.github.com/user",{headers:{"User-Agent":"better-auth",authorization:`Bearer ${t.accessToken}`}});if(n)return null;let{data:i}=await ao("https://api.github.com/user/emails",{headers:{Authorization:`Bearer ${t.accessToken}`,"User-Agent":"better-auth"}});!r.email&&i&&(r.email=(i.find(e=>e.primary)??i[0])?.email);let a=i?.find(e=>e.email===r.email)?.verified??!1,s=await e.mapProfileToUser?.(r);return{user:{id:r.id,name:r.name||r.login,email:r.email,image:r.avatar_url,emailVerified:a,...s},data:r}},options:e}),microsoft:e=>{let t=e.tenantId||"common",r=e.authority||"https://login.microsoftonline.com",n=`${r}/${t}/oauth2/v2.0/authorize`,i=`${r}/${t}/oauth2/v2.0/token`;return{id:"microsoft",name:"Microsoft EntraID",createAuthorizationURL(t){let r=e.disableDefaultScope?[]:["openid","profile","email","User.Read","offline_access"];return e.scope&&r.push(...e.scope),t.scopes&&r.push(...t.scopes),a2({id:"microsoft",options:e,authorizationEndpoint:n,state:t.state,codeVerifier:t.codeVerifier,scopes:r,redirectURI:t.redirectURI,prompt:e.prompt,loginHint:t.loginHint})},validateAuthorizationCode:({code:t,codeVerifier:r,redirectURI:n})=>a9({code:t,codeVerifier:r,redirectURI:n,options:e,tokenEndpoint:i}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);if(!t.idToken)return null;let r=mb(t.idToken),n=e.profilePhotoSize||48;await ao(`https://graph.microsoft.com/v1.0/me/photos/${n}x${n}/$value`,{headers:{Authorization:`Bearer ${t.accessToken}`},async onResponse(t){if(!e.disableProfilePhoto&&t.response.ok)try{let e=t.response.clone(),n=await e.arrayBuffer(),i=ru.encode(n);r.picture=`data:image/jpeg;base64, ${i}`}catch(e){ra.error(e&&"object"==typeof e&&"name"in e?e.name:"",e)}}});let i=await e.mapProfileToUser?.(r);return{user:{id:r.sub,name:r.name,email:r.email,image:r.picture,emailVerified:!0,...i},data:r}},refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>{let r=e.disableDefaultScope?[]:["openid","profile","email","User.Read","offline_access"];return e.scope&&r.push(...e.scope),a3({refreshToken:t,options:{clientId:e.clientId,clientSecret:e.clientSecret},extraParams:{scope:r.join(" ")},tokenEndpoint:i})},options:e}},google:e=>({id:"google",name:"Google",async createAuthorizationURL({state:t,scopes:r,codeVerifier:n,redirectURI:i,loginHint:a,display:s}){if(!e.clientId||!e.clientSecret)throw ra.error("Client Id and Client Secret is required for Google. Make sure to provide them in the options."),new tq("CLIENT_ID_AND_SECRET_REQUIRED");if(!n)throw new tq("codeVerifier is required for Google");let o=e.disableDefaultScope?[]:["email","profile","openid"];return e.scope&&o.push(...e.scope),r&&o.push(...r),await a2({id:"google",options:e,authorizationEndpoint:"https://accounts.google.com/o/oauth2/auth",scopes:o,state:t,codeVerifier:n,redirectURI:i,prompt:e.prompt,accessType:e.accessType,display:s||e.display,loginHint:a,hd:e.hd,additionalParams:{include_granted_scopes:"true"}})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:n})=>a9({code:t,codeVerifier:r,redirectURI:n,options:e,tokenEndpoint:"https://oauth2.googleapis.com/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>a3({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://www.googleapis.com/oauth2/v4/token"}),async verifyIdToken(t,r){if(e.disableIdTokenSignIn)return!1;if(e.verifyIdToken)return e.verifyIdToken(t,r);let n=`https://www.googleapis.com/oauth2/v3/tokeninfo?id_token=${t}`,{data:i}=await ao(n);return!!i&&i.aud===e.clientId&&("https://accounts.google.com"===i.iss||"accounts.google.com"===i.iss)},async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);if(!t.idToken)return null;let r=mb(t.idToken),n=await e.mapProfileToUser?.(r);return{user:{id:r.sub,name:r.name,email:r.email,image:r.picture,emailVerified:r.email_verified,...n},data:r}},options:e}),huggingface:e=>({id:"huggingface",name:"Hugging Face",createAuthorizationURL({state:t,scopes:r,codeVerifier:n,redirectURI:i}){let a=e.disableDefaultScope?[]:["openid","profile","email"];return e.scope&&a.push(...e.scope),r&&a.push(...r),a2({id:"huggingface",options:e,authorizationEndpoint:"https://huggingface.co/oauth/authorize",scopes:a,state:t,codeVerifier:n,redirectURI:i})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:n})=>a9({code:t,codeVerifier:r,redirectURI:n,options:e,tokenEndpoint:"https://huggingface.co/oauth/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>a3({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://huggingface.co/oauth/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:n}=await ao("https://huggingface.co/oauth/userinfo",{method:"GET",headers:{Authorization:`Bearer ${t.accessToken}`}});if(n)return null;let i=await e.mapProfileToUser?.(r);return{user:{id:r.sub,name:r.name||r.preferred_username,email:r.email,image:r.picture,emailVerified:r.email_verified??!1,...i},data:r}},options:e}),slack:e=>({id:"slack",name:"Slack",createAuthorizationURL({state:t,scopes:r,redirectURI:n}){let i=e.disableDefaultScope?[]:["openid","profile","email"];r&&i.push(...r),e.scope&&i.push(...e.scope);let a=new URL("https://slack.com/openid/connect/authorize");return a.searchParams.set("scope",i.join(" ")),a.searchParams.set("response_type","code"),a.searchParams.set("client_id",e.clientId),a.searchParams.set("redirect_uri",e.redirectURI||n),a.searchParams.set("state",t),a},validateAuthorizationCode:async({code:t,redirectURI:r})=>a9({code:t,redirectURI:r,options:e,tokenEndpoint:"https://slack.com/api/openid.connect.token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>a3({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://slack.com/api/openid.connect.token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:n}=await ao("https://slack.com/api/openid.connect.userInfo",{headers:{authorization:`Bearer ${t.accessToken}`}});if(n)return null;let i=await e.mapProfileToUser?.(r);return{user:{id:r["https://slack.com/user_id"],name:r.name||"",email:r.email,emailVerified:r.email_verified,image:r.picture||r["https://slack.com/user_image_512"],...i},data:r}},options:e}),spotify:e=>({id:"spotify",name:"Spotify",createAuthorizationURL({state:t,scopes:r,codeVerifier:n,redirectURI:i}){let a=e.disableDefaultScope?[]:["user-read-email"];return e.scope&&a.push(...e.scope),r&&a.push(...r),a2({id:"spotify",options:e,authorizationEndpoint:"https://accounts.spotify.com/authorize",scopes:a,state:t,codeVerifier:n,redirectURI:i})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:n})=>a9({code:t,codeVerifier:r,redirectURI:n,options:e,tokenEndpoint:"https://accounts.spotify.com/api/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>a3({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://accounts.spotify.com/api/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:n}=await ao("https://api.spotify.com/v1/me",{method:"GET",headers:{Authorization:`Bearer ${t.accessToken}`}});if(n)return null;let i=await e.mapProfileToUser?.(r);return{user:{id:r.id,name:r.display_name,email:r.email,image:r.images[0]?.url,emailVerified:!1,...i},data:r}},options:e}),twitch:e=>({id:"twitch",name:"Twitch",createAuthorizationURL({state:t,scopes:r,redirectURI:n}){let i=e.disableDefaultScope?[]:["user:read:email","openid"];return e.scope&&i.push(...e.scope),r&&i.push(...r),a2({id:"twitch",redirectURI:n,options:e,authorizationEndpoint:"https://id.twitch.tv/oauth2/authorize",scopes:i,state:t,claims:e.claims||["email","email_verified","preferred_username","picture"]})},validateAuthorizationCode:async({code:t,redirectURI:r})=>a9({code:t,redirectURI:r,options:e,tokenEndpoint:"https://id.twitch.tv/oauth2/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>a3({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://id.twitch.tv/oauth2/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let r=t.idToken;if(!r)return ra.error("No idToken found in token"),null;let n=mb(r),i=await e.mapProfileToUser?.(n);return{user:{id:n.sub,name:n.preferred_username,email:n.email,image:n.picture,emailVerified:n.email_verified,...i},data:n}},options:e}),twitter:e=>({id:"twitter",name:"Twitter",createAuthorizationURL(t){let r=e.disableDefaultScope?[]:["users.read","tweet.read","offline.access","users.email"];return e.scope&&r.push(...e.scope),t.scopes&&r.push(...t.scopes),a2({id:"twitter",options:e,authorizationEndpoint:"https://x.com/i/oauth2/authorize",scopes:r,state:t.state,codeVerifier:t.codeVerifier,redirectURI:t.redirectURI})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:n})=>a9({code:t,codeVerifier:r,authentication:"basic",redirectURI:n,options:e,tokenEndpoint:"https://api.x.com/2/oauth2/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>a3({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},authentication:"basic",tokenEndpoint:"https://api.x.com/2/oauth2/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:n}=await ao("https://api.x.com/2/users/me?user.fields=profile_image_url",{method:"GET",headers:{Authorization:`Bearer ${t.accessToken}`}});if(n)return null;let{data:i,error:a}=await ao("https://api.x.com/2/users/me?user.fields=confirmed_email",{method:"GET",headers:{Authorization:`Bearer ${t.accessToken}`}}),s=!1;!a&&i?.data?.confirmed_email&&(r.data.email=i.data.confirmed_email,s=!0);let o=await e.mapProfileToUser?.(r);return{user:{id:r.data.id,name:r.data.name,email:r.data.email||r.data.username||null,image:r.data.profile_image_url,emailVerified:s,...o},data:r}},options:e}),dropbox:e=>({id:"dropbox",name:"Dropbox",createAuthorizationURL:async({state:t,scopes:r,codeVerifier:n,redirectURI:i})=>{let a=e.disableDefaultScope?[]:["account_info.read"];e.scope&&a.push(...e.scope),r&&a.push(...r);let s={};return e.accessType&&(s.token_access_type=e.accessType),await a2({id:"dropbox",options:e,authorizationEndpoint:"https://www.dropbox.com/oauth2/authorize",scopes:a,state:t,redirectURI:i,codeVerifier:n,additionalParams:s})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:n})=>await a9({code:t,codeVerifier:r,redirectURI:n,options:e,tokenEndpoint:"https://api.dropboxapi.com/oauth2/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>a3({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://api.dropbox.com/oauth2/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:n}=await ao("https://api.dropboxapi.com/2/users/get_current_account",{method:"POST",headers:{Authorization:`Bearer ${t.accessToken}`}});if(n)return null;let i=await e.mapProfileToUser?.(r);return{user:{id:r.account_id,name:r.name?.display_name,email:r.email,emailVerified:r.email_verified||!1,image:r.profile_photo_url,...i},data:r}},options:e}),kick:e=>({id:"kick",name:"Kick",createAuthorizationURL({state:t,scopes:r,redirectURI:n,codeVerifier:i}){let a=e.disableDefaultScope?[]:["user:read"];return e.scope&&a.push(...e.scope),r&&a.push(...r),a2({id:"kick",redirectURI:n,options:e,authorizationEndpoint:"https://id.kick.com/oauth/authorize",scopes:a,codeVerifier:i,state:t})},validateAuthorizationCode:async({code:t,redirectURI:r,codeVerifier:n})=>a9({code:t,redirectURI:r,options:e,tokenEndpoint:"https://id.kick.com/oauth/token",codeVerifier:n}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:n}=await ao("https://api.kick.com/public/v1/users",{method:"GET",headers:{Authorization:`Bearer ${t.accessToken}`}});if(n)return null;let i=r.data[0],a=await e.mapProfileToUser?.(i);return{user:{id:i.user_id,name:i.name,email:i.email,image:i.profile_picture,emailVerified:!0,...a},data:i}},options:e}),linear:e=>{let t="https://api.linear.app/oauth/token";return{id:"linear",name:"Linear",createAuthorizationURL({state:t,scopes:r,loginHint:n,redirectURI:i}){let a=e.disableDefaultScope?[]:["read"];return e.scope&&a.push(...e.scope),r&&a.push(...r),a2({id:"linear",options:e,authorizationEndpoint:"https://linear.app/oauth/authorize",scopes:a,state:t,redirectURI:i,loginHint:n})},validateAuthorizationCode:async({code:r,redirectURI:n})=>a9({code:r,redirectURI:n,options:e,tokenEndpoint:t}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async r=>a3({refreshToken:r,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:t}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:n}=await ao("https://api.linear.app/graphql",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.accessToken}`},body:JSON.stringify({query:`
							query {
								viewer {
									id
									name
									email
									avatarUrl
									active
									createdAt
									updatedAt
								}
							}
						`})});if(n||!r?.data?.viewer)return null;let i=r.data.viewer,a=await e.mapProfileToUser?.(i);return{user:{id:r.data.viewer.id,name:r.data.viewer.name,email:r.data.viewer.email,image:r.data.viewer.avatarUrl,emailVerified:!0,...a},data:i}},options:e}},linkedin:e=>{let t="https://www.linkedin.com/oauth/v2/accessToken";return{id:"linkedin",name:"Linkedin",createAuthorizationURL:async({state:t,scopes:r,redirectURI:n,loginHint:i})=>{let a=e.disableDefaultScope?[]:["profile","email","openid"];return e.scope&&a.push(...e.scope),r&&a.push(...r),await a2({id:"linkedin",options:e,authorizationEndpoint:"https://www.linkedin.com/oauth/v2/authorization",scopes:a,state:t,loginHint:i,redirectURI:n})},validateAuthorizationCode:async({code:r,redirectURI:n})=>await a9({code:r,redirectURI:n,options:e,tokenEndpoint:t}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async r=>a3({refreshToken:r,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:t}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:n}=await ao("https://api.linkedin.com/v2/userinfo",{method:"GET",headers:{Authorization:`Bearer ${t.accessToken}`}});if(n)return null;let i=await e.mapProfileToUser?.(r);return{user:{id:r.sub,name:r.name,email:r.email,emailVerified:r.email_verified||!1,image:r.picture,...i},data:r}},options:e}},gitlab:e=>{let t,{authorizationEndpoint:r,tokenEndpoint:n,userinfoEndpoint:i}=(t=e.issuer||"https://gitlab.com",{authorizationEndpoint:mR(`${t}/oauth/authorize`),tokenEndpoint:mR(`${t}/oauth/token`),userinfoEndpoint:mR(`${t}/api/v4/user`)}),a="gitlab";return{id:a,name:"Gitlab",createAuthorizationURL:async({state:t,scopes:n,codeVerifier:i,loginHint:s,redirectURI:o})=>{let l=e.disableDefaultScope?[]:["read_user"];return e.scope&&l.push(...e.scope),n&&l.push(...n),await a2({id:a,options:e,authorizationEndpoint:r,scopes:l,state:t,redirectURI:o,codeVerifier:i,loginHint:s})},validateAuthorizationCode:async({code:t,redirectURI:r,codeVerifier:i})=>a9({code:t,redirectURI:r,options:e,codeVerifier:i,tokenEndpoint:n}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>a3({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:n}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:n}=await ao(i,{headers:{authorization:`Bearer ${t.accessToken}`}});if(n||"active"!==r.state||r.locked)return null;let a=await e.mapProfileToUser?.(r);return{user:{id:r.id,name:r.name??r.username,email:r.email,image:r.avatar_url,emailVerified:!0,...a},data:r}},options:e}},tiktok:e=>({id:"tiktok",name:"TikTok",createAuthorizationURL({state:t,scopes:r,redirectURI:n}){let i=e.disableDefaultScope?[]:["user.info.profile"];return e.scope&&i.push(...e.scope),r&&i.push(...r),new URL(`https://www.tiktok.com/v2/auth/authorize?scope=${i.join(",")}&response_type=code&client_key=${e.clientKey}&redirect_uri=${encodeURIComponent(e.redirectURI||n)}&state=${t}`)},validateAuthorizationCode:async({code:t,redirectURI:r})=>a9({code:t,redirectURI:e.redirectURI||r,options:{clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://open.tiktokapis.com/v2/oauth/token/"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>a3({refreshToken:t,options:{clientSecret:e.clientSecret},tokenEndpoint:"https://open.tiktokapis.com/v2/oauth/token/",authentication:"post",extraParams:{client_key:e.clientKey}}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:n}=await ao("https://open.tiktokapis.com/v2/user/info/?fields=open_id,avatar_large_url,display_name,username",{headers:{authorization:`Bearer ${t.accessToken}`}});return n?null:{user:{email:r.data.user.email||r.data.user.username,id:r.data.user.open_id,name:r.data.user.display_name||r.data.user.username,image:r.data.user.avatar_large_url,emailVerified:!!r.data.user.email},data:r}},options:e}),reddit:e=>({id:"reddit",name:"Reddit",createAuthorizationURL({state:t,scopes:r,redirectURI:n}){let i=e.disableDefaultScope?[]:["identity"];return e.scope&&i.push(...e.scope),r&&i.push(...r),a2({id:"reddit",options:e,authorizationEndpoint:"https://www.reddit.com/api/v1/authorize",scopes:i,state:t,redirectURI:n,duration:e.duration})},validateAuthorizationCode:async({code:t,redirectURI:r})=>{let n=new URLSearchParams({grant_type:"authorization_code",code:t,redirect_uri:e.redirectURI||r}),i={"content-type":"application/x-www-form-urlencoded",accept:"text/plain","user-agent":"better-auth",Authorization:`Basic ${ru.encode(`${e.clientId}:${e.clientSecret}`)}`},{data:a,error:s}=await ao("https://www.reddit.com/api/v1/access_token",{method:"POST",headers:i,body:n.toString()});if(s)throw s;return a4(a)},refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>a3({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},authentication:"basic",tokenEndpoint:"https://www.reddit.com/api/v1/access_token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:n}=await ao("https://oauth.reddit.com/api/v1/me",{headers:{Authorization:`Bearer ${t.accessToken}`,"User-Agent":"better-auth"}});if(n)return null;let i=await e.mapProfileToUser?.(r);return{user:{id:r.id,name:r.name,email:r.oauth_client_id,emailVerified:r.has_verified_email,image:r.icon_img?.split("?")[0],...i},data:r}},options:e}),roblox:e=>({id:"roblox",name:"Roblox",createAuthorizationURL({state:t,scopes:r,redirectURI:n}){let i=e.disableDefaultScope?[]:["openid","profile"];return e.scope&&i.push(...e.scope),r&&i.push(...r),new URL(`https://apis.roblox.com/oauth/v1/authorize?scope=${i.join("+")}&response_type=code&client_id=${e.clientId}&redirect_uri=${encodeURIComponent(e.redirectURI||n)}&state=${t}&prompt=${e.prompt||"select_account consent"}`)},validateAuthorizationCode:async({code:t,redirectURI:r})=>a9({code:t,redirectURI:e.redirectURI||r,options:e,tokenEndpoint:"https://apis.roblox.com/oauth/v1/token",authentication:"post"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>a3({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://apis.roblox.com/oauth/v1/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:n}=await ao("https://apis.roblox.com/oauth/v1/userinfo",{headers:{authorization:`Bearer ${t.accessToken}`}});if(n)return null;let i=await e.mapProfileToUser?.(r);return{user:{id:r.sub,name:r.nickname||r.preferred_username||"",image:r.picture,email:r.preferred_username||null,emailVerified:!0,...i},data:{...r}}},options:e}),salesforce:e=>{let t="sandbox"===(e.environment??"production"),r=e.loginUrl?`https://${e.loginUrl}/services/oauth2/authorize`:t?"https://test.salesforce.com/services/oauth2/authorize":"https://login.salesforce.com/services/oauth2/authorize",n=e.loginUrl?`https://${e.loginUrl}/services/oauth2/token`:t?"https://test.salesforce.com/services/oauth2/token":"https://login.salesforce.com/services/oauth2/token",i=e.loginUrl?`https://${e.loginUrl}/services/oauth2/userinfo`:t?"https://test.salesforce.com/services/oauth2/userinfo":"https://login.salesforce.com/services/oauth2/userinfo";return{id:"salesforce",name:"Salesforce",async createAuthorizationURL({state:t,scopes:n,codeVerifier:i,redirectURI:a}){if(!e.clientId||!e.clientSecret)throw ra.error("Client Id and Client Secret are required for Salesforce. Make sure to provide them in the options."),new tq("CLIENT_ID_AND_SECRET_REQUIRED");if(!i)throw new tq("codeVerifier is required for Salesforce");let s=e.disableDefaultScope?[]:["openid","email","profile"];return e.scope&&s.push(...e.scope),n&&s.push(...n),a2({id:"salesforce",options:e,authorizationEndpoint:r,scopes:s,state:t,codeVerifier:i,redirectURI:e.redirectURI||a})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:i})=>a9({code:t,codeVerifier:r,redirectURI:e.redirectURI||i,options:e,tokenEndpoint:n}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>a3({refreshToken:t,options:{clientId:e.clientId,clientSecret:e.clientSecret},tokenEndpoint:n}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);try{let{data:r}=await ao(i,{headers:{Authorization:`Bearer ${t.accessToken}`}});if(!r)return ra.error("Failed to fetch user info from Salesforce"),null;let n=await e.mapProfileToUser?.(r);return{user:{id:r.user_id,name:r.name,email:r.email,image:r.photos?.picture||r.photos?.thumbnail,emailVerified:r.email_verified??!1,...n},data:r}}catch(e){return ra.error("Failed to fetch user info from Salesforce:",e),null}},options:e}},vk:e=>({id:"vk",name:"VK",async createAuthorizationURL({state:t,scopes:r,codeVerifier:n,redirectURI:i}){let a=e.disableDefaultScope?[]:["email","phone"];return e.scope&&a.push(...e.scope),r&&a.push(...r),a2({id:"vk",options:e,authorizationEndpoint:"https://id.vk.com/authorize",scopes:a,state:t,redirectURI:i,codeVerifier:n})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:n,deviceId:i})=>a9({code:t,codeVerifier:r,redirectURI:e.redirectURI||n,options:e,deviceId:i,tokenEndpoint:"https://id.vk.com/oauth2/auth"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>a3({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://id.vk.com/oauth2/auth"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);if(!t.accessToken)return null;let r=new URLSearchParams({access_token:t.accessToken,client_id:e.clientId}).toString(),{data:n,error:i}=await ao("https://id.vk.com/oauth2/user_info",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:r});if(i||!n.user.email)return null;let a=await e.mapProfileToUser?.(n);return{user:{id:n.user.user_id,first_name:n.user.first_name,last_name:n.user.last_name,email:n.user.email,image:n.user.avatar,emailVerified:!!n.user.email,birthday:n.user.birthday,sex:n.user.sex,name:`${n.user.first_name} ${n.user.last_name}`,...a},data:n}},options:e}),zoom:e=>{let t={pkce:!0,...e};return{id:"zoom",name:"Zoom",createAuthorizationURL:async({state:e,redirectURI:r,codeVerifier:n})=>{let i=new URLSearchParams({response_type:"code",redirect_uri:t.redirectURI?t.redirectURI:r,client_id:t.clientId,state:e});if(t.pkce){let e=await a6(n);i.set("code_challenge_method","S256"),i.set("code_challenge",e)}let a=new URL("https://zoom.us/oauth/authorize");return a.search=i.toString(),a},validateAuthorizationCode:async({code:e,redirectURI:r,codeVerifier:n})=>a9({code:e,redirectURI:t.redirectURI||r,codeVerifier:n,options:t,tokenEndpoint:"https://zoom.us/oauth/token",authentication:"post"}),async getUserInfo(e){if(t.getUserInfo)return t.getUserInfo(e);let{data:r,error:n}=await ao("https://api.zoom.us/v2/users/me",{headers:{authorization:`Bearer ${e.accessToken}`}});if(n)return null;let i=await t.mapProfileToUser?.(r);return{user:{id:r.id,name:r.display_name,image:r.pic_url,email:r.email,emailVerified:!!r.verified,...i},data:{...r}}}}},notion:e=>{let t="https://api.notion.com/v1/oauth/token";return{id:"notion",name:"Notion",createAuthorizationURL({state:t,scopes:r,loginHint:n,redirectURI:i}){let a=(e.disableDefaultScope,[]);return e.scope&&a.push(...e.scope),r&&a.push(...r),a2({id:"notion",options:e,authorizationEndpoint:"https://api.notion.com/v1/oauth/authorize",scopes:a,state:t,redirectURI:i,loginHint:n,additionalParams:{owner:"user"}})},validateAuthorizationCode:async({code:r,redirectURI:n})=>a9({code:r,redirectURI:n,options:e,tokenEndpoint:t,authentication:"basic"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async r=>a3({refreshToken:r,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:t}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:n}=await ao("https://api.notion.com/v1/users/me",{headers:{Authorization:`Bearer ${t.accessToken}`,"Notion-Version":"2022-06-28"}});if(n||!r)return null;let i=r.bot?.owner?.user;if(!i)return null;let a=await e.mapProfileToUser?.(i);return{user:{id:i.id,name:i.name||"Notion User",email:i.person?.email||null,image:i.avatar_url,emailVerified:!!i.person?.email,...a},data:i}},options:e}},kakao:e=>({id:"kakao",name:"Kakao",createAuthorizationURL({state:t,scopes:r,redirectURI:n}){let i=e.disableDefaultScope?[]:["account_email","profile_image","profile_nickname"];return e.scope&&i.push(...e.scope),r&&i.push(...r),a2({id:"kakao",options:e,authorizationEndpoint:"https://kauth.kakao.com/oauth/authorize",scopes:i,state:t,redirectURI:n})},validateAuthorizationCode:async({code:t,redirectURI:r})=>a9({code:t,redirectURI:r,options:e,tokenEndpoint:"https://kauth.kakao.com/oauth/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>a3({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://kauth.kakao.com/oauth/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:n}=await ao("https://kapi.kakao.com/v2/user/me",{headers:{Authorization:`Bearer ${t.accessToken}`}});if(n||!r)return null;let i=await e.mapProfileToUser?.(r),a=r.kakao_account||{},s=a.profile||{};return{user:{id:String(r.id),name:s.nickname||a.name||void 0,email:a.email,image:s.profile_image_url||s.thumbnail_image_url,emailVerified:!!a.is_email_valid&&!!a.is_email_verified,...i},data:r}},options:e}),naver:e=>({id:"naver",name:"Naver",createAuthorizationURL({state:t,scopes:r,redirectURI:n}){let i=e.disableDefaultScope?[]:["profile","email"];return e.scope&&i.push(...e.scope),r&&i.push(...r),a2({id:"naver",options:e,authorizationEndpoint:"https://nid.naver.com/oauth2.0/authorize",scopes:i,state:t,redirectURI:n})},validateAuthorizationCode:async({code:t,redirectURI:r})=>a9({code:t,redirectURI:r,options:e,tokenEndpoint:"https://nid.naver.com/oauth2.0/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>a3({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://nid.naver.com/oauth2.0/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:n}=await ao("https://openapi.naver.com/v1/nid/me",{headers:{Authorization:`Bearer ${t.accessToken}`}});if(n||!r||"00"!==r.resultcode)return null;let i=await e.mapProfileToUser?.(r),a=r.response||{};return{user:{id:a.id,name:a.name||a.nickname,email:a.email,image:a.profile_image,emailVerified:!1,...i},data:r}},options:e}),line:e=>{let t="https://api.line.me/oauth2/v2.1/token";return{id:"line",name:"LINE",async createAuthorizationURL({state:t,scopes:r,codeVerifier:n,redirectURI:i,loginHint:a}){let s=e.disableDefaultScope?[]:["openid","profile","email"];return e.scope&&s.push(...e.scope),r&&s.push(...r),await a2({id:"line",options:e,authorizationEndpoint:"https://access.line.me/oauth2/v2.1/authorize",scopes:s,state:t,codeVerifier:n,redirectURI:i,loginHint:a})},validateAuthorizationCode:async({code:r,codeVerifier:n,redirectURI:i})=>a9({code:r,codeVerifier:n,redirectURI:i,options:e,tokenEndpoint:t}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async r=>a3({refreshToken:r,options:{clientId:e.clientId,clientSecret:e.clientSecret},tokenEndpoint:t}),async verifyIdToken(t,r){if(e.disableIdTokenSignIn)return!1;if(e.verifyIdToken)return e.verifyIdToken(t,r);let n=new URLSearchParams;n.set("id_token",t),n.set("client_id",e.clientId),r&&n.set("nonce",r);let{data:i,error:a}=await ao("https://api.line.me/oauth2/v2.1/verify",{method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},body:n});return!a&&!!i&&i.aud===e.clientId&&(!r||!i.nonce||i.nonce===r)},async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let r=null;if(t.idToken)try{r=mb(t.idToken)}catch{}if(!r){let{data:e}=await ao("https://api.line.me/oauth2/v2.1/userinfo",{headers:{authorization:`Bearer ${t.accessToken}`}});r=e||null}if(!r)return null;let n=await e.mapProfileToUser?.(r),i=r.sub||r.userId,a=r.name||r.displayName,s=r.picture||r.pictureUrl||void 0;return{user:{id:i,name:a,email:r.email,image:s,emailVerified:!1,...n},data:r}},options:e}},paypal:e=>{let t="sandbox"===(e.environment||"sandbox"),r=t?"https://www.sandbox.paypal.com/signin/authorize":"https://www.paypal.com/signin/authorize",n=t?"https://api-m.sandbox.paypal.com/v1/oauth2/token":"https://api-m.paypal.com/v1/oauth2/token",i=t?"https://api-m.sandbox.paypal.com/v1/identity/oauth2/userinfo":"https://api-m.paypal.com/v1/identity/oauth2/userinfo";return{id:"paypal",name:"PayPal",async createAuthorizationURL({state:t,codeVerifier:n,redirectURI:i}){if(!e.clientId||!e.clientSecret)throw ra.error("Client Id and Client Secret is required for PayPal. Make sure to provide them in the options."),new tq("CLIENT_ID_AND_SECRET_REQUIRED");return await a2({id:"paypal",options:e,authorizationEndpoint:r,scopes:[],state:t,codeVerifier:n,redirectURI:i,prompt:e.prompt})},validateAuthorizationCode:async({code:t,redirectURI:r})=>{let i=ru.encode(`${e.clientId}:${e.clientSecret}`);try{let e=await ao(n,{method:"POST",headers:{Authorization:`Basic ${i}`,Accept:"application/json","Accept-Language":"en_US","Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"authorization_code",code:t,redirect_uri:r}).toString()});if(!e.data)throw new tq("FAILED_TO_GET_ACCESS_TOKEN");let a=e.data;return{accessToken:a.access_token,refreshToken:a.refresh_token,accessTokenExpiresAt:a.expires_in?new Date(Date.now()+1e3*a.expires_in):void 0,idToken:a.id_token}}catch(e){throw ra.error("PayPal token exchange failed:",e),new tq("FAILED_TO_GET_ACCESS_TOKEN")}},refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>{let r=ru.encode(`${e.clientId}:${e.clientSecret}`);try{let e=await ao(n,{method:"POST",headers:{Authorization:`Basic ${r}`,Accept:"application/json","Accept-Language":"en_US","Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"refresh_token",refresh_token:t}).toString()});if(!e.data)throw new tq("FAILED_TO_REFRESH_ACCESS_TOKEN");let i=e.data;return{accessToken:i.access_token,refreshToken:i.refresh_token,accessTokenExpiresAt:i.expires_in?new Date(Date.now()+1e3*i.expires_in):void 0}}catch(e){throw ra.error("PayPal token refresh failed:",e),new tq("FAILED_TO_REFRESH_ACCESS_TOKEN")}},async verifyIdToken(t,r){if(e.disableIdTokenSignIn)return!1;if(e.verifyIdToken)return e.verifyIdToken(t,r);try{return!!mb(t).sub}catch(e){return ra.error("Failed to verify PayPal ID token:",e),!1}},async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);if(!t.accessToken)return ra.error("Access token is required to fetch PayPal user info"),null;try{let r=await ao(`${i}?schema=paypalv1.1`,{headers:{Authorization:`Bearer ${t.accessToken}`,Accept:"application/json"}});if(!r.data)return ra.error("Failed to fetch user info from PayPal"),null;let n=r.data,a=await e.mapProfileToUser?.(n);return{user:{id:n.user_id,name:n.name,email:n.email,image:n.picture,emailVerified:n.email_verified,...a},data:n}}catch(e){return ra.error("Failed to fetch user info from PayPal:",e),null}},options:e}}},mU=hs(Object.keys(mP)).or(pN());var mi=mi;let mD=hm(fQ({disableCookieCache:mi.boolean().meta({description:"Disable cookie cache and fetch session from database"}).optional(),disableRefresh:mi.boolean().meta({description:"Disable session refresh. Useful for checking session status, without updating the session"}).optional()})),mC=()=>iG("/get-session",{method:"GET",query:mD,requireHeaders:!0,metadata:{openapi:{description:"Get the current session",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{session:{$ref:"#/components/schemas/Session"},user:{$ref:"#/components/schemas/User"}},required:["session","user"]}}}}}}}},async e=>{try{let t=await e.getSignedCookie(e.context.authCookies.sessionToken.name,e.context.secret);if(!t)return null;let r=e.getCookie(e.context.authCookies.sessionData.name),n=r?mo(rm.decode(rc.decode(r))):null;if(n&&!await rf("SHA-256","base64urlnopad").verify(e.context.secret,JSON.stringify({...n.session,expiresAt:n.expiresAt}),n.signature)){let t=e.context.authCookies.sessionData.name;return e.setCookie(t,"",{maxAge:0}),e.json(null)}let i=await e.getSignedCookie(e.context.authCookies.dontRememberToken.name,e.context.secret);if(n?.session&&e.context.options.session?.cookieCache?.enabled&&!e.query?.disableCookieCache){let t=n.session;if(!(n.expiresAt<Date.now()||t.session.expiresAt<new Date))return e.context.session=t,e.json(t);{let t=e.context.authCookies.sessionData.name;e.setCookie(t,"",{maxAge:0})}}let a=await e.context.internalAdapter.findSession(t);if(e.context.session=a,!a||a.session.expiresAt<new Date)return mg(e),a&&await e.context.internalAdapter.deleteSession(a.session.token),e.json(null);if(i||e.query?.disableRefresh)return e.json(a);let s=e.context.sessionConfig.expiresIn,o=e.context.sessionConfig.updateAge;if(a.session.expiresAt.valueOf()-1e3*s+1e3*o<=Date.now()&&(!e.query?.disableRefresh||!e.context.options.session?.disableSessionRefresh)){let t=await e.context.internalAdapter.updateSession(a.session.token,{expiresAt:ms(e.context.sessionConfig.expiresIn,"sec"),updatedAt:new Date});if(!t)return mg(e),e.json(null,{status:401});let r=(t.expiresAt.valueOf()-Date.now())/1e3;return await mm(e,{session:t,user:a.user},!1,{maxAge:r}),e.json({session:t,user:a.user})}return await mh(e,a,!!i),e.json(a)}catch(t){throw e.context.logger.error("INTERNAL_SERVER_ERROR",t),new rk("INTERNAL_SERVER_ERROR",{message:tM.FAILED_TO_GET_SESSION})}}),mj=async(e,t)=>{if(e.context.session)return e.context.session;let r=await mC()({...e,asResponse:!1,headers:e.headers,returnHeaders:!1,query:{...t,...e.query}}).catch(e=>null);return e.context.session=r,r},mL=iK(async e=>{let t=await mj(e);if(!t?.session)throw new rk("UNAUTHORIZED");return{session:t}}),mz=iK(async e=>{let t=await mj(e,{disableCookieCache:!0});if(!t?.session)throw new rk("UNAUTHORIZED");return{session:t}});iK(async e=>{let t=await mj(e);if(!t?.session&&(e.request||e.headers))throw new rk("UNAUTHORIZED");return{session:t}});let mM=iK(async e=>{let t=await mj(e);if(!t?.session)throw new rk("UNAUTHORIZED");if(0===e.context.sessionConfig.freshAge)return{session:t};let r=e.context.sessionConfig.freshAge,n=t.session.updatedAt?.valueOf()||t.session.createdAt.valueOf();if(!(Date.now()-n<1e3*r))throw new rk("FORBIDDEN",{message:"Session is not fresh"});return{session:t}}),mq=iG("/revoke-session",{method:"POST",body:fQ({token:pN().meta({description:"The token to revoke"})}),use:[mz],requireHeaders:!0,metadata:{openapi:{description:"Revoke a single session",requestBody:{content:{"application/json":{schema:{type:"object",properties:{token:{type:"string",description:"The token to revoke"}},required:["token"]}}}},responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if the session was revoked successfully"}},required:["status"]}}}}}}}},async e=>{let t=e.body.token,r=await e.context.internalAdapter.findSession(t);if(!r)throw new rk("BAD_REQUEST",{message:"Session not found"});if(r.session.userId!==e.context.session.user.id)throw new rk("UNAUTHORIZED");try{await e.context.internalAdapter.deleteSession(t)}catch(t){throw e.context.logger.error(t&&"object"==typeof t&&"name"in t?t.name:"",t),new rk("INTERNAL_SERVER_ERROR")}return e.json({status:!0})}),mZ=iG("/revoke-sessions",{method:"POST",use:[mz],requireHeaders:!0,metadata:{openapi:{description:"Revoke all sessions for the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if all sessions were revoked successfully"}},required:["status"]}}}}}}}},async e=>{try{await e.context.internalAdapter.deleteSessions(e.context.session.user.id)}catch(t){throw e.context.logger.error(t&&"object"==typeof t&&"name"in t?t.name:"",t),new rk("INTERNAL_SERVER_ERROR")}return e.json({status:!0})}),mV=iG("/revoke-other-sessions",{method:"POST",requireHeaders:!0,use:[mz],metadata:{openapi:{description:"Revoke all other sessions for the user except the current one",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if all other sessions were revoked successfully"}},required:["status"]}}}}}}}},async e=>{let t=e.context.session;if(!t.user)throw new rk("UNAUTHORIZED");let r=(await e.context.internalAdapter.listSessions(t.user.id)).filter(e=>e.expiresAt>new Date).filter(t=>t.token!==e.context.session.session.token);return await Promise.all(r.map(t=>e.context.internalAdapter.deleteSession(t.token))),e.json({status:!0})}),mF=e=>mv("a-z","A-Z","0-9")(e||32);function mB(e,t){return{digest:async r=>{let n=new TextEncoder,i="string"==typeof r?n.encode(r):r,a=await rp().digest(e,i);return"hex"===t?Array.from(new Uint8Array(a)).map(e=>e.toString(16).padStart(2,"0")).join(""):"base64"===t||"base64url"===t||"base64urlnopad"===t?t.includes("url")?rc.encode(a,{padding:"base64urlnopad"!==t}):ru.encode(a):a}}}let mW=mv("a-z","0-9","A-Z","-_"),mH=new WeakMap;function mK(e,t){let r=t.fields,n={};for(let t in e){let i=r[t];if(!i){n[t]=e[t];continue}!1!==i.returned&&(n[t]=e[t])}return n}function mG(e,t){mH.has(e)||mH.set(e,new Map);let r=mH.get(e);if(r.has(t))return r.get(t);let n={..."user"===t?e.user?.additionalFields:{},..."session"===t?e.session?.additionalFields:{}};for(let r of e.plugins||[])r.schema&&r.schema[t]&&(n={...n,...r.schema[t].fields});return mH.get(e).set(t,n),n}function mJ(e,t){return mK(t,{fields:mG(e,"user")})}function mQ(e,t){return mK(t,{fields:mG(e,"session")})}function mY(e,t={},r){return function(e,t){let r=t.action||"create",n=t.fields,i=Object.assign(Object.create(null),null);for(let t in n){if(t in e){if(!1===n[t].input){if(void 0!==n[t].defaultValue&&"update"!==r){i[t]=n[t].defaultValue;continue}if(e[t])throw new rk("BAD_REQUEST",{message:`${t} is not allowed to be set`});continue}if(n[t].validator?.input&&void 0!==e[t]){i[t]=n[t].validator.input.parse(e[t]);continue}if(n[t].transform?.input&&void 0!==e[t]){i[t]=n[t].transform?.input(e[t]);continue}i[t]=e[t];continue}if(void 0!==n[t].defaultValue&&"create"===r){i[t]=n[t].defaultValue;continue}if(n[t].required&&"create"===r)throw new rk("BAD_REQUEST",{message:`${t} is required`})}return i}(t,{fields:mG(e,"user"),action:r})}var mi=mi;let mX=fQ({id:pN(),createdAt:fW().default(()=>new Date),updatedAt:fW().default(()=>new Date)});function m0(e){if(null===e||"object"!=typeof e)return!1;let t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.iterator in e)&&(!(Symbol.toStringTag in e)||"[object Module]"===Object.prototype.toString.call(e))}function m1(e){return(...t)=>t.reduce((t,r)=>(function e(t,r,n=".",i){if(!m0(r))return e(t,{},n,i);let a=Object.assign({},r);for(let r in t){if("__proto__"===r||"constructor"===r)continue;let s=t[r];null!=s&&(i&&i(a,r,s,n)||(Array.isArray(s)&&Array.isArray(a[r])?a[r]=[...s,...a[r]]:m0(s)&&m0(a[r])?a[r]=e(s,a[r],(n?`${n}.`:"")+r.toString(),i):a[r]=s))}return a})(t,r,"",e),{})}mX.extend({email:pN().transform(e=>e.toLowerCase()),emailVerified:f$().default(!1),name:pN(),image:pN().nullish()}),mX.extend({providerId:pN(),accountId:pN(),userId:mi.string(),accessToken:pN().nullish(),refreshToken:pN().nullish(),idToken:pN().nullish(),accessTokenExpiresAt:fW().nullish(),refreshTokenExpiresAt:fW().nullish(),scope:pN().nullish(),password:pN().nullish()}),mX.extend({userId:mi.string(),expiresAt:fW(),token:pN(),ipAddress:pN().nullish(),userAgent:pN().nullish()}),mX.extend({value:pN(),expiresAt:fW(),identifier:pN()}),fQ({key:pN(),count:fy(),lastRequest:fy()});let m4=m1();function m6(e){if("boolean"!=typeof e)throw Error(`boolean expected, not ${e}`)}function m2(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function m9(e,t,r=""){let n=e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name,i=e?.length,a=void 0!==t;if(!n||a&&i!==t)throw Error((r&&`"${r}" `)+"expected Uint8Array"+(a?` of length ${t}`:"")+", got "+(n?`length=${i}`:`type=${typeof e}`));return e}function m3(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function m5(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function m8(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}m1((e,t,r)=>{if(void 0!==e[t]&&"function"==typeof r)return e[t]=r(e[t]),!0}),m1((e,t,r)=>{if(Array.isArray(e[t])&&"function"==typeof r)return e[t]=r(e[t]),!0});let m7=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0],ge="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,gt=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function gr(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}function gn(e,t,r=!0){if(void 0===t)return new Uint8Array(e);if(t.length!==e)throw Error('"output" expected Uint8Array of length '+e+", got: "+t.length);if(r&&t.byteOffset%4!=0)throw Error("invalid output, must be aligned");return t}function gi(e){return Uint8Array.from(e)}function ga(e=32){let t="object"==typeof globalThis?globalThis.crypto:null;if("function"!=typeof t?.getRandomValues)throw Error("crypto.getRandomValues must be defined");return t.getRandomValues(new Uint8Array(e))}function gs(e,t=ga){let{nonceLength:r}=e;m2(r);let n=(e,t)=>{let r=function(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];m9(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}(e,t);return t.fill(0),r};return(i,...a)=>({encrypt(s){m9(s);let o=t(r),l=e(i,o,...a).encrypt(s);return l instanceof Promise?l.then(e=>n(o,e)):n(o,l)},decrypt(t){m9(t);let n=t.subarray(0,r),s=t.subarray(r);return e(i,n,...a).decrypt(s)}})}let go=e=>Uint8Array.from(e.split(""),e=>e.charCodeAt(0)),gl=go("expand 16-byte k"),gu=go("expand 32-byte k"),gc=m5(gl),gd=m5(gu);function gp(e,t){return e<<t|e>>>32-t}function gf(e){return e.byteOffset%4==0}let gh=0x100000000-1,gm=Uint32Array.of();function gg(e,t){let{allowShortKeys:r,extendNonceFn:n,counterLength:i,counterRight:a,rounds:s}=function(e,t){if(null==t||"object"!=typeof t)throw Error("options must be defined");return Object.assign(e,t)}({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if("function"!=typeof e)throw Error("core must be a function");return m2(i),m2(s),m6(a),m6(r),(t,o,l,u,c=0)=>{let d,p;m9(t,void 0,"key"),m9(o,void 0,"nonce"),m9(l,void 0,"data");let f=l.length;if(void 0===u&&(u=new Uint8Array(f)),m9(u,void 0,"output"),m2(c),c<0||c>=gh)throw Error("arx: counter overflow");if(u.length<f)throw Error(`arx: output (${u.length}) is shorter than data (${f})`);let h=[],m=t.length;if(32===m)h.push(d=gi(t)),p=gd;else if(16===m&&r)(d=new Uint8Array(32)).set(t),d.set(t,16),p=gc,h.push(d);else throw m9(t,32,"arx key"),Error("invalid key size");gf(o)||h.push(o=gi(o));let g=m5(d);if(n){if(24!==o.length)throw Error("arx: extended nonce must be 24 bytes");n(p,g,m5(o.subarray(0,16)),g),o=o.subarray(16)}let y=16-i;if(y!==o.length)throw Error(`arx: nonce must be ${y} or 16 bytes`);if(12!==y){let e=new Uint8Array(12);e.set(o,a?0:12-o.length),o=e,h.push(o)}return!function(e,t,r,n,i,a,s,o){let l=i.length,u=new Uint8Array(64),c=m5(u),d=gf(i)&&gf(a),p=d?m5(i):gm,f=d?m5(a):gm;for(let h=0;h<l;s++){if(e(t,r,n,c,s,o),s>=gh)throw Error("arx: counter overflow");let m=Math.min(64,l-h);if(d&&64===m){let e=h/4;if(h%4!=0)throw Error("arx: invalid block position");for(let t=0,r;t<16;t++)f[r=e+t]=p[r]^c[t];h+=64;continue}for(let e=0,t;e<m;e++)a[t=h+e]=i[t]^u[e];h+=m}}(e,p,g,m5(o),l,u,c,s),m8(...h),u}}function gy(e,t){return 255&e[t++]|(255&e[t++])<<8}class gv{blockLen=16;outputLen=16;buffer=new Uint8Array(16);r=new Uint16Array(10);h=new Uint16Array(10);pad=new Uint16Array(8);pos=0;finished=!1;constructor(e){const t=gy(e=gi(m9(e,32,"key")),0),r=gy(e,2),n=gy(e,4),i=gy(e,6),a=gy(e,8),s=gy(e,10),o=gy(e,12),l=gy(e,14);this.r[0]=8191&t,this.r[1]=(t>>>13|r<<3)&8191,this.r[2]=(r>>>10|n<<6)&7939,this.r[3]=(n>>>7|i<<9)&8191,this.r[4]=(i>>>4|a<<12)&255,this.r[5]=a>>>1&8190,this.r[6]=(a>>>14|s<<2)&8191,this.r[7]=(s>>>11|o<<5)&8065,this.r[8]=(o>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let t=0;t<8;t++)this.pad[t]=gy(e,16+2*t)}process(e,t,r=!1){let{h:n,r:i}=this,a=i[0],s=i[1],o=i[2],l=i[3],u=i[4],c=i[5],d=i[6],p=i[7],f=i[8],h=i[9],m=gy(e,t+0),g=gy(e,t+2),y=gy(e,t+4),v=gy(e,t+6),b=gy(e,t+8),w=gy(e,t+10),_=gy(e,t+12),x=gy(e,t+14),k=n[0]+(8191&m),E=n[1]+((m>>>13|g<<3)&8191),$=n[2]+((g>>>10|y<<6)&8191),T=n[3]+((y>>>7|v<<9)&8191),S=n[4]+((v>>>4|b<<12)&8191),I=n[5]+(b>>>1&8191),A=n[6]+((b>>>14|w<<2)&8191),O=n[7]+((w>>>11|_<<5)&8191),N=n[8]+((_>>>8|x<<8)&8191),R=n[9]+(x>>>5|2048*!r),P=0,U=0+k*a+5*h*E+5*f*$+5*p*T+5*d*S;P=U>>>13,U&=8191,U+=5*c*I+5*u*A+5*l*O+5*o*N+5*s*R,P+=U>>>13,U&=8191;let D=P+k*s+E*a+5*h*$+5*f*T+5*p*S;P=D>>>13,D&=8191,D+=5*d*I+5*c*A+5*u*O+5*l*N+5*o*R,P+=D>>>13,D&=8191;let C=P+k*o+E*s+$*a+5*h*T+5*f*S;P=C>>>13,C&=8191,C+=5*p*I+5*d*A+5*c*O+5*u*N+5*l*R,P+=C>>>13,C&=8191;let j=P+k*l+E*o+$*s+T*a+5*h*S;P=j>>>13,j&=8191,j+=5*f*I+5*p*A+5*d*O+5*c*N+5*u*R,P+=j>>>13,j&=8191;let L=P+k*u+E*l+$*o+T*s+S*a;P=L>>>13,L&=8191,L+=5*h*I+5*f*A+5*p*O+5*d*N+5*c*R,P+=L>>>13,L&=8191;let z=P+k*c+E*u+$*l+T*o+S*s;P=z>>>13,z&=8191,z+=I*a+5*h*A+5*f*O+5*p*N+5*d*R,P+=z>>>13,z&=8191;let M=P+k*d+E*c+$*u+T*l+S*o;P=M>>>13,M&=8191,M+=I*s+A*a+5*h*O+5*f*N+5*p*R,P+=M>>>13,M&=8191;let q=P+k*p+E*d+$*c+T*u+S*l;P=q>>>13,q&=8191,q+=I*o+A*s+O*a+5*h*N+5*f*R,P+=q>>>13,q&=8191;let Z=P+k*f+E*p+$*d+T*c+S*u;P=Z>>>13,Z&=8191,Z+=I*l+A*o+O*s+N*a+5*h*R,P+=Z>>>13,Z&=8191;let V=P+k*h+E*f+$*p+T*d+S*c;P=V>>>13,V&=8191,V+=I*u+A*l+O*o+N*s+R*a,P+=V>>>13,V&=8191,U=8191&(P=(P=(P<<2)+P|0)+U|0),P>>>=13,D+=P,n[0]=U,n[1]=D,n[2]=C,n[3]=j,n[4]=L,n[5]=z,n[6]=M,n[7]=q,n[8]=Z,n[9]=V}finalize(){let{h:e,pad:t}=this,r=new Uint16Array(10),n=e[1]>>>13;e[1]&=8191;for(let t=2;t<10;t++)e[t]+=n,n=e[t]>>>13,e[t]&=8191;e[0]+=5*n,n=e[0]>>>13,e[0]&=8191,e[1]+=n,n=e[1]>>>13,e[1]&=8191,e[2]+=n,r[0]=e[0]+5,n=r[0]>>>13,r[0]&=8191;for(let t=1;t<10;t++)r[t]=e[t]+n,n=r[t]>>>13,r[t]&=8191;r[9]-=8192;let i=(1^n)-1;for(let e=0;e<10;e++)r[e]&=i;i=~i;for(let t=0;t<10;t++)e[t]=e[t]&i|r[t];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let a=e[0]+t[0];e[0]=65535&a;for(let r=1;r<8;r++)a=(e[r]+t[r]|0)+(a>>>16)|0,e[r]=65535&a;m8(r)}update(e){m3(this),m9(e);let{buffer:t,blockLen:r}=this,n=(e=gi(e)).length;for(let i=0;i<n;){let a=Math.min(r-this.pos,n-i);if(a===r){for(;r<=n-i;i+=r)this.process(e,i);continue}t.set(e.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===r&&(this.process(t,0,!1),this.pos=0)}return this}destroy(){m8(this.h,this.r,this.buffer,this.pad)}digestInto(e){m3(this);m9(e,void 0,"output");let t=this.outputLen;if(e.length<t)throw Error("digestInto() expects output buffer of length at least "+t);this.finished=!0;let{buffer:r,h:n}=this,{pos:i}=this;if(i){for(r[i++]=1;i<16;i++)r[i]=0;this.process(r,0,!0)}this.finalize();let a=0;for(let t=0;t<8;t++)e[a++]=n[t]>>>0,e[a++]=n[t]>>>8;return e}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}}let gb=(z=e=>new gv(e),(d=(e,t)=>z(t).update(e).digest()).outputLen=(p=z(new Uint8Array(32))).outputLen,d.blockLen=p.blockLen,d.create=e=>z(e),d);function gw(e,t,r,n,i,a=20){let s=e[0],o=e[1],l=e[2],u=e[3],c=t[0],d=t[1],p=t[2],f=t[3],h=t[4],m=t[5],g=t[6],y=t[7],v=r[0],b=r[1],w=r[2],_=s,x=o,k=l,E=u,$=c,T=d,S=p,I=f,A=h,O=m,N=g,R=y,P=i,U=v,D=b,C=w;for(let e=0;e<a;e+=2)A=A+(P=gp(P^(_=_+$|0),16))|0,_=_+($=gp($^A,12))|0,A=A+(P=gp(P^_,8))|0,$=gp($^A,7),O=O+(U=gp(U^(x=x+T|0),16))|0,x=x+(T=gp(T^O,12))|0,O=O+(U=gp(U^x,8))|0,T=gp(T^O,7),N=N+(D=gp(D^(k=k+S|0),16))|0,k=k+(S=gp(S^N,12))|0,N=N+(D=gp(D^k,8))|0,S=gp(S^N,7),R=R+(C=gp(C^(E=E+I|0),16))|0,E=E+(I=gp(I^R,12))|0,R=R+(C=gp(C^E,8))|0,I=gp(I^R,7),N=N+(C=gp(C^(_=_+T|0),16))|0,_=_+(T=gp(T^N,12))|0,N=N+(C=gp(C^_,8))|0,T=gp(T^N,7),R=R+(P=gp(P^(x=x+S|0),16))|0,x=x+(S=gp(S^R,12))|0,R=R+(P=gp(P^x,8))|0,S=gp(S^R,7),A=A+(U=gp(U^(k=k+I|0),16))|0,k=k+(I=gp(I^A,12))|0,A=A+(U=gp(U^k,8))|0,I=gp(I^A,7),O=O+(D=gp(D^(E=E+$|0),16))|0,E=E+($=gp($^O,12))|0,O=O+(D=gp(D^E,8))|0,$=gp($^O,7);let j=0;n[j++]=s+_|0,n[j++]=o+x|0,n[j++]=l+k|0,n[j++]=u+E|0,n[j++]=c+$|0,n[j++]=d+T|0,n[j++]=p+S|0,n[j++]=f+I|0,n[j++]=h+A|0,n[j++]=m+O|0,n[j++]=g+N|0,n[j++]=y+R|0,n[j++]=i+P|0,n[j++]=v+U|0,n[j++]=b+D|0,n[j++]=w+C|0}let g_=gg(gw,{counterRight:!1,counterLength:4,allowShortKeys:!1}),gx=gg(gw,{counterRight:!1,counterLength:8,extendNonceFn:function(e,t,r,n){let i=e[0],a=e[1],s=e[2],o=e[3],l=t[0],u=t[1],c=t[2],d=t[3],p=t[4],f=t[5],h=t[6],m=t[7],g=r[0],y=r[1],v=r[2],b=r[3];for(let e=0;e<20;e+=2)p=p+(g=gp(g^(i=i+l|0),16))|0,i=i+(l=gp(l^p,12))|0,p=p+(g=gp(g^i,8))|0,l=gp(l^p,7),f=f+(y=gp(y^(a=a+u|0),16))|0,a=a+(u=gp(u^f,12))|0,f=f+(y=gp(y^a,8))|0,u=gp(u^f,7),h=h+(v=gp(v^(s=s+c|0),16))|0,s=s+(c=gp(c^h,12))|0,h=h+(v=gp(v^s,8))|0,c=gp(c^h,7),m=m+(b=gp(b^(o=o+d|0),16))|0,o=o+(d=gp(d^m,12))|0,m=m+(b=gp(b^o,8))|0,d=gp(d^m,7),h=h+(b=gp(b^(i=i+u|0),16))|0,i=i+(u=gp(u^h,12))|0,h=h+(b=gp(b^i,8))|0,u=gp(u^h,7),m=m+(g=gp(g^(a=a+c|0),16))|0,a=a+(c=gp(c^m,12))|0,m=m+(g=gp(g^a,8))|0,c=gp(c^m,7),p=p+(y=gp(y^(s=s+d|0),16))|0,s=s+(d=gp(d^p,12))|0,p=p+(y=gp(y^s,8))|0,d=gp(d^p,7),f=f+(v=gp(v^(o=o+l|0),16))|0,o=o+(l=gp(l^f,12))|0,f=f+(v=gp(v^o,8))|0,l=gp(l^f,7);let w=0;n[w++]=i,n[w++]=a,n[w++]=s,n[w++]=o,n[w++]=g,n[w++]=y,n[w++]=v,n[w++]=b},allowShortKeys:!1}),gk=new Uint8Array(16),gE=(e,t)=>{e.update(t);let r=t.length%16;r&&e.update(gk.subarray(r))},g$=new Uint8Array(32);function gT(e,t,r,n,i){var a,s;let o,l;void 0!==i&&m9(i,void 0,"AAD");let u=e(t,r,g$),c=(a=n.length,s=i?i.length:0,m6(!0),(l=new DataView((o=new Uint8Array(16)).buffer,o.byteOffset,o.byteLength)).setBigUint64(0,BigInt(s),!0),l.setBigUint64(8,BigInt(a),!0),o),d=gb.create(u);i&&gE(d,i),gE(d,n),d.update(c);let p=d.digest();return m8(u,c),p}let gS=e=>(t,r,n)=>({encrypt(i,a){let s=i.length;(a=gn(s+16,a,!1)).set(i);let o=a.subarray(0,-16);e(t,r,o,o,1);let l=gT(e,t,r,o,n);return a.set(l,s),m8(l),a},decrypt(i,a){a=gn(i.length-16,a,!1);let s=i.subarray(0,-16),o=i.subarray(-16),l=gT(e,t,r,s,n);if(!function(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r}(o,l))throw Error("invalid tag");return a.set(i.subarray(0,-16)),e(t,r,a,a,1),m8(l),a}});gS(g_);let gI=((e,t)=>{function r(n,...i){if(m9(n,void 0,"key"),!m7)throw Error("Non little-endian hardware is not yet supported");void 0!==e.nonceLength&&m9(i[0],e.varSizeNonce?void 0:e.nonceLength,"nonce");let a=e.tagLength;a&&void 0!==i[1]&&m9(i[1],void 0,"AAD");let s=t(n,...i),o=(e,t)=>{if(void 0!==t){if(2!==e)throw Error("cipher output not supported");m9(t,void 0,"output")}},l=!1;return{encrypt(e,t){if(l)throw Error("cannot encrypt() twice with same key + nonce");return l=!0,m9(e),o(s.encrypt.length,t),s.encrypt(e,t)},decrypt(e,t){if(m9(e),a&&e.length<a)throw Error('"ciphertext" expected length bigger than tagLength='+a);return o(s.decrypt.length,t),s.decrypt(e,t)}}}return Object.assign(r,e),r})({blockSize:64,nonceLength:24,tagLength:16},gS(gx));async function gA(e,t,r){let n=await aR(e,t,"sign");return aS(e,n),new Uint8Array(await crypto.subtle.sign(aT(e,n.algorithm),n,r))}class gO{#n;#g;#y;constructor(e){if(!(e instanceof Uint8Array))throw TypeError("payload must be an instance of Uint8Array");this.#n=e}setProtectedHeader(e){if(this.#g)throw TypeError("setProtectedHeader can only be called once");return this.#g=e,this}setUnprotectedHeader(e){if(this.#y)throw TypeError("setUnprotectedHeader can only be called once");return this.#y=e,this}async sign(e,t){let r,n,i,a;if(!this.#g&&!this.#y)throw new ab("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!aU(this.#g,this.#y))throw new ab("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let s={...this.#g,...this.#y},o=aV(ab,new Map([["b64",!0]]),t?.crit,this.#g,s),l=!0;if(o.has("b64")&&"boolean"!=typeof(l=this.#g.b64))throw new ab('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:u}=s;if("string"!=typeof u||!u)throw new ab('JWS "alg" (Algorithm) Header Parameter missing or invalid');aZ(u,e,"sign"),l?n=ad(r=af(this.#n)):(n=this.#n,r=""),this.#g?a=ad(i=af(JSON.stringify(this.#g))):(i="",a=new Uint8Array);let c=ac(a,ad("."),n),d=await aW(e,u),p={signature:af(await gA(u,d,c)),payload:r};return this.#y&&(p.header=this.#y),this.#g&&(p.protected=i),p}}class gN{#v;constructor(e){this.#v=new gO(e)}setProtectedHeader(e){return this.#v.setProtectedHeader(e),this}async sign(e,t){let r=await this.#v.sign(e,t);if(void 0===r.payload)throw TypeError("use the flattened module for creating JWS with b64: false");return`${r.protected}.${r.payload}.${r.signature}`}}class gR{#g;#b;constructor(e={}){this.#b=new a0(e)}setIssuer(e){return this.#b.iss=e,this}setSubject(e){return this.#b.sub=e,this}setAudience(e){return this.#b.aud=e,this}setJti(e){return this.#b.jti=e,this}setNotBefore(e){return this.#b.nbf=e,this}setExpirationTime(e){return this.#b.exp=e,this}setIssuedAt(e){return this.#b.iat=e,this}setProtectedHeader(e){return this.#g=e,this}async sign(e,t){let r=new gN(this.#b.data());if(r.setProtectedHeader(this.#g),Array.isArray(this.#g?.crit)&&this.#g.crit.includes("b64")&&!1===this.#g.b64)throw new aw("JWTs MUST NOT use unencoded payload");return r.sign(e,t)}}function gP(e,t=""){if(!Number.isSafeInteger(e)||e<0){let r=t&&`"${t}" `;throw Error(`${r}expected integer >= 0, got ${e}`)}}function gU(e,t,r=""){let n=e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name,i=e?.length,a=void 0!==t;if(!n||a&&i!==t)throw Error((r&&`"${r}" `)+"expected Uint8Array"+(a?` of length ${t}`:"")+", got "+(n?`length=${i}`:`type=${typeof e}`));return e}function gD(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash must wrapped by utils.createHasher");gP(e.outputLen),gP(e.blockLen)}function gC(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function gj(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function gL(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function gz(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function gM(e,t){return e<<32-t|e>>>t}function gq(e,t){return e<<t|e>>>32-t>>>0}let gZ=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0]?e=>e:function(e){for(let r=0;r<e.length;r++){var t;e[r]=(t=e[r])<<24&0xff000000|t<<8&0xff0000|t>>>8&65280|t>>>24&255}return e},gV="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex;function gF(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}let gB=async()=>{};async function gW(e,t,r){let n=Date.now();for(let i=0;i<e;i++){r(i);let e=Date.now()-n;e>=0&&e<t||(await gB(),n+=e)}}function gH(e,t=""){if("string"==typeof e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}return gU(e,void 0,t)}function gK(e,t){if(void 0!==t&&"[object Object]"!==({}).toString.call(t))throw Error("options must be object or undefined");return Object.assign(e,t)}class gG{oHash;iHash;blockLen;outputLen;finished=!1;destroyed=!1;constructor(e,t){if(gD(e),gU(t,void 0,"key"),this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,n=new Uint8Array(r);n.set(t.length>r?e.create().update(t).digest():t);for(let e=0;e<n.length;e++)n[e]^=54;this.iHash.update(n),this.oHash=e.create();for(let e=0;e<n.length;e++)n[e]^=106;this.oHash.update(n),gL(n)}update(e){return gC(this),this.iHash.update(e),this}digestInto(e){gC(this),gU(e,this.outputLen,"output"),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||=Object.create(Object.getPrototypeOf(this),{});let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:a,outputLen:s}=this;return e.finished=n,e.destroyed=i,e.blockLen=a,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let gJ=(e,t,r)=>new gG(e,t).update(r).digest();function gQ(e,t,r,n){var i;let a,{c:s,dkLen:o,DK:l,PRF:u,PRFSalt:c}=function(e,t,r,n){gD(e);let{c:i,dkLen:a,asyncTick:s}=gK({dkLen:32,asyncTick:10},n);if(gP(i,"c"),gP(a,"dkLen"),gP(s,"asyncTick"),i<1)throw Error("iterations (c) must be >= 1");let o=gH(t,"password"),l=gH(r,"salt"),u=new Uint8Array(a),c=gJ.create(e,o),d=c._cloneInto().update(l);return{c:i,dkLen:a,asyncTick:s,DK:u,PRF:c,PRFSalt:d}}(e,t,r,n),d=new Uint8Array(4),p=gz(d),f=new Uint8Array(u.outputLen);for(let e=1,t=0;t<o;e++,t+=u.outputLen){let r=l.subarray(t,t+u.outputLen);p.setInt32(0,e,!1),(a=c._cloneInto(a)).update(d).digestInto(f),r.set(f.subarray(0,r.length));for(let e=1;e<s;e++){u._cloneInto(a).update(f).digestInto(f);for(let e=0;e<r.length;e++)r[e]^=f[e]}}return i=a,u.destroy(),c.destroy(),i&&i.destroy(),gL(f),l}gJ.create=(e,t)=>new gG(e,t);class gY{blockLen;outputLen;padOffset;isLE;buffer;view;finished=!1;length=0;pos=0;destroyed=!1;constructor(e,t,r,n){this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.buffer=new Uint8Array(e),this.view=gz(this.buffer)}update(e){gC(this),gU(e);let{view:t,buffer:r,blockLen:n}=this,i=e.length;for(let a=0;a<i;){let s=Math.min(n-this.pos,i-a);if(s===n){let t=gz(e);for(;n<=i-a;a+=n)this.process(t,a);continue}r.set(e.subarray(a,a+s),this.pos),this.pos+=s,a+=s,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){gC(this);gU(e,void 0,"digestInto() output");let t=this.outputLen;if(e.length<t)throw Error('"digestInto() output" expected to be of length >='+t);this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:a}=this,{pos:s}=this;r[s++]=128,gL(this.buffer.subarray(s)),this.padOffset>i-s&&(this.process(n,0),s=0);for(let e=s;e<i;e++)r[e]=0;n.setBigUint64(i-8,BigInt(8*this.length),a),this.process(n,0);let o=gz(e),l=this.outputLen;if(l%4)throw Error("_sha2: outputLen must be aligned to 32bit");let u=l/4,c=this.get();if(u>c.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<u;e++)o.setUint32(4*e,c[e],a)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){(e||=new this.constructor).set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:a,pos:s}=this;return e.destroyed=a,e.finished=i,e.length=n,e.pos=s,n%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}}let gX=Uint32Array.from([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),g0=Uint32Array.from([0xc1059ed8,0x367cd507,0x3070dd17,0xf70e5939,0xffc00b31,0x68581511,0x64f98fa7,0xbefa4fa4]),g1=Uint32Array.from([0xcbbb9d5d,0xc1059ed8,0x629a292a,0x367cd507,0x9159015a,0x3070dd17,0x152fecd8,0xf70e5939,0x67332667,0xffc00b31,0x8eb44a87,0x68581511,0xdb0c2e0d,0x64f98fa7,0x47b5481d,0xbefa4fa4]),g4=Uint32Array.from([0x6a09e667,0xf3bcc908,0xbb67ae85,0x84caa73b,0x3c6ef372,0xfe94f82b,0xa54ff53a,0x5f1d36f1,0x510e527f,0xade682d1,0x9b05688c,0x2b3e6c1f,0x1f83d9ab,0xfb41bd6b,0x5be0cd19,0x137e2179]),g6=BigInt(0x100000000-1),g2=BigInt(32),g9=Uint32Array.from([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),g3=new Uint32Array(64);class g5 extends gY{constructor(e){super(64,e,8,!1)}get(){let{A:e,B:t,C:r,D:n,E:i,F:a,G:s,H:o}=this;return[e,t,r,n,i,a,s,o]}set(e,t,r,n,i,a,s,o){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|a,this.G=0|s,this.H=0|o}process(e,t){for(let r=0;r<16;r++,t+=4)g3[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=g3[e-15],r=g3[e-2],n=gM(t,7)^gM(t,18)^t>>>3,i=gM(r,17)^gM(r,19)^r>>>10;g3[e]=i+g3[e-7]+n+g3[e-16]|0}let{A:r,B:n,C:i,D:a,E:s,F:o,G:l,H:u}=this;for(let e=0;e<64;e++){var c,d,p,f;let t=u+(gM(s,6)^gM(s,11)^gM(s,25))+((c=s)&o^~c&l)+g9[e]+g3[e]|0,h=(gM(r,2)^gM(r,13)^gM(r,22))+((d=r)&(p=n)^d&(f=i)^p&f)|0;u=l,l=o,o=s,s=a+t|0,a=i,i=n,n=r,r=t+h|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,a=a+this.D|0,s=s+this.E|0,o=o+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,n,i,a,s,o,l,u)}roundClean(){gL(g3)}destroy(){this.set(0,0,0,0,0,0,0,0),gL(this.buffer)}}class g8 extends g5{A=0|gX[0];B=0|gX[1];C=0|gX[2];D=0|gX[3];E=0|gX[4];F=0|gX[5];G=0|gX[6];H=0|gX[7];constructor(){super(32)}}let g7=function(e,t=!1){let r=e.length,n=new Uint32Array(r),i=new Uint32Array(r);for(let a=0;a<r;a++){let{h:r,l:s}=function(e,t=!1){return t?{h:Number(e&g6),l:Number(e>>g2&g6)}:{h:0|Number(e>>g2&g6),l:0|Number(e&g6)}}(e[a],t);[n[a],i[a]]=[r,s]}return[n,i]}(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),ye=g7[0],yt=g7[1],yr=new Uint32Array(80),yn=new Uint32Array(80),yi=function(e,t={}){let r=(t,r)=>e(r).update(t).digest(),n=e(void 0);return r.outputLen=n.outputLen,r.blockLen=n.blockLen,r.create=t=>e(t),Object.assign(r,t),Object.freeze(r)}(()=>new g8,{oid:Uint8Array.from([6,9,96,134,72,1,101,3,4,2,1])});function ya(e,t,r,n,i,a){let s=e[t++]^r[n++],o=e[t++]^r[n++],l=e[t++]^r[n++],u=e[t++]^r[n++],c=e[t++]^r[n++],d=e[t++]^r[n++],p=e[t++]^r[n++],f=e[t++]^r[n++],h=e[t++]^r[n++],m=e[t++]^r[n++],g=e[t++]^r[n++],y=e[t++]^r[n++],v=e[t++]^r[n++],b=e[t++]^r[n++],w=e[t++]^r[n++],_=e[t++]^r[n++],x=s,k=o,E=l,$=u,T=c,S=d,I=p,A=f,O=h,N=m,R=g,P=y,U=v,D=b,C=w,j=_;for(let e=0;e<8;e+=2)T^=gq(x+U|0,7),O^=gq(T+x|0,9),U^=gq(O+T|0,13),x^=gq(U+O|0,18),N^=gq(S+k|0,7),D^=gq(N+S|0,9),k^=gq(D+N|0,13),S^=gq(k+D|0,18),C^=gq(R+I|0,7),E^=gq(C+R|0,9),I^=gq(E+C|0,13),R^=gq(I+E|0,18),$^=gq(j+P|0,7),A^=gq($+j|0,9),P^=gq(A+$|0,13),j^=gq(P+A|0,18),k^=gq(x+$|0,7),E^=gq(k+x|0,9),$^=gq(E+k|0,13),x^=gq($+E|0,18),I^=gq(S+T|0,7),A^=gq(I+S|0,9),T^=gq(A+I|0,13),S^=gq(T+A|0,18),P^=gq(R+N|0,7),O^=gq(P+R|0,9),N^=gq(O+P|0,13),R^=gq(N+O|0,18),U^=gq(j+C|0,7),D^=gq(U+j|0,9),C^=gq(D+U|0,13),j^=gq(C+D|0,18);i[a++]=s+x|0,i[a++]=o+k|0,i[a++]=l+E|0,i[a++]=u+$|0,i[a++]=c+T|0,i[a++]=d+S|0,i[a++]=p+I|0,i[a++]=f+A|0,i[a++]=h+O|0,i[a++]=m+N|0,i[a++]=g+R|0,i[a++]=y+P|0,i[a++]=v+U|0,i[a++]=b+D|0,i[a++]=w+C|0,i[a++]=_+j|0}function ys(e,t,r,n,i){let a=n+0,s=n+16*i;for(let n=0;n<16;n++)r[s+n]=e[t+(2*i-1)*16+n];for(let n=0;n<i;n++,a+=16,t+=16)ya(r,s,e,t,r,a),n>0&&(s+=16),ya(r,a,e,t+=16,r,s)}async function yo(e,t,r){let n,{N:i,r:a,p:s,dkLen:o,blockSize32:l,V:u,B32:c,B:d,tmp:p,blockMixCb:f,asyncTick:h}=function(e,t,r){let{N:n,r:i,p:a,dkLen:s,asyncTick:o,maxmem:l,onProgress:u}=gK({dkLen:32,asyncTick:10,maxmem:0x40000400},r);if(gP(n,"N"),gP(i,"r"),gP(a,"p"),gP(s,"dkLen"),gP(o,"asyncTick"),gP(l,"maxmem"),void 0!==u&&"function"!=typeof u)throw Error("progressCb must be a function");let c=128*i,d=c/4;if(n<=1||(n&n-1)!=0||n>0x100000000)throw Error('"N" expected a power of 2, and 2^1 <= N <= 2^32');if(a<1||a>0x1fffffffe0/c)throw Error('"p" expected integer 1..((2^32 - 1) * 32) / (128 * r)');if(s<1||s>0x1fffffffe0)throw Error('"dkLen" expected integer 1..(2^32 - 1) * 32');if(c*(n+a)>l)throw Error('"maxmem" limit was hit, expected 128*r*(N+p) <= "maxmem"='+l);let p=gQ(yi,e,t,{c:1,dkLen:c*a}),f=gj(p),h=gj(new Uint8Array(c*n)),m=gj(new Uint8Array(c)),g=()=>{};if(u){let e=2*n*a,t=Math.max(Math.floor(e/1e4),1),r=0;g=()=>{r++,u&&(!(r%t)||r===e)&&u(r/e)}}return{N:n,r:i,p:a,dkLen:s,blockSize32:d,V:h,B32:f,B:p,tmp:m,blockMixCb:g,asyncTick:o}}(e,t,r);gZ(c);for(let e=0;e<s;e++){let t=l*e;for(let e=0;e<l;e++)u[e]=c[t+e];let r=0;await gW(i-1,h,()=>{ys(u,r,u,r+=l,a),f()}),ys(u,(i-1)*l,c,t,a),f(),await gW(i,h,()=>{let e=(c[t+l-16]&i-1)>>>0;for(let r=0;r<l;r++)p[r]=c[t+r]^u[e*l+r];ys(p,0,c,t,a),f()})}return gZ(c),n=gQ(yi,e,d,{c:1,dkLen:o}),gL(d,u,p),n}async function yl(e,t,r=3600){return await new gR(e).setProtectedHeader({alg:"HS256"}).setIssuedAt().setExpirationTime(Math.floor(Date.now()/1e3)+r).sign(new TextEncoder().encode(t))}async function yu(e,t){return await yo(e.normalize("NFKC"),t,{N:16384,p:1,r:16,dkLen:64,maxmem:0x4000000})}let yc=async e=>{let t=rd(crypto.getRandomValues(new Uint8Array(16))),r=await yu(e,t);return`${t}:${rd(r)}`},yd=async({hash:e,password:t})=>{let[r,n]=e.split(":");if(!r||!n)throw new tq("Invalid password hash");return function(e,t){let r=new Uint8Array(e),n=new Uint8Array(t),i=r.length^n.length,a=Math.max(r.length,n.length);for(let e=0;e<a;e++)i|=(e<r.length?r[e]:0)^(e<n.length?n[e]:0);return 0===i}(await yu(t,r),function(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(gV)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=gF(e.charCodeAt(i)),a=gF(e.charCodeAt(i+1));if(void 0===r||void 0===a)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+a}return n}(n))},yp=async({key:e,data:t})=>{let r=await mB("SHA-256").digest(e),n=function(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}(t);var i=gs(gI)(new Uint8Array(r)).encrypt(n);if(m9(i),ge)return i.toHex();let a="";for(let e=0;e<i.length;e++)a+=gt[i[e]];return a},yf=async({key:e,data:t})=>{let r=await mB("SHA-256").digest(e),n=function(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(ge)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=gr(e.charCodeAt(i)),a=gr(e.charCodeAt(i+1));if(void 0===r||void 0===a)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+a}return n}(t),i=gs(gI)(new Uint8Array(r));return new TextDecoder().decode(i.decrypt(n))};function yh(e){return"-"===e||"^"===e||"$"===e||"+"===e||"."===e||"("===e||")"===e||"|"===e||"["===e||"]"===e||"{"===e||"}"===e||"*"===e||"?"===e||"\\"===e?`\\${e}`:e}function ym(e,t){if("string"!=typeof t)throw TypeError(`Sample must be a string, but ${typeof t} given`);return e.test(t)}function yg(e,t){if("string"!=typeof e&&!Array.isArray(e))throw TypeError(`The first argument must be a single pattern string or an array of patterns, but ${typeof e} given`);if(("string"==typeof t||"boolean"==typeof t)&&(t={separator:t}),2==arguments.length&&!(void 0===t||"object"==typeof t&&null!==t&&!Array.isArray(t)))throw TypeError(`The second argument must be an options object or a string/boolean separator, but ${typeof t} given`);if("\\"===(t=t||{}).separator)throw Error("\\ is not a valid separator because it is used for escaping. Try setting the separator to `true` instead");let r=function e(t,r=!0){if(Array.isArray(t)){let n=t.map(t=>`^${e(t,r)}$`);return`(?:${n.join("|")})`}let n="",i="",a=".";!0===r?(n="/",i="[/\\\\]",a="[^/\\\\]"):r&&((i=function(e){let t="";for(let r=0;r<e.length;r++)t+=yh(e[r]);return t}(n=r)).length>1?(i=`(?:${i})`,a=`((?!${i}).)`):a=`[^${i}]`);let s=r?`${i}+?`:"",o=r?`${i}*?`:"",l=r?t.split(n):[t],u="";for(let e=0;e<l.length;e++){let t=l[e],n=l[e+1],i="";if(t||!(e>0)){if(r&&(i=e===l.length-1?o:"**"!==n?s:""),r&&"**"===t){i&&(u+=0===e?"":i,u+=`(?:${a}*?${i})*?`);continue}for(let e=0;e<t.length;e++){let r=t[e];"\\"===r?e<t.length-1&&(u+=yh(t[e+1]),e++):"?"===r?u+=a:"*"===r?u+=`${a}*?`:u+=yh(r)}u+=i}}return u}(e,t.separator),n=RegExp(`^${r}$`,t.flags),i=ym.bind(null,n);return i.options=t,i.pattern=e,i.regexp=n,i}let yy=iK(async e=>{if(e.request?.method!=="POST"||!e.request)return;let t=e.request?.headers,r=e.request,{body:n,query:i,context:a}=e;if(function(e){let t=["accept","accept-language","content-language","content-type"],r=["application/x-www-form-urlencoded","multipart/form-data","text/plain"];for(let[n,i]of e.entries())if(!t.includes(n.toLowerCase())||"content-type"===n.toLowerCase()&&!r.includes(i?.split(";")[0]?.trim()?.toLowerCase()||""))return!1;return!0}(t)&&!e.context.skipCSRFCheck)throw new rk("FORBIDDEN",{message:"Invalid request"});let s=t?.get("origin")||t?.get("referer")||"",o=n?.callbackURL||i?.callbackURL,l=n?.redirectTo,u=n?.errorCallbackURL,c=n?.newUserCallbackURL,d=Array.isArray(a.options.trustedOrigins)?a.trustedOrigins:[...a.trustedOrigins,...await a.options.trustedOrigins?.(r)||[]],p=t?.has("cookie"),f=(t,r)=>{if(t&&!d.some(e=>((e,t)=>{if(e.startsWith("/"))return!1;if(t.includes("*")){if(t.includes("://"))return yg(t)(mc(e)||e);let r=mp(e);return!!r&&yg(t)(r)}let r=md(e);return"http:"!==r&&"https:"!==r&&r?e.startsWith(t):t===mc(e)})(t,e)||t?.startsWith("/")&&"origin"!==r&&/^\/(?!\/|\\|%2f|%5c)[\w\-.\+/@]*(?:\?[\w\-.\+/=&%@]*)?$/.test(t)))throw e.context.logger.error(`Invalid ${r}: ${t}`),e.context.logger.info(`If it's a valid URL, please add ${t} to trustedOrigins in your auth config
`,`Current list of trustedOrigins: ${d}`),new rk("FORBIDDEN",{message:`Invalid ${r}`})};if(p&&!e.context.skipCSRFCheck&&!e.context.skipOriginCheck){if(!s||"null"===s)throw new rk("FORBIDDEN",{message:"Missing or null Origin"});f(s,"origin")}o&&f(o,"callbackURL"),l&&f(l,"redirectURL"),u&&f(u,"errorCallbackURL"),c&&f(c,"newUserCallbackURL")}),yv=e=>iK(async t=>{if(!t.request)return;let{context:r}=t,n=e(t),i=Array.isArray(r.options.trustedOrigins)?r.trustedOrigins:[...r.trustedOrigins,...await r.options.trustedOrigins?.(t.request)||[]],a=(e,r)=>{if(e&&!i.some(t=>((e,t)=>{if(e.startsWith("/"))return!1;if(t.includes("*")){if(t.includes("://"))return yg(t)(mc(e)||e);let r=mp(e);return!!r&&yg(t)(r)}let r=md(e);return"http:"!==r&&"https:"!==r&&r?e.startsWith(t):t===mc(e)})(e,t)||e?.startsWith("/")&&"origin"!==r&&/^\/(?!\/|\\|%2f|%5c)[\w\-.\+/@]*(?:\?[\w\-.\+/=&%@]*)?$/.test(e)))throw t.context.logger.error(`Invalid ${r}: ${e}`),t.context.logger.info(`If it's a valid URL, please add ${e} to trustedOrigins in your auth config
`,`Current list of trustedOrigins: ${i}`),new rk("FORBIDDEN",{message:`Invalid ${r}`})};for(let e of Array.isArray(n)?n:[n])a(e,"callbackURL")});async function yb(e,t,r,n=3600){return await yl({email:t.toLowerCase(),updateTo:r},e,n)}async function yw(e,t){if(!e.context.options.emailVerification?.sendVerificationEmail)throw e.context.logger.error("Verification email isn't enabled."),new rk("BAD_REQUEST",{message:"Verification email isn't enabled"});let r=await yb(e.context.secret,t.email,void 0,e.context.options.emailVerification?.expiresIn),n=`${e.context.baseURL}/verify-email?token=${r}&callbackURL=${e.body.callbackURL||"/"}`;await e.context.options.emailVerification.sendVerificationEmail({user:t,url:n,token:r},e.request)}let y_=iG("/send-verification-email",{method:"POST",body:fQ({email:pU().meta({description:"The email to send the verification email to"}),callbackURL:pN().meta({description:"The URL to use for email verification callback"}).optional()}),metadata:{openapi:{description:"Send a verification email to the user",requestBody:{content:{"application/json":{schema:{type:"object",properties:{email:{type:"string",description:"The email to send the verification email to",example:"user@example.com"},callbackURL:{type:"string",description:"The URL to use for email verification callback",example:"https://example.com/callback",nullable:!0}},required:["email"]}}}},responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if the email was sent successfully",example:!0}}}}}},400:{description:"Bad Request",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string",description:"Error message",example:"Verification email isn't enabled"}}}}}}}}}},async e=>{if(!e.context.options.emailVerification?.sendVerificationEmail)throw e.context.logger.error("Verification email isn't enabled."),new rk("BAD_REQUEST",{message:"Verification email isn't enabled"});let{email:t}=e.body,r=await mj(e);if(!r){let r=await e.context.internalAdapter.findUserByEmail(t);return r&&await yw(e,r.user),e.json({status:!0})}if(r?.user.emailVerified)throw new rk("BAD_REQUEST",{message:"You can only send a verification email to an unverified email"});if(r?.user.email!==t)throw new rk("BAD_REQUEST",{message:"You can only send a verification email to your own email"});return await yw(e,r.user),e.json({status:!0})}),yx=iG("/verify-email",{method:"GET",query:fQ({token:pN().meta({description:"The token to verify the email"}),callbackURL:pN().meta({description:"The URL to redirect to after email verification"}).optional()}),use:[yv(e=>e.query.callbackURL)],metadata:{openapi:{description:"Verify the email of the user",parameters:[{name:"token",in:"query",description:"The token to verify the email",required:!0,schema:{type:"string"}},{name:"callbackURL",in:"query",description:"The URL to redirect to after email verification",required:!1,schema:{type:"string"}}],responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{user:{type:"object",properties:{id:{type:"string",description:"User ID"},email:{type:"string",description:"User email"},name:{type:"string",description:"User name"},image:{type:"string",description:"User image URL"},emailVerified:{type:"boolean",description:"Indicates if the user email is verified"},createdAt:{type:"string",description:"User creation date"},updatedAt:{type:"string",description:"User update date"}},required:["id","email","name","image","emailVerified","createdAt","updatedAt"]},status:{type:"boolean",description:"Indicates if the email was verified successfully"}},required:["user","status"]}}}}}}}},async e=>{let t;function r(t){if(e.query.callbackURL){if(e.query.callbackURL.includes("?"))throw e.redirect(`${e.query.callbackURL}&error=${t}`);throw e.redirect(`${e.query.callbackURL}?error=${t}`)}throw new rk("UNAUTHORIZED",{message:t})}let{token:n}=e.query;try{t=await a1(n,new TextEncoder().encode(e.context.secret),{algorithms:["HS256"]})}catch(e){if(e instanceof ag)return r("token_expired");return r("invalid_token")}let i=fQ({email:pN().email(),updateTo:pN().optional()}).parse(t.payload),a=await e.context.internalAdapter.findUserByEmail(i.email);if(!a)return r("user_not_found");if(i.updateTo){let t=await mj(e);if(!t||t.user.email!==i.email){if(e.query.callbackURL)throw e.redirect(`${e.query.callbackURL}?error=unauthorized`);return r("unauthorized")}let n=await e.context.internalAdapter.updateUserByEmail(i.email,{email:i.updateTo,emailVerified:!1},e),a=await yb(e.context.secret,i.updateTo);if(await e.context.options.emailVerification?.sendVerificationEmail?.({user:n,url:`${e.context.baseURL}/verify-email?token=${a}&callbackURL=${e.query.callbackURL||"/"}`,token:a},e.request),await mm(e,{session:t.session,user:{...t.user,email:i.updateTo,emailVerified:!1}}),e.query.callbackURL)throw e.redirect(e.query.callbackURL);return e.json({status:!0,user:{id:n.id,email:n.email,name:n.name,image:n.image,emailVerified:n.emailVerified,createdAt:n.createdAt,updatedAt:n.updatedAt}})}e.context.options.emailVerification?.onEmailVerification&&await e.context.options.emailVerification.onEmailVerification(a.user,e.request);let s=await e.context.internalAdapter.updateUserByEmail(i.email,{emailVerified:!0},e);if(e.context.options.emailVerification?.afterEmailVerification&&await e.context.options.emailVerification.afterEmailVerification(s,e.request),e.context.options.emailVerification?.autoSignInAfterVerification){let t=await mj(e);if(t&&t.user.email===i.email)await mm(e,{session:t.session,user:{...t.user,emailVerified:!0}});else{let t=await e.context.internalAdapter.createSession(a.user.id,e);if(!t)throw new rk("INTERNAL_SERVER_ERROR",{message:"Failed to create session"});await mm(e,{session:t,user:{...a.user,emailVerified:!0}})}}if(e.query.callbackURL)throw e.redirect(e.query.callbackURL);return e.json({status:!0,user:null})}),yk={isAction:!1};async function yE(e,t){let r=e.body?.callbackURL||e.context.options.baseURL;if(!r)throw new rk("BAD_REQUEST",{message:"callbackURL is required"});let n=mW(128),i=mW(32),a=e.context.createAuthCookie("state",{maxAge:3e5});await e.setSignedCookie(a.name,i,e.context.secret,a.attributes);let s=JSON.stringify({callbackURL:r,codeVerifier:n,errorURL:e.body?.errorCallbackURL,newUserURL:e.body?.newUserCallbackURL,link:t,expiresAt:Date.now()+6e5,requestSignUp:e.body?.requestSignUp}),o=new Date;o.setMinutes(o.getMinutes()+10);let l=await e.context.internalAdapter.createVerificationValue({value:s,identifier:i,expiresAt:o},e);if(!l)throw e.context.logger.error("Unable to create verification. Make sure the database adapter is properly working and there is a verification table in the database"),new rk("INTERNAL_SERVER_ERROR",{message:"Unable to create verification"});return{state:l.identifier,codeVerifier:n}}async function y$(e){let t=e.query.state||e.body.state,r=await e.context.internalAdapter.findVerificationValue(t);if(!r){e.context.logger.error("State Mismatch. Verification not found",{state:t});let r=e.context.options.onAPIError?.errorURL||`${e.context.baseURL}/error`;throw e.redirect(`${r}?error=please_restart_the_process`)}let n=fQ({callbackURL:pN(),codeVerifier:pN(),errorURL:pN().optional(),newUserURL:pN().optional(),expiresAt:fy(),link:fQ({email:pN(),userId:mi.string()}).optional(),requestSignUp:f$().optional()}).parse(JSON.parse(r.value));n.errorURL||(n.errorURL=`${e.context.baseURL}/error`);let i=e.context.createAuthCookie("state"),a=await e.getSignedCookie(i.name,e.context.secret);if(!e.context.oauthConfig?.skipStateCookieCheck&&(!a||a!==t)){let t=e.context.options.onAPIError?.errorURL||`${e.context.baseURL}/error`;throw e.redirect(`${t}?error=state_mismatch`)}if(e.setCookie(i.name,"",{maxAge:0}),n.expiresAt<Date.now()){await e.context.internalAdapter.deleteVerificationValue(r.id);let t=e.context.options.onAPIError?.errorURL||`${e.context.baseURL}/error`;throw e.redirect(`${t}?error=please_restart_the_process`)}return await e.context.internalAdapter.deleteVerificationValue(r.id),n}function yT(e,t){return t.options.account?.encryptOAuthTokens&&e?yp({key:t.secret,data:e}):e}async function yS(e,{userInfo:t,account:r,callbackURL:n,disableSignUp:i,overrideUserInfo:a}){let s=await e.context.internalAdapter.findOAuthUser(t.email.toLowerCase(),r.accountId,r.providerId).catch(t=>{ra.error("Better auth was unable to query your database.\nError: ",t);let r=e.context.options.onAPIError?.errorURL||`${e.context.baseURL}/error`;throw e.redirect(`${r}?error=internal_server_error`)}),o=s?.user,l=!o;if(s){let n=s.accounts.find(e=>e.providerId===r.providerId&&e.accountId===r.accountId);if(n){if(e.context.options.account?.updateAccountOnSignIn!==!1){let t=Object.fromEntries(Object.entries({idToken:r.idToken,accessToken:await yT(r.accessToken,e.context),refreshToken:await yT(r.refreshToken,e.context),accessTokenExpiresAt:r.accessTokenExpiresAt,refreshTokenExpiresAt:r.refreshTokenExpiresAt,scope:r.scope}).filter(([e,t])=>void 0!==t));Object.keys(t).length>0&&await e.context.internalAdapter.updateAccount(n.id,t,e)}t.emailVerified&&!s.user.emailVerified&&t.email.toLowerCase()===s.user.email&&await e.context.internalAdapter.updateUser(s.user.id,{emailVerified:!0})}else{let n=e.context.options.account?.accountLinking?.trustedProviders;if(!n?.includes(r.providerId)&&!t.emailVerified||e.context.options.account?.accountLinking?.enabled===!1)return tH()&&ra.warn(`User already exist but account isn't linked to ${r.providerId}. To read more about how account linking works in Better Auth see https://www.better-auth.com/docs/concepts/users-accounts#account-linking.`),{error:"account not linked",data:null};try{await e.context.internalAdapter.linkAccount({providerId:r.providerId,accountId:t.id.toString(),userId:s.user.id,accessToken:await yT(r.accessToken,e.context),refreshToken:await yT(r.refreshToken,e.context),idToken:r.idToken,accessTokenExpiresAt:r.accessTokenExpiresAt,refreshTokenExpiresAt:r.refreshTokenExpiresAt,scope:r.scope},e)}catch(e){return ra.error("Unable to link account",e),{error:"unable to link account",data:null}}t.emailVerified&&!s.user.emailVerified&&t.email.toLowerCase()===s.user.email&&await e.context.internalAdapter.updateUser(s.user.id,{emailVerified:!0})}if(a){let{id:r,...n}=t;await e.context.internalAdapter.updateUser(s.user.id,{...n,email:t.email.toLowerCase(),emailVerified:t.email.toLowerCase()===s.user.email&&s.user.emailVerified||t.emailVerified})}}else{if(i)return{error:"signup disabled",data:null,isRegister:!1};try{let{id:i,...a}=t;if(o=await e.context.internalAdapter.createOAuthUser({...a,email:t.email.toLowerCase()},{accessToken:await yT(r.accessToken,e.context),refreshToken:await yT(r.refreshToken,e.context),idToken:r.idToken,accessTokenExpiresAt:r.accessTokenExpiresAt,refreshTokenExpiresAt:r.refreshTokenExpiresAt,scope:r.scope,providerId:r.providerId,accountId:t.id.toString()},e).then(e=>e?.user),!t.emailVerified&&o&&e.context.options.emailVerification?.sendOnSignUp){let t=await yb(e.context.secret,o.email,void 0,e.context.options.emailVerification?.expiresIn),r=`${e.context.baseURL}/verify-email?token=${t}&callbackURL=${n}`;await e.context.options.emailVerification?.sendVerificationEmail?.({user:o,url:r,token:t},e.request)}}catch(e){if(ra.error(e),e instanceof rk)return{error:e.message,data:null,isRegister:!1};return{error:"unable to create user",data:null,isRegister:!1}}}if(!o)return{error:"unable to create user",data:null,isRegister:!1};let u=await e.context.internalAdapter.createSession(o.id,e);return u?{data:{session:u,user:o},error:null,isRegister:l}:{error:"unable to create session",data:null,isRegister:!1}}let yI=iG("/sign-in/social",{method:"POST",body:fQ({callbackURL:pN().meta({description:"Callback URL to redirect to after the user has signed in"}).optional(),newUserCallbackURL:pN().optional(),errorCallbackURL:pN().meta({description:"Callback URL to redirect to if an error happens"}).optional(),provider:mU,disableRedirect:f$().meta({description:"Disable automatic redirection to the provider. Useful for handling the redirection yourself"}).optional(),idToken:hm(fQ({token:pN().meta({description:"ID token from the provider"}),nonce:pN().meta({description:"Nonce used to generate the token"}).optional(),accessToken:pN().meta({description:"Access token from the provider"}).optional(),refreshToken:pN().meta({description:"Refresh token from the provider"}).optional(),expiresAt:fy().meta({description:"Expiry date of the token"}).optional()})),scopes:fK(pN()).meta({description:"Array of scopes to request from the provider. This will override the default scopes passed."}).optional(),requestSignUp:f$().meta({description:"Explicitly request sign-up. Useful when disableImplicitSignUp is true for this provider"}).optional(),loginHint:pN().meta({description:"The login hint to use for the authorization code request"}).optional()}),metadata:{openapi:{description:"Sign in with a social provider",operationId:"socialSignIn",responses:{200:{description:"Success - Returns either session details or redirect URL",content:{"application/json":{schema:{type:"object",description:"Session response when idToken is provided",properties:{redirect:{type:"boolean",enum:[!1]},token:{type:"string",description:"Session token",url:{type:"null",nullable:!0},user:{type:"object",properties:{id:{type:"string"},email:{type:"string"},name:{type:"string",nullable:!0},image:{type:"string",nullable:!0},emailVerified:{type:"boolean"},createdAt:{type:"string",format:"date-time"},updatedAt:{type:"string",format:"date-time"}},required:["id","email","emailVerified","createdAt","updatedAt"]}}},required:["redirect","token","user"]}}}}}}}},async e=>{let t=e.context.socialProviders.find(t=>t.id===e.body.provider);if(!t)throw e.context.logger.error("Provider not found. Make sure to add the provider in your auth config",{provider:e.body.provider}),new rk("NOT_FOUND",{message:tM.PROVIDER_NOT_FOUND});if(e.body.idToken){if(!t.verifyIdToken)throw e.context.logger.error("Provider does not support id token verification",{provider:e.body.provider}),new rk("NOT_FOUND",{message:tM.ID_TOKEN_NOT_SUPPORTED});let{token:r,nonce:n}=e.body.idToken;if(!await t.verifyIdToken(r,n))throw e.context.logger.error("Invalid id token",{provider:e.body.provider}),new rk("UNAUTHORIZED",{message:tM.INVALID_TOKEN});let i=await t.getUserInfo({idToken:r,accessToken:e.body.idToken.accessToken,refreshToken:e.body.idToken.refreshToken});if(!i||!i?.user)throw e.context.logger.error("Failed to get user info",{provider:e.body.provider}),new rk("UNAUTHORIZED",{message:tM.FAILED_TO_GET_USER_INFO});if(!i.user.email)throw e.context.logger.error("User email not found",{provider:e.body.provider}),new rk("UNAUTHORIZED",{message:tM.USER_EMAIL_NOT_FOUND});let a=await yS(e,{userInfo:{...i.user,email:i.user.email,id:String(i.user.id),name:i.user.name||"",image:i.user.image,emailVerified:i.user.emailVerified||!1},account:{providerId:t.id,accountId:String(i.user.id),accessToken:e.body.idToken.accessToken},callbackURL:e.body.callbackURL,disableSignUp:t.disableImplicitSignUp&&!e.body.requestSignUp||t.disableSignUp});if(a.error)throw new rk("UNAUTHORIZED",{message:a.error});return await mm(e,a.data),e.json({redirect:!1,token:a.data.session.token,url:void 0,user:{id:a.data.user.id,email:a.data.user.email,name:a.data.user.name,image:a.data.user.image,emailVerified:a.data.user.emailVerified,createdAt:a.data.user.createdAt,updatedAt:a.data.user.updatedAt}})}let{codeVerifier:r,state:n}=await yE(e),i=await t.createAuthorizationURL({state:n,codeVerifier:r,redirectURI:`${e.context.baseURL}/callback/${t.id}`,scopes:e.body.scopes,loginHint:e.body.loginHint});return e.json({url:i.toString(),redirect:!e.body.disableRedirect})}),yA=iG("/sign-in/email",{method:"POST",body:fQ({email:pN().meta({description:"Email of the user"}),password:pN().meta({description:"Password of the user"}),callbackURL:pN().meta({description:"Callback URL to use as a redirect for email verification"}).optional(),rememberMe:f$().meta({description:"If this is false, the session will not be remembered. Default is `true`."}).default(!0).optional()}),metadata:{openapi:{description:"Sign in with email and password",responses:{200:{description:"Success - Returns either session details or redirect URL",content:{"application/json":{schema:{type:"object",description:"Session response when idToken is provided",properties:{redirect:{type:"boolean",enum:[!1]},token:{type:"string",description:"Session token"},url:{type:"null",nullable:!0},user:{type:"object",properties:{id:{type:"string"},email:{type:"string"},name:{type:"string",nullable:!0},image:{type:"string",nullable:!0},emailVerified:{type:"boolean"},createdAt:{type:"string",format:"date-time"},updatedAt:{type:"string",format:"date-time"}},required:["id","email","emailVerified","createdAt","updatedAt"]}},required:["redirect","token","user"]}}}}}}}},async e=>{if(!e.context.options?.emailAndPassword?.enabled)throw e.context.logger.error("Email and password is not enabled. Make sure to enable it in the options on you `auth.ts` file. Check `https://better-auth.com/docs/authentication/email-password` for more!"),new rk("BAD_REQUEST",{message:"Email and password is not enabled"});let{email:t,password:r}=e.body;if(!pN().email().safeParse(t).success)throw new rk("BAD_REQUEST",{message:tM.INVALID_EMAIL});let n=await e.context.internalAdapter.findUserByEmail(t,{includeAccounts:!0});if(!n)throw await e.context.password.hash(r),e.context.logger.error("User not found",{email:t}),new rk("UNAUTHORIZED",{message:tM.INVALID_EMAIL_OR_PASSWORD});let i=n.accounts.find(e=>"credential"===e.providerId);if(!i)throw e.context.logger.error("Credential account not found",{email:t}),new rk("UNAUTHORIZED",{message:tM.INVALID_EMAIL_OR_PASSWORD});let a=i?.password;if(!a)throw e.context.logger.error("Password not found",{email:t}),new rk("UNAUTHORIZED",{message:tM.INVALID_EMAIL_OR_PASSWORD});if(!await e.context.password.verify({hash:a,password:r}))throw e.context.logger.error("Invalid password"),new rk("UNAUTHORIZED",{message:tM.INVALID_EMAIL_OR_PASSWORD});if(e.context.options?.emailAndPassword?.requireEmailVerification&&!n.user.emailVerified){if(!e.context.options?.emailVerification?.sendVerificationEmail)throw new rk("FORBIDDEN",{message:tM.EMAIL_NOT_VERIFIED});if(e.context.options?.emailVerification?.sendOnSignIn){let t=await yb(e.context.secret,n.user.email,void 0,e.context.options.emailVerification?.expiresIn),r=`${e.context.baseURL}/verify-email?token=${t}&callbackURL=${e.body.callbackURL||"/"}`;await e.context.options.emailVerification.sendVerificationEmail({user:n.user,url:r,token:t},e.request)}throw new rk("FORBIDDEN",{message:tM.EMAIL_NOT_VERIFIED})}let s=await e.context.internalAdapter.createSession(n.user.id,e,!1===e.body.rememberMe);if(!s)throw e.context.logger.error("Failed to create session"),new rk("UNAUTHORIZED",{message:tM.FAILED_TO_CREATE_SESSION});return await mm(e,{session:s,user:n.user},!1===e.body.rememberMe),e.json({redirect:!!e.body.callbackURL,token:s.token,url:e.body.callbackURL,user:{id:n.user.id,email:n.user.email,name:n.user.name,image:n.user.image,emailVerified:n.user.emailVerified,createdAt:n.user.createdAt,updatedAt:n.user.updatedAt}})}),yO=fQ({code:pN().optional(),error:pN().optional(),device_id:pN().optional(),error_description:pN().optional(),state:pN().optional(),user:pN().optional()}),yN=iG("/callback/:id",{method:["GET","POST"],body:yO.optional(),query:yO.optional(),metadata:yk},async e=>{let t,r,n,i=e.context.options.onAPIError?.errorURL||`${e.context.baseURL}/error`;try{if("GET"===e.method)t=yO.parse(e.query);else if("POST"===e.method)t=yO.parse(e.body);else throw Error("Unsupported method")}catch(t){throw e.context.logger.error("INVALID_CALLBACK_REQUEST",t),e.redirect(`${i}?error=invalid_callback_request`)}let{code:a,error:s,state:o,error_description:l,device_id:u}=t;if(!o){e.context.logger.error("State not found",s);let t=i.includes("?")?"&":"?",r=`${i}${t}state=state_not_found`;throw e.redirect(r)}let{codeVerifier:c,callbackURL:d,link:p,errorURL:f,newUserURL:h,requestSignUp:m}=await y$(e);function g(t,r){let n=f??i,a=new URLSearchParams({error:t});r&&a.set("error_description",r);let s=n.includes("?")?"&":"?",o=`${n}${s}${a.toString()}`;throw e.redirect(o)}if(s&&g(s,l),!a)throw e.context.logger.error("Code not found"),g("no_code");let y=e.context.socialProviders.find(t=>t.id===e.params.id);if(!y)throw e.context.logger.error("Oauth provider with id",e.params.id,"not found"),g("oauth_provider_not_found");try{r=await y.validateAuthorizationCode({code:a,codeVerifier:c,deviceId:u,redirectURI:`${e.context.baseURL}/callback/${y.id}`})}catch(t){throw e.context.logger.error("",t),g("invalid_code")}let v=await y.getUserInfo({...r,user:e.body?.user?mo(e.body.user):void 0}).then(e=>e?.user);if(!v)return e.context.logger.error("Unable to get user info"),g("unable_to_get_user_info");if(!d)throw e.context.logger.error("No callback URL found"),g("no_callback_url");if(p){let t,n=e.context.options.account?.accountLinking?.trustedProviders;if(!n?.includes(y.id)&&!v.emailVerified||e.context.options.account?.accountLinking?.enabled===!1)return e.context.logger.error("Unable to link account - untrusted provider"),g("unable_to_link_account");if(v.email!==p.email&&e.context.options.account?.accountLinking?.allowDifferentEmails!==!0)return g("email_doesn't_match");let i=await e.context.internalAdapter.findAccount(String(v.id));if(i){if(i.userId.toString()!==p.userId.toString())return g("account_already_linked_to_different_user");let t=Object.fromEntries(Object.entries({accessToken:await yT(r.accessToken,e.context),refreshToken:await yT(r.refreshToken,e.context),idToken:r.idToken,accessTokenExpiresAt:r.accessTokenExpiresAt,refreshTokenExpiresAt:r.refreshTokenExpiresAt,scope:r.scopes?.join(",")}).filter(([e,t])=>void 0!==t));await e.context.internalAdapter.updateAccount(i.id,t)}else if(!await e.context.internalAdapter.createAccount({userId:p.userId,providerId:y.id,accountId:String(v.id),...r,accessToken:await yT(r.accessToken,e.context),refreshToken:await yT(r.refreshToken,e.context),scope:r.scopes?.join(",")},e))return g("unable_to_link_account");try{t=d.toString()}catch{t=d}throw e.redirect(t)}if(!v.email)return e.context.logger.error("Provider did not return email. This could be due to misconfiguration in the provider settings."),g("email_not_found");let b=await yS(e,{userInfo:{...v,id:String(v.id),email:v.email,name:v.name||v.email},account:{providerId:y.id,accountId:String(v.id),...r,scope:r.scopes?.join(",")},callbackURL:d,disableSignUp:y.disableImplicitSignUp&&!m||y.options?.disableSignUp,overrideUserInfo:y.options?.overrideUserInfoOnSignIn});if(b.error)return e.context.logger.error(b.error.split(" ").join("_")),g(b.error.split(" ").join("_"));let{session:w,user:_}=b.data;await mm(e,{session:w,user:_});try{n=(b.isRegister&&h||d).toString()}catch{n=b.isRegister&&h||d}throw e.redirect(n)}),yR=iG("/sign-out",{method:"POST",requireHeaders:!0,metadata:{openapi:{description:"Sign out the current user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{success:{type:"boolean"}}}}}}}}}},async e=>{let t=await e.getSignedCookie(e.context.authCookies.sessionToken.name,e.context.secret);if(!t)throw mg(e),new rk("BAD_REQUEST",{message:tM.FAILED_TO_GET_SESSION});return await e.context.internalAdapter.deleteSession(t),mg(e),e.json({success:!0})});function yP(e,t,r){let n=t?new URL(t,e.baseURL):new URL(`${e.baseURL}/error`);return r&&Object.entries(r).forEach(([e,t])=>n.searchParams.set(e,t)),n.href}let yU=iG("/request-password-reset",{method:"POST",body:fQ({email:pU().meta({description:"The email address of the user to send a password reset email to"}),redirectTo:pN().meta({description:"The URL to redirect the user to reset their password. If the token isn't valid or expired, it'll be redirected with a query parameter `?error=INVALID_TOKEN`. If the token is valid, it'll be redirected with a query parameter `?token=VALID_TOKEN"}).optional()}),metadata:{openapi:{description:"Send a password reset email to the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean"},message:{type:"string"}}}}}}}}}},async e=>{if(!e.context.options.emailAndPassword?.sendResetPassword)throw e.context.logger.error("Reset password isn't enabled.Please pass an emailAndPassword.sendResetPassword function in your auth config!"),new rk("BAD_REQUEST",{message:"Reset password isn't enabled"});let{email:t,redirectTo:r}=e.body,n=await e.context.internalAdapter.findUserByEmail(t,{includeAccounts:!0});if(!n)return e.context.logger.error("Reset Password: User not found",{email:t}),e.json({status:!0,message:"If this email exists in our system, check your email for the reset link"});let i=ms(e.context.options.emailAndPassword.resetPasswordTokenExpiresIn||3600,"sec"),a=mF(24);await e.context.internalAdapter.createVerificationValue({value:n.user.id,identifier:`reset-password:${a}`,expiresAt:i},e);let s=r?encodeURIComponent(r):"",o=`${e.context.baseURL}/reset-password/${a}?callbackURL=${s}`;return await e.context.options.emailAndPassword.sendResetPassword({user:n.user,url:o,token:a},e.request),e.json({status:!0,message:"If this email exists in our system, check your email for the reset link"})}),yD=iG("/forget-password",{method:"POST",body:fQ({email:pN().email().meta({description:"The email address of the user to send a password reset email to"}),redirectTo:pN().meta({description:"The URL to redirect the user to reset their password. If the token isn't valid or expired, it'll be redirected with a query parameter `?error=INVALID_TOKEN`. If the token is valid, it'll be redirected with a query parameter `?token=VALID_TOKEN"}).optional()}),metadata:{openapi:{description:"Send a password reset email to the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean"},message:{type:"string"}}}}}}}}}},async e=>{if(!e.context.options.emailAndPassword?.sendResetPassword)throw e.context.logger.error("Reset password isn't enabled.Please pass an emailAndPassword.sendResetPassword function in your auth config!"),new rk("BAD_REQUEST",{message:"Reset password isn't enabled"});let{email:t,redirectTo:r}=e.body,n=await e.context.internalAdapter.findUserByEmail(t,{includeAccounts:!0});if(!n)return e.context.logger.error("Reset Password: User not found",{email:t}),e.json({status:!0,message:"If this email exists in our system, check your email for the reset link"});let i=ms(e.context.options.emailAndPassword.resetPasswordTokenExpiresIn||3600,"sec"),a=mF(24);await e.context.internalAdapter.createVerificationValue({value:n.user.id,identifier:`reset-password:${a}`,expiresAt:i},e);let s=r?encodeURIComponent(r):"",o=`${e.context.baseURL}/reset-password/${a}?callbackURL=${s}`;return await e.context.options.emailAndPassword.sendResetPassword({user:n.user,url:o,token:a},e.request),e.json({status:!0})}),yC=iG("/reset-password/:token",{method:"GET",query:fQ({callbackURL:pN().meta({description:"The URL to redirect the user to reset their password"})}),use:[yv(e=>e.query.callbackURL)],metadata:{openapi:{description:"Redirects the user to the callback URL with the token",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{token:{type:"string"}}}}}}}}}},async e=>{var t,r;let n,{token:i}=e.params,{callbackURL:a}=e.query;if(!i||!a)throw e.redirect(yP(e.context,a,{error:"INVALID_TOKEN"}));let s=await e.context.internalAdapter.findVerificationValue(`reset-password:${i}`);if(!s||s.expiresAt<new Date)throw e.redirect(yP(e.context,a,{error:"INVALID_TOKEN"}));throw e.redirect((t=e.context,r={token:i},n=new URL(a,t.baseURL),r&&Object.entries(r).forEach(([e,t])=>n.searchParams.set(e,t)),n.href))}),yj=iG("/reset-password",{method:"POST",query:fQ({token:pN().optional()}).optional(),body:fQ({newPassword:pN().meta({description:"The new password to set"}),token:pN().meta({description:"The token to reset the password"}).optional()}),metadata:{openapi:{description:"Reset the password for a user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean"}}}}}}}}}},async e=>{let t=e.body.token||e.query?.token;if(!t)throw new rk("BAD_REQUEST",{message:tM.INVALID_TOKEN});let{newPassword:r}=e.body,n=e.context.password?.config.minPasswordLength,i=e.context.password?.config.maxPasswordLength;if(r.length<n)throw new rk("BAD_REQUEST",{message:tM.PASSWORD_TOO_SHORT});if(r.length>i)throw new rk("BAD_REQUEST",{message:tM.PASSWORD_TOO_LONG});let a=`reset-password:${t}`,s=await e.context.internalAdapter.findVerificationValue(a);if(!s||s.expiresAt<new Date)throw new rk("BAD_REQUEST",{message:tM.INVALID_TOKEN});let o=s.value,l=await e.context.password.hash(r);if((await e.context.internalAdapter.findAccounts(o)).find(e=>"credential"===e.providerId)?await e.context.internalAdapter.updatePassword(o,l,e):await e.context.internalAdapter.createAccount({userId:o,providerId:"credential",password:l,accountId:o},e),await e.context.internalAdapter.deleteVerificationValue(s.id),e.context.options.emailAndPassword?.onPasswordReset){let t=await e.context.internalAdapter.findUserById(o);t&&await e.context.options.emailAndPassword.onPasswordReset({user:t},e.request)}return e.context.options.emailAndPassword?.revokeSessionsOnPasswordReset&&await e.context.internalAdapter.deleteSessions(o),e.json({status:!0})}),yL=iG("/change-password",{method:"POST",body:fQ({newPassword:pN().meta({description:"The new password to set"}),currentPassword:pN().meta({description:"The current password is required"}),revokeOtherSessions:f$().meta({description:"Must be a boolean value"}).optional()}),use:[mz],metadata:{openapi:{description:"Change the password of the user",responses:{200:{description:"Password successfully changed",content:{"application/json":{schema:{type:"object",properties:{token:{type:"string",nullable:!0,description:"New session token if other sessions were revoked"},user:{type:"object",properties:{id:{type:"string",description:"The unique identifier of the user"},email:{type:"string",format:"email",description:"The email address of the user"},name:{type:"string",description:"The name of the user"},image:{type:"string",format:"uri",nullable:!0,description:"The profile image URL of the user"},emailVerified:{type:"boolean",description:"Whether the email has been verified"},createdAt:{type:"string",format:"date-time",description:"When the user was created"},updatedAt:{type:"string",format:"date-time",description:"When the user was last updated"}},required:["id","email","name","emailVerified","createdAt","updatedAt"]}},required:["user"]}}}}}}}},async e=>{let{newPassword:t,currentPassword:r,revokeOtherSessions:n}=e.body,i=e.context.session,a=e.context.password.config.minPasswordLength;if(t.length<a)throw e.context.logger.error("Password is too short"),new rk("BAD_REQUEST",{message:tM.PASSWORD_TOO_SHORT});let s=e.context.password.config.maxPasswordLength;if(t.length>s)throw e.context.logger.error("Password is too long"),new rk("BAD_REQUEST",{message:tM.PASSWORD_TOO_LONG});let o=(await e.context.internalAdapter.findAccounts(i.user.id)).find(e=>"credential"===e.providerId&&e.password);if(!o||!o.password)throw new rk("BAD_REQUEST",{message:tM.CREDENTIAL_ACCOUNT_NOT_FOUND});let l=await e.context.password.hash(t);if(!await e.context.password.verify({hash:o.password,password:r}))throw new rk("BAD_REQUEST",{message:tM.INVALID_PASSWORD});await e.context.internalAdapter.updateAccount(o.id,{password:l});let u=null;if(n){await e.context.internalAdapter.deleteSessions(i.user.id);let t=await e.context.internalAdapter.createSession(i.user.id,e);if(!t)throw new rk("INTERNAL_SERVER_ERROR",{message:tM.FAILED_TO_GET_SESSION});await mm(e,{session:t,user:i.user}),u=t.token}return e.json({token:u,user:{id:i.user.id,email:i.user.email,name:i.user.name,image:i.user.image,emailVerified:i.user.emailVerified,createdAt:i.user.createdAt,updatedAt:i.user.updatedAt}})}),yz=iG("/set-password",{method:"POST",body:fQ({newPassword:pN().meta({description:"The new password to set is required"})}),metadata:{SERVER_ONLY:!0},use:[mz]},async e=>{let{newPassword:t}=e.body,r=e.context.session,n=e.context.password.config.minPasswordLength;if(t.length<n)throw e.context.logger.error("Password is too short"),new rk("BAD_REQUEST",{message:tM.PASSWORD_TOO_SHORT});let i=e.context.password.config.maxPasswordLength;if(t.length>i)throw e.context.logger.error("Password is too long"),new rk("BAD_REQUEST",{message:tM.PASSWORD_TOO_LONG});let a=(await e.context.internalAdapter.findAccounts(r.user.id)).find(e=>"credential"===e.providerId&&e.password),s=await e.context.password.hash(t);if(!a)return await e.context.internalAdapter.linkAccount({userId:r.user.id,providerId:"credential",accountId:r.user.id,password:s},e),e.json({status:!0});throw new rk("BAD_REQUEST",{message:"user already has a password"})}),yM=iG("/delete-user",{method:"POST",use:[mz],body:fQ({callbackURL:pN().meta({description:"The callback URL to redirect to after the user is deleted"}).optional(),password:pN().meta({description:"The password of the user is required to delete the user"}).optional(),token:pN().meta({description:"The token to delete the user is required"}).optional()}),metadata:{openapi:{description:"Delete the user",responses:{200:{description:"User deletion processed successfully",content:{"application/json":{schema:{type:"object",properties:{success:{type:"boolean",description:"Indicates if the operation was successful"},message:{type:"string",enum:["User deleted","Verification email sent"],description:"Status message of the deletion process"}},required:["success","message"]}}}}}}}},async e=>{if(!e.context.options.user?.deleteUser?.enabled)throw e.context.logger.error("Delete user is disabled. Enable it in the options"),new rk("NOT_FOUND");let t=e.context.session;if(e.body.password){let r=(await e.context.internalAdapter.findAccounts(t.user.id)).find(e=>"credential"===e.providerId&&e.password);if(!r||!r.password)throw new rk("BAD_REQUEST",{message:tM.CREDENTIAL_ACCOUNT_NOT_FOUND});if(!await e.context.password.verify({hash:r.password,password:e.body.password}))throw new rk("BAD_REQUEST",{message:tM.INVALID_PASSWORD})}if(e.body.token)return await yq({...e,query:{token:e.body.token}}),e.json({success:!0,message:"User deleted"});if(e.context.options.user.deleteUser?.sendDeleteAccountVerification){let r=mW(32,"0-9","a-z");await e.context.internalAdapter.createVerificationValue({value:t.user.id,identifier:`delete-account-${r}`,expiresAt:new Date(Date.now()+1e3*(e.context.options.user.deleteUser?.deleteTokenExpiresIn||86400))},e);let n=`${e.context.baseURL}/delete-user/callback?token=${r}&callbackURL=${e.body.callbackURL||"/"}`;return await e.context.options.user.deleteUser.sendDeleteAccountVerification({user:t.user,url:n,token:r},e.request),e.json({success:!0,message:"Verification email sent"})}if(!e.body.password&&0!==e.context.sessionConfig.freshAge){let r=new Date(t.session.createdAt).getTime(),n=1e3*e.context.sessionConfig.freshAge;if(Date.now()-r>1e3*n)throw new rk("BAD_REQUEST",{message:tM.SESSION_EXPIRED})}let r=e.context.options.user.deleteUser?.beforeDelete;r&&await r(t.user,e.request),await e.context.internalAdapter.deleteUser(t.user.id),await e.context.internalAdapter.deleteSessions(t.user.id),await e.context.internalAdapter.deleteAccounts(t.user.id),mg(e);let n=e.context.options.user.deleteUser?.afterDelete;return n&&await n(t.user,e.request),e.json({success:!0,message:"User deleted"})}),yq=iG("/delete-user/callback",{method:"GET",query:fQ({token:pN().meta({description:"The token to verify the deletion request"}),callbackURL:pN().meta({description:"The URL to redirect to after deletion"}).optional()}),use:[yv(e=>e.query.callbackURL)],metadata:{openapi:{description:"Callback to complete user deletion with verification token",responses:{200:{description:"User successfully deleted",content:{"application/json":{schema:{type:"object",properties:{success:{type:"boolean",description:"Indicates if the deletion was successful"},message:{type:"string",enum:["User deleted"],description:"Confirmation message"}},required:["success","message"]}}}}}}}},async e=>{if(!e.context.options.user?.deleteUser?.enabled)throw e.context.logger.error("Delete user is disabled. Enable it in the options"),new rk("NOT_FOUND");let t=await mj(e);if(!t)throw new rk("NOT_FOUND",{message:tM.FAILED_TO_GET_USER_INFO});let r=await e.context.internalAdapter.findVerificationValue(`delete-account-${e.query.token}`);if(!r||r.expiresAt<new Date||r.value!==t.user.id)throw new rk("NOT_FOUND",{message:tM.INVALID_TOKEN});let n=e.context.options.user.deleteUser?.beforeDelete;n&&await n(t.user,e.request),await e.context.internalAdapter.deleteUser(t.user.id),await e.context.internalAdapter.deleteSessions(t.user.id),await e.context.internalAdapter.deleteAccounts(t.user.id),await e.context.internalAdapter.deleteVerificationValue(r.id),mg(e);let i=e.context.options.user.deleteUser?.afterDelete;if(i&&await i(t.user,e.request),e.query.callbackURL)throw e.redirect(e.query.callbackURL||"/");return e.json({success:!0,message:"User deleted"})}),yZ=iG("/change-email",{method:"POST",body:fQ({newEmail:pU().meta({description:"The new email address to set must be a valid email address"}),callbackURL:pN().meta({description:"The URL to redirect to after email verification"}).optional()}),use:[mz],metadata:{openapi:{responses:{200:{description:"Email change request processed successfully",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if the request was successful"},message:{type:"string",enum:["Email updated","Verification email sent"],description:"Status message of the email change process",nullable:!0}},required:["status"]}}}},422:{description:"Unprocessable Entity. Email already exists",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}}}}}}},async e=>{if(!e.context.options.user?.changeEmail?.enabled)throw e.context.logger.error("Change email is disabled."),new rk("BAD_REQUEST",{message:"Change email is disabled"});let t=e.body.newEmail.toLowerCase();if(t===e.context.session.user.email)throw e.context.logger.error("Email is the same"),new rk("BAD_REQUEST",{message:"Email is the same"});if(await e.context.internalAdapter.findUserByEmail(t))throw e.context.logger.error("Email already exists"),new rk("BAD_REQUEST",{message:"Couldn't update your email"});if(!0!==e.context.session.user.emailVerified){if(await e.context.internalAdapter.findUserByEmail(t))throw new rk("UNPROCESSABLE_ENTITY",{message:tM.USER_ALREADY_EXISTS_USE_ANOTHER_EMAIL});if(await e.context.internalAdapter.updateUserByEmail(e.context.session.user.email,{email:t},e),await mm(e,{session:e.context.session.session,user:{...e.context.session.user,email:t}}),e.context.options.emailVerification?.sendVerificationEmail){let r=await yb(e.context.secret,t,void 0,e.context.options.emailVerification?.expiresIn),n=`${e.context.baseURL}/verify-email?token=${r}&callbackURL=${e.body.callbackURL||"/"}`;await e.context.options.emailVerification.sendVerificationEmail({user:{...e.context.session.user,email:t},url:n,token:r},e.request)}return e.json({status:!0})}if(!e.context.options.user.changeEmail.sendChangeEmailVerification)throw e.context.logger.error("Verification email isn't enabled."),new rk("BAD_REQUEST",{message:"Verification email isn't enabled"});let r=await yb(e.context.secret,e.context.session.user.email,t,e.context.options.emailVerification?.expiresIn),n=`${e.context.baseURL}/verify-email?token=${r}&callbackURL=${e.body.callbackURL||"/"}`;return await e.context.options.user.changeEmail.sendChangeEmailVerification({user:e.context.session.user,newEmail:t,url:n,token:r},e.request),e.json({status:!0})}),yV=iG("/error",{method:"GET",metadata:{...yk,openapi:{description:"Displays an error page",responses:{200:{description:"Success",content:{"text/html":{schema:{type:"string",description:"The HTML content of the error page"}}}}}}}},async e=>new Response(((e="Unknown")=>`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Authentication Error</title>
    <style>
        :root {
            --bg-color: #f8f9fa;
            --text-color: #212529;
            --accent-color: #000000;
            --error-color: #dc3545;
            --border-color: #e9ecef;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            line-height: 1.5;
        }
        .error-container {
            background-color: #ffffff;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            padding: 2.5rem;
            text-align: center;
            max-width: 90%;
            width: 400px;
        }
        h1 {
            color: var(--error-color);
            font-size: 1.75rem;
            margin-bottom: 1rem;
            font-weight: 600;
        }
        p {
            margin-bottom: 1.5rem;
            color: #495057;
        }
        .btn {
            background-color: var(--accent-color);
            color: #ffffff;
            text-decoration: none;
            padding: 0.75rem 1.5rem;
            border-radius: 6px;
            transition: all 0.3s ease;
            display: inline-block;
            font-weight: 500;
            border: 2px solid var(--accent-color);
        }
        .btn:hover {
            background-color: #131721;
        }
        .error-code {
            font-size: 0.875rem;
            color: #6c757d;
            margin-top: 1.5rem;
            padding-top: 1.5rem;
            border-top: 1px solid var(--border-color);
        }
        .icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }
    </style>
</head>
<body>
    <div class="error-container">
        <div class="icon">\u26A0\uFE0F</div>
        <h1>Better Auth Error</h1>
        <p>We encountered an issue while processing your request. Please try again or contact the application owner if the problem persists.</p>
        <a href="/" id="returnLink" class="btn">Return to Application</a>
        <div class="error-code">Error Code: <span id="errorCode">${e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}</span></div>
    </div>
</body>
</html>`)(new URL(e.request?.url||"").searchParams.get("error")||"Unknown"),{headers:{"Content-Type":"text/html"}})),yF=iG("/ok",{method:"GET",metadata:{...yk,openapi:{description:"Check if the API is working",responses:{200:{description:"API is working",content:{"application/json":{schema:{type:"object",properties:{ok:{type:"boolean",description:"Indicates if the API is working"}},required:["ok"]}}}}}}}},async e=>e.json({ok:!0})),yB=iG("/list-accounts",{method:"GET",use:[mL],metadata:{openapi:{description:"List all accounts linked to the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"array",items:{type:"object",properties:{id:{type:"string"},providerId:{type:"string"},createdAt:{type:"string",format:"date-time"},updatedAt:{type:"string",format:"date-time"},accountId:{type:"string"},scopes:{type:"array",items:{type:"string"}}},required:["id","providerId","createdAt","updatedAt","accountId","scopes"]}}}}}}}}},async e=>{let t=e.context.session,r=await e.context.internalAdapter.findAccounts(t.user.id);return e.json(r.map(e=>({id:e.id,providerId:e.providerId,createdAt:e.createdAt,updatedAt:e.updatedAt,accountId:e.accountId,scopes:e.scope?.split(",")||[]})))}),yW=iG("/link-social",{method:"POST",requireHeaders:!0,body:fQ({callbackURL:pN().meta({description:"The URL to redirect to after the user has signed in"}).optional(),provider:mU,idToken:fQ({token:pN(),nonce:pN().optional(),accessToken:pN().optional(),refreshToken:pN().optional(),scopes:fK(pN()).optional()}).optional(),requestSignUp:f$().optional(),scopes:fK(pN()).meta({description:"Additional scopes to request from the provider"}).optional(),errorCallbackURL:pN().meta({description:"The URL to redirect to if there is an error during the link process"}).optional(),disableRedirect:f$().meta({description:"Disable automatic redirection to the provider. Useful for handling the redirection yourself"}).optional()}),use:[mL],metadata:{openapi:{description:"Link a social account to the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{url:{type:"string",description:"The authorization URL to redirect the user to"},redirect:{type:"boolean",description:"Indicates if the user should be redirected to the authorization URL"},status:{type:"boolean"}},required:["redirect"]}}}}}}}},async e=>{let t=e.context.session,r=e.context.socialProviders.find(t=>t.id===e.body.provider);if(!r)throw e.context.logger.error("Provider not found. Make sure to add the provider in your auth config",{provider:e.body.provider}),new rk("NOT_FOUND",{message:tM.PROVIDER_NOT_FOUND});if(e.body.idToken){if(!r.verifyIdToken)throw e.context.logger.error("Provider does not support id token verification",{provider:e.body.provider}),new rk("NOT_FOUND",{message:tM.ID_TOKEN_NOT_SUPPORTED});let{token:n,nonce:i}=e.body.idToken;if(!await r.verifyIdToken(n,i))throw e.context.logger.error("Invalid id token",{provider:e.body.provider}),new rk("UNAUTHORIZED",{message:tM.INVALID_TOKEN});let a=await r.getUserInfo({idToken:n,accessToken:e.body.idToken.accessToken,refreshToken:e.body.idToken.refreshToken});if(!a||!a?.user)throw e.context.logger.error("Failed to get user info",{provider:e.body.provider}),new rk("UNAUTHORIZED",{message:tM.FAILED_TO_GET_USER_INFO});let s=String(a.user.id);if(!a.user.email)throw e.context.logger.error("User email not found",{provider:e.body.provider}),new rk("UNAUTHORIZED",{message:tM.USER_EMAIL_NOT_FOUND});if((await e.context.internalAdapter.findAccounts(t.user.id)).find(e=>e.providerId===r.id&&e.accountId===s))return e.json({url:"",status:!0,redirect:!1});let o=e.context.options.account?.accountLinking?.trustedProviders;if(!o?.includes(r.id)&&!a.user.emailVerified||e.context.options.account?.accountLinking?.enabled===!1)throw new rk("UNAUTHORIZED",{message:"Account not linked - linking not allowed"});if(a.user.email!==t.user.email&&e.context.options.account?.accountLinking?.allowDifferentEmails!==!0)throw new rk("UNAUTHORIZED",{message:"Account not linked - different emails not allowed"});try{await e.context.internalAdapter.createAccount({userId:t.user.id,providerId:r.id,accountId:s,accessToken:e.body.idToken.accessToken,idToken:n,refreshToken:e.body.idToken.refreshToken,scope:e.body.idToken.scopes?.join(",")},e)}catch(e){throw new rk("EXPECTATION_FAILED",{message:"Account not linked - unable to create account"})}if(e.context.options.account?.accountLinking?.updateUserInfoOnLink===!0)try{await e.context.internalAdapter.updateUser(t.user.id,{name:a.user?.name,image:a.user?.image})}catch(e){console.warn("Could not update user - "+e.toString())}return e.json({url:"",status:!0,redirect:!1})}let n=await yE(e,{userId:t.user.id,email:t.user.email}),i=await r.createAuthorizationURL({state:n.state,codeVerifier:n.codeVerifier,redirectURI:`${e.context.baseURL}/callback/${r.id}`,scopes:e.body.scopes});return e.json({url:i.toString(),redirect:!e.body.disableRedirect})}),yH=iG("/unlink-account",{method:"POST",body:fQ({providerId:pN(),accountId:pN().optional()}),use:[mM],metadata:{openapi:{description:"Unlink an account",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean"}}}}}}}}}},async e=>{let{providerId:t,accountId:r}=e.body,n=await e.context.internalAdapter.findAccounts(e.context.session.user.id);if(1===n.length&&!e.context.options.account?.accountLinking?.allowUnlinkingAll)throw new rk("BAD_REQUEST",{message:tM.FAILED_TO_UNLINK_LAST_ACCOUNT});let i=n.find(e=>r?e.accountId===r&&e.providerId===t:e.providerId===t);if(!i)throw new rk("BAD_REQUEST",{message:tM.ACCOUNT_NOT_FOUND});return await e.context.internalAdapter.deleteAccount(i.id),e.json({status:!0})}),yK=iG("/get-access-token",{method:"POST",body:fQ({providerId:pN().meta({description:"The provider ID for the OAuth provider"}),accountId:pN().meta({description:"The account ID associated with the refresh token"}).optional(),userId:pN().meta({description:"The user ID associated with the account"}).optional()}),metadata:{openapi:{description:"Get a valid access token, doing a refresh if needed",responses:{200:{description:"A Valid access token",content:{"application/json":{schema:{type:"object",properties:{tokenType:{type:"string"},idToken:{type:"string"},accessToken:{type:"string"},refreshToken:{type:"string"},accessTokenExpiresAt:{type:"string",format:"date-time"},refreshTokenExpiresAt:{type:"string",format:"date-time"}}}}}},400:{description:"Invalid refresh token or provider configuration"}}}}},async e=>{let{providerId:t,accountId:r,userId:n}=e.body,i=e.request,a=await mj(e);if(i&&!a)throw e.error("UNAUTHORIZED");let s=a?.user?.id||n;if(!s)throw new rk("BAD_REQUEST",{message:"Either userId or session is required"});if(!e.context.socialProviders.find(e=>e.id===t))throw new rk("BAD_REQUEST",{message:`Provider ${t} is not supported.`});let o=(await e.context.internalAdapter.findAccounts(s)).find(e=>r?e.id===r&&e.providerId===t:e.providerId===t);if(!o)throw new rk("BAD_REQUEST",{message:"Account not found"});let l=e.context.socialProviders.find(e=>e.id===t);if(!l)throw new rk("BAD_REQUEST",{message:`Provider ${t} not found.`});try{var u,c;let t=null,r=o.accessTokenExpiresAt&&new Date(o.accessTokenExpiresAt).getTime()-Date.now()<5e3;o.refreshToken&&r&&l.refreshAccessToken&&(t=await l.refreshAccessToken(o.refreshToken),await e.context.internalAdapter.updateAccount(o.id,{accessToken:await yT(t.accessToken,e.context),accessTokenExpiresAt:t.accessTokenExpiresAt,refreshToken:await yT(t.refreshToken,e.context),refreshTokenExpiresAt:t.refreshTokenExpiresAt}));let n={accessToken:await (u=t?.accessToken??o.accessToken??"",c=e.context,!u?u:c.options.account?.encryptOAuthTokens?yf({key:c.secret,data:u}):u),accessTokenExpiresAt:t?.accessTokenExpiresAt??o.accessTokenExpiresAt??void 0,scopes:o.scope?.split(",")??[],idToken:t?.idToken??o.idToken??void 0};return e.json(n)}catch(e){throw new rk("BAD_REQUEST",{message:"Failed to get a valid access token",cause:e})}}),yG=iG("/refresh-token",{method:"POST",body:fQ({providerId:pN().meta({description:"The provider ID for the OAuth provider"}),accountId:pN().meta({description:"The account ID associated with the refresh token"}).optional(),userId:pN().meta({description:"The user ID associated with the account"}).optional()}),metadata:{openapi:{description:"Refresh the access token using a refresh token",responses:{200:{description:"Access token refreshed successfully",content:{"application/json":{schema:{type:"object",properties:{tokenType:{type:"string"},idToken:{type:"string"},accessToken:{type:"string"},refreshToken:{type:"string"},accessTokenExpiresAt:{type:"string",format:"date-time"},refreshTokenExpiresAt:{type:"string",format:"date-time"}}}}}},400:{description:"Invalid refresh token or provider configuration"}}}}},async e=>{let{providerId:t,accountId:r,userId:n}=e.body,i=e.request,a=await mj(e);if(i&&!a)throw e.error("UNAUTHORIZED");let s=a?.user?.id||n;if(!s)throw new rk("BAD_REQUEST",{message:"Either userId or session is required"});let o=(await e.context.internalAdapter.findAccounts(s)).find(e=>r?e.id===r&&e.providerId===t:e.providerId===t);if(!o)throw new rk("BAD_REQUEST",{message:"Account not found"});let l=e.context.socialProviders.find(e=>e.id===t);if(!l)throw new rk("BAD_REQUEST",{message:`Provider ${t} not found.`});if(!l.refreshAccessToken)throw new rk("BAD_REQUEST",{message:`Provider ${t} does not support token refreshing.`});try{let t=await l.refreshAccessToken(o.refreshToken);return await e.context.internalAdapter.updateAccount(o.id,{accessToken:await yT(t.accessToken,e.context),refreshToken:await yT(t.refreshToken,e.context),accessTokenExpiresAt:t.accessTokenExpiresAt,refreshTokenExpiresAt:t.refreshTokenExpiresAt}),e.json(t)}catch(e){throw new rk("BAD_REQUEST",{message:"Failed to refresh access token",cause:e})}}),yJ=iG("/account-info",{method:"POST",use:[mL],metadata:{openapi:{description:"Get the account info provided by the provider",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{user:{type:"object",properties:{id:{type:"string"},name:{type:"string"},email:{type:"string"},image:{type:"string"},emailVerified:{type:"boolean"}},required:["id","emailVerified"]},data:{type:"object",properties:{},additionalProperties:!0}},required:["user","data"],additionalProperties:!1}}}}}}},body:fQ({accountId:pN().meta({description:"The provider given account id for which to get the account info"})})},async e=>{let t=await e.context.internalAdapter.findAccount(e.body.accountId);if(!t||t.userId!==e.context.session.user.id)throw new rk("BAD_REQUEST",{message:"Account not found"});let r=e.context.socialProviders.find(e=>e.id===t.providerId);if(!r)throw new rk("INTERNAL_SERVER_ERROR",{message:`Provider account provider is ${t.providerId} but it is not configured`});let n=await yK({...e,body:{accountId:t.id,providerId:t.providerId},returnHeaders:!1});if(!n.accessToken)throw new rk("BAD_REQUEST",{message:"Access token not found"});let i=await r.getUserInfo({...n,accessToken:n.accessToken});return e.json(i)}),yQ=m1((e,t,r)=>{if(Array.isArray(e[t])&&Array.isArray(r))return e[t]=r,!0});async function yY(e,t){let r={};for(let n of t)if(n.matcher(e)){let t=await n.handler({...e,returnHeaders:!1}).catch(t=>{throw t instanceof rk&&rr(e.context.logger.level,"debug")&&(t.stack=t.errorStack),t});if(t&&"object"==typeof t){if("context"in t&&"object"==typeof t.context){let{headers:e,...n}=t.context;e instanceof Headers&&(r.headers?e.forEach((e,t)=>{r.headers?.set(t,e)}):r.headers=e),r=yQ(n,r);continue}return t}}return{context:r}}async function yX(e,t){for(let r of t)if(r.matcher(e)){let t=await r.handler(e).catch(t=>{if(t instanceof rk)return rr(e.context.logger.level,"debug")&&(t.stack=t.errorStack),{response:t,headers:t.headers?new Headers(t.headers):null};throw t});t.headers&&t.headers.forEach((t,r)=>{e.context.responseHeaders?"set-cookie"===r.toLowerCase()?e.context.responseHeaders.append(r,t):e.context.responseHeaders.set(r,t):e.context.responseHeaders=new Headers({[r]:t})}),t.response&&(e.context.returned=t.response)}return{response:e.context.returned,headers:e.context.responseHeaders}}function y0(e,t){if(t.advanced?.ipAddress?.disableIpTracking)return null;if(tK()||tH())return"127.0.0.1";let r="headers"in e?e.headers:e;for(let e of t.advanced?.ipAddress?.ipAddressHeaders||["x-forwarded-for"]){let t="get"in r?r.get(e):r[e];if("string"==typeof t){var n;let e=t.split(",")[0].trim();if(n=e,ma.ipv4().safeParse(n).success||ma.ipv6().safeParse(n).success)return e}}return null}let y1=new Map;async function y4(e,t){if(!t.rateLimit.enabled)return;let r=new URL(e.url).pathname.replace(t.options.basePath||"/api/auth",""),n=t.rateLimit.window,i=t.rateLimit.max,a=y0(e,t.options);if(!a)return;let s=a+r,o=[{pathMatcher:e=>e.startsWith("/sign-in")||e.startsWith("/sign-up")||e.startsWith("/change-password")||e.startsWith("/change-email"),window:10,max:3}].find(e=>e.pathMatcher(r));for(let e of(o&&(n=o.window,i=o.max),t.options.plugins||[]))if(e.rateLimit){let t=e.rateLimit.find(e=>e.pathMatcher(r));if(t){n=t.window,i=t.max;break}}if(t.rateLimit.customRules){let a=Object.keys(t.rateLimit.customRules).find(e=>e.includes("*")?yg(e)(r):e===r);if(a){let r=t.rateLimit.customRules[a],s="function"==typeof r?await r(e):r;if(s&&(n=s.window,i=s.max),!1===s)return}}let l=function(e,t){let r,n;if(e.options.rateLimit?.customStorage)return e.options.rateLimit.customStorage;let i=e.rateLimit.storage;return"secondary-storage"===i?{get:async t=>{let r=await e.options.secondaryStorage?.get(t);return r?mo(r):void 0},set:async(r,n,i)=>{let a=t?.window??e.options.rateLimit?.window??10;await e.options.secondaryStorage?.set?.(r,JSON.stringify(n),a)}}:"memory"===i?{get:async e=>y1.get(e),async set(e,t,r){y1.set(e,t)}}:(r="rateLimit",n=e.adapter,{get:async e=>{let t=(await n.findMany({model:r,where:[{field:"key",value:e}]}))[0];return"bigint"==typeof t?.lastRequest&&(t.lastRequest=Number(t.lastRequest)),t},set:async(t,i,a)=>{try{a?await n.updateMany({model:r,where:[{field:"key",value:t}],update:{count:i.count,lastRequest:i.lastRequest}}):await n.create({model:r,data:{key:t,count:i.count,lastRequest:i.lastRequest}})}catch(t){e.logger.error("Error setting rate limit",t)}}})}(t,{window:n}),u=await l.get(s),c=Date.now();if(u){var d,p,f;let e=c-u.lastRequest;if(d=i,p=n,Date.now()-u.lastRequest<1e3*p&&u.count>=d)return f=Math.ceil((u.lastRequest+1e3*n-Date.now())/1e3),new Response(JSON.stringify({message:"Too many requests. Please try again later."}),{status:429,statusText:"Too Many Requests",headers:{"X-Retry-After":f.toString()}});e>1e3*n?await l.set(s,{...u,count:1,lastRequest:c},!0):await l.set(s,{...u,count:u.count+1,lastRequest:c},!0)}else await l.set(s,{key:s,count:1,lastRequest:c})}function y6(e,t){let r=t.plugins?.reduce((e,t)=>({...e,...t.endpoints}),{})??{},n=t.plugins?.map(t=>t.middlewares?.map(t=>{let r=async r=>{let n=await e;return t.middleware({...r,context:{...n,...r.context}})};return r.options=t.middleware.options,{path:t.path,middleware:r}})).filter(e=>void 0!==e).flat()||[];return{api:function(e,t){let r={};for(let[n,i]of Object.entries(e))r[n]=async e=>{let r=await t,n={...e,context:{...r,returned:void 0,responseHeaders:void 0,session:null},path:i.path,headers:e?.headers?new Headers(e?.headers):void 0},{beforeHooks:a,afterHooks:s}=function(e){let t=e.options.plugins||[],r=[],n=[];e.options.hooks?.before&&r.push({matcher:()=>!0,handler:e.options.hooks.before}),e.options.hooks?.after&&n.push({matcher:()=>!0,handler:e.options.hooks.after});let i=t.map(e=>{if(e.hooks?.before)return e.hooks.before}).filter(e=>void 0!==e).flat(),a=t.map(e=>{if(e.hooks?.after)return e.hooks.after}).filter(e=>void 0!==e).flat();return i.length&&r.push(...i),a.length&&n.push(...a),{beforeHooks:r,afterHooks:n}}(r),o=await yY(n,a);if("context"in o&&o.context&&"object"==typeof o.context){let{headers:e,...t}=o.context;e&&e.forEach((e,t)=>{n.headers.set(t,e)}),n=yQ(t,n)}else if(o)return e?.asResponse?rT(o,{headers:e?.headers}):e?.returnHeaders?{headers:e?.headers,response:o}:o;n.asResponse=!1,n.returnHeaders=!0;let l=await i(n).catch(e=>{if(e instanceof rk)return{response:e,headers:e.headers?new Headers(e.headers):null};throw e});if(l&&l instanceof Response)return l;n.context.returned=l.response,n.context.responseHeaders=l.headers;let u=await yX(n,s);if(u.response&&(l.response=u.response),l.response instanceof rk&&rr(r.logger.level,"debug")&&(l.response.stack=l.response.errorStack),l.response instanceof rk&&!e?.asResponse)throw l.response;return e?.asResponse?rT(l.response,{headers:l.headers}):e?.returnHeaders?{headers:l.headers,response:l.response}:l.response},r[n].path=i.path,r[n].options=i.options;return r}({...{signInSocial:yI,callbackOAuth:yN,getSession:mC(),signOut:yR,signUpEmail:iG("/sign-up/email",{method:"POST",body:f7(pN(),fL()),metadata:{$Infer:{body:{}},openapi:{description:"Sign up a user using email and password",requestBody:{content:{"application/json":{schema:{type:"object",properties:{name:{type:"string",description:"The name of the user"},email:{type:"string",description:"The email of the user"},password:{type:"string",description:"The password of the user"},image:{type:"string",description:"The profile image URL of the user"},callbackURL:{type:"string",description:"The URL to use for email verification callback"},rememberMe:{type:"boolean",description:"If this is false, the session will not be remembered. Default is `true`."}},required:["name","email","password"]}}}},responses:{200:{description:"Successfully created user",content:{"application/json":{schema:{type:"object",properties:{token:{type:"string",nullable:!0,description:"Authentication token for the session"},user:{type:"object",properties:{id:{type:"string",description:"The unique identifier of the user"},email:{type:"string",format:"email",description:"The email address of the user"},name:{type:"string",description:"The name of the user"},image:{type:"string",format:"uri",nullable:!0,description:"The profile image URL of the user"},emailVerified:{type:"boolean",description:"Whether the email has been verified"},createdAt:{type:"string",format:"date-time",description:"When the user was created"},updatedAt:{type:"string",format:"date-time",description:"When the user was last updated"}},required:["id","email","name","emailVerified","createdAt","updatedAt"]}},required:["user"]}}}},422:{description:"Unprocessable Entity. User already exists or failed to create user.",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}}}}}}},async e=>{let t;if(!e.context.options.emailAndPassword?.enabled||e.context.options.emailAndPassword?.disableSignUp)throw new rk("BAD_REQUEST",{message:"Email and password sign up is not enabled"});let r=e.body,{name:n,email:i,password:a,image:s,callbackURL:o,rememberMe:l,...u}=r;if(!pU().safeParse(i).success)throw new rk("BAD_REQUEST",{message:tM.INVALID_EMAIL});let c=e.context.password.config.minPasswordLength;if(a.length<c)throw e.context.logger.error("Password is too short"),new rk("BAD_REQUEST",{message:tM.PASSWORD_TOO_SHORT});let d=e.context.password.config.maxPasswordLength;if(a.length>d)throw e.context.logger.error("Password is too long"),new rk("BAD_REQUEST",{message:tM.PASSWORD_TOO_LONG});let p=await e.context.internalAdapter.findUserByEmail(i);if(p?.user)throw e.context.logger.info(`Sign-up attempt for existing email: ${i}`),new rk("UNPROCESSABLE_ENTITY",{message:tM.USER_ALREADY_EXISTS_USE_ANOTHER_EMAIL});let f=await e.context.password.hash(a);try{let r=mY(e.context.options,u,"create");if(!(t=await e.context.internalAdapter.createUser({email:i.toLowerCase(),name:n,image:s,...r,emailVerified:!1},e)))throw new rk("BAD_REQUEST",{message:tM.FAILED_TO_CREATE_USER})}catch(t){if(tH()&&e.context.logger.error("Failed to create user",t),t instanceof rk)throw t;throw e.context.logger?.error("Failed to create user",t),new rk("UNPROCESSABLE_ENTITY",{message:tM.FAILED_TO_CREATE_USER,details:t})}if(!t)throw new rk("UNPROCESSABLE_ENTITY",{message:tM.FAILED_TO_CREATE_USER});if(await e.context.internalAdapter.linkAccount({userId:t.id,providerId:"credential",accountId:t.id,password:f},e),e.context.options.emailVerification?.sendOnSignUp||e.context.options.emailAndPassword.requireEmailVerification){let n=await yb(e.context.secret,t.email,void 0,e.context.options.emailVerification?.expiresIn),i=`${e.context.baseURL}/verify-email?token=${n}&callbackURL=${r.callbackURL||"/"}`,a=e.request?[{user:t,url:i,token:n},e.request]:[{user:t,url:i,token:n}];await e.context.options.emailVerification?.sendVerificationEmail?.(...a)}if(!1===e.context.options.emailAndPassword.autoSignIn||e.context.options.emailAndPassword.requireEmailVerification)return e.json({token:null,user:{id:t.id,email:t.email,name:t.name,image:t.image,emailVerified:t.emailVerified,createdAt:t.createdAt,updatedAt:t.updatedAt}});let h=await e.context.internalAdapter.createSession(t.id,e,!1===l);if(!h)throw new rk("BAD_REQUEST",{message:tM.FAILED_TO_CREATE_SESSION});return await mm(e,{session:h,user:t},!1===l),e.json({token:h.token,user:{id:t.id,email:t.email,name:t.name,image:t.image,emailVerified:t.emailVerified,createdAt:t.createdAt,updatedAt:t.updatedAt}})}),signInEmail:yA,forgetPassword:yD,resetPassword:yj,verifyEmail:yx,sendVerificationEmail:y_,changeEmail:yZ,changePassword:yL,setPassword:yz,updateUser:iG("/update-user",{method:"POST",body:f7(pN().meta({description:"Field name must be a string"}),fL()),use:[mL],metadata:{$Infer:{body:{}},openapi:{description:"Update the current user",requestBody:{content:{"application/json":{schema:{type:"object",properties:{name:{type:"string",description:"The name of the user"},image:{type:"string",description:"The image of the user"}}}}}},responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if the update was successful"}}}}}}}}}},async e=>{let t=e.body;if(t.email)throw new rk("BAD_REQUEST",{message:tM.EMAIL_CAN_NOT_BE_UPDATED});let{name:r,image:n,...i}=t,a=e.context.session,s=mY(e.context.options,i,"update");if(void 0===n&&void 0===r&&0===Object.keys(s).length)throw new rk("BAD_REQUEST",{message:"No fields to update"});let o=await e.context.internalAdapter.updateUser(a.user.id,{name:r,image:n,...s},e);return await mm(e,{session:a.session,user:o}),e.json({status:!0})}),deleteUser:yM,forgetPasswordCallback:yC,requestPasswordReset:yU,requestPasswordResetCallback:yC,listSessions:iG("/list-sessions",{method:"GET",use:[mL],requireHeaders:!0,metadata:{openapi:{description:"List all active sessions for the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"array",items:{$ref:"#/components/schemas/Session"}}}}}}}}},async e=>{try{let t=(await e.context.internalAdapter.listSessions(e.context.session.user.id)).filter(e=>e.expiresAt>new Date);return e.json(t)}catch(t){throw e.context.logger.error(t),e.error("INTERNAL_SERVER_ERROR")}}),revokeSession:mq,revokeSessions:mZ,revokeOtherSessions:mV,linkSocialAccount:yW,listUserAccounts:yB,deleteUserCallback:yq,unlinkAccount:yH,refreshToken:yG,getAccessToken:yK,accountInfo:yJ},...r,ok:yF,error:yV},e),middlewares:n}}let y2=e=>{let t=(e.plugins??[]).reduce((e,t)=>{let r=t.schema;if(!r)return e;for(let[t,n]of Object.entries(r))e[t]={fields:{...e[t]?.fields,...n.fields},modelName:n.modelName||t};return e},{}),r=e.rateLimit?.storage==="database",n={rateLimit:{modelName:e.rateLimit?.modelName||"rateLimit",fields:{key:{type:"string",fieldName:e.rateLimit?.fields?.key||"key"},count:{type:"number",fieldName:e.rateLimit?.fields?.count||"count"},lastRequest:{type:"number",bigint:!0,fieldName:e.rateLimit?.fields?.lastRequest||"lastRequest"}}}},{user:i,session:a,account:s,...o}=t,l={session:{modelName:e.session?.modelName||"session",fields:{expiresAt:{type:"date",required:!0,fieldName:e.session?.fields?.expiresAt||"expiresAt"},token:{type:"string",required:!0,fieldName:e.session?.fields?.token||"token",unique:!0},createdAt:{type:"date",required:!0,fieldName:e.session?.fields?.createdAt||"createdAt",defaultValue:()=>new Date},updatedAt:{type:"date",required:!0,fieldName:e.session?.fields?.updatedAt||"updatedAt",onUpdate:()=>new Date},ipAddress:{type:"string",required:!1,fieldName:e.session?.fields?.ipAddress||"ipAddress"},userAgent:{type:"string",required:!1,fieldName:e.session?.fields?.userAgent||"userAgent"},userId:{type:"string",fieldName:e.session?.fields?.userId||"userId",references:{model:e.user?.modelName||"user",field:"id",onDelete:"cascade"},required:!0},...a?.fields,...e.session?.additionalFields},order:2}};return{user:{modelName:e.user?.modelName||"user",fields:{name:{type:"string",required:!0,fieldName:e.user?.fields?.name||"name",sortable:!0},email:{type:"string",unique:!0,required:!0,fieldName:e.user?.fields?.email||"email",sortable:!0},emailVerified:{type:"boolean",defaultValue:!1,required:!0,fieldName:e.user?.fields?.emailVerified||"emailVerified",input:!1},image:{type:"string",required:!1,fieldName:e.user?.fields?.image||"image"},createdAt:{type:"date",defaultValue:()=>new Date,required:!0,fieldName:e.user?.fields?.createdAt||"createdAt"},updatedAt:{type:"date",defaultValue:()=>new Date,onUpdate:()=>new Date,required:!0,fieldName:e.user?.fields?.updatedAt||"updatedAt"},...i?.fields,...e.user?.additionalFields},order:1},...!e.secondaryStorage||e.session?.storeSessionInDatabase?l:{},account:{modelName:e.account?.modelName||"account",fields:{accountId:{type:"string",required:!0,fieldName:e.account?.fields?.accountId||"accountId"},providerId:{type:"string",required:!0,fieldName:e.account?.fields?.providerId||"providerId"},userId:{type:"string",references:{model:e.user?.modelName||"user",field:"id",onDelete:"cascade"},required:!0,fieldName:e.account?.fields?.userId||"userId"},accessToken:{type:"string",required:!1,fieldName:e.account?.fields?.accessToken||"accessToken"},refreshToken:{type:"string",required:!1,fieldName:e.account?.fields?.refreshToken||"refreshToken"},idToken:{type:"string",required:!1,fieldName:e.account?.fields?.idToken||"idToken"},accessTokenExpiresAt:{type:"date",required:!1,fieldName:e.account?.fields?.accessTokenExpiresAt||"accessTokenExpiresAt"},refreshTokenExpiresAt:{type:"date",required:!1,fieldName:e.account?.fields?.refreshTokenExpiresAt||"refreshTokenExpiresAt"},scope:{type:"string",required:!1,fieldName:e.account?.fields?.scope||"scope"},password:{type:"string",required:!1,fieldName:e.account?.fields?.password||"password"},createdAt:{type:"date",required:!0,fieldName:e.account?.fields?.createdAt||"createdAt",defaultValue:()=>new Date},updatedAt:{type:"date",required:!0,fieldName:e.account?.fields?.updatedAt||"updatedAt",onUpdate:()=>new Date},...s?.fields,...e.account?.additionalFields},order:3},verification:{modelName:e.verification?.modelName||"verification",fields:{identifier:{type:"string",required:!0,fieldName:e.verification?.fields?.identifier||"identifier"},value:{type:"string",required:!0,fieldName:e.verification?.fields?.value||"value"},expiresAt:{type:"date",required:!0,fieldName:e.verification?.fields?.expiresAt||"expiresAt"},createdAt:{type:"date",required:!0,defaultValue:()=>new Date,fieldName:e.verification?.fields?.createdAt||"createdAt"},updatedAt:{type:"date",required:!0,defaultValue:()=>new Date,onUpdate:()=>new Date,fieldName:e.verification?.fields?.updatedAt||"updatedAt"}},order:4},...o,...r?n:{}}};var y9=e.i(25168),y3=e.i(47123),y5=e.i(78572);function y8(e,t){return y5.RawNode.createWithChildren([y5.RawNode.createWithSql(`${e} `),y3.IdentifierNode.create(t)])}var y7=e.i(97686),ve=e.i(93577),vt=e.i(97564);class vr{#w;#_=new vi;#x;#k;constructor(e){this.#w=(0,ve.freeze)({...e})}async init(){this.#x=(0,ve.isFunction)(this.#w.database)?await this.#w.database():this.#w.database,this.#k=new vn(this.#x),this.#w.onCreateConnection&&await this.#w.onCreateConnection(this.#k)}async acquireConnection(){return await this.#_.lock(),this.#k}async beginTransaction(e){await e.executeQuery(y7.CompiledQuery.raw("begin"))}async commitTransaction(e){await e.executeQuery(y7.CompiledQuery.raw("commit"))}async rollbackTransaction(e){await e.executeQuery(y7.CompiledQuery.raw("rollback"))}async savepoint(e,t,r){await e.executeQuery(r(y8("savepoint",t),(0,vt.createQueryId)()))}async rollbackToSavepoint(e,t,r){await e.executeQuery(r(y8("rollback to",t),(0,vt.createQueryId)()))}async releaseSavepoint(e,t,r){await e.executeQuery(r(y8("release",t),(0,vt.createQueryId)()))}async releaseConnection(){this.#_.unlock()}async destroy(){this.#x?.close()}}class vn{#x;constructor(e){this.#x=e}executeQuery(e){let{sql:t,parameters:r}=e,n=this.#x.prepare(t);if(n.reader)return Promise.resolve({rows:n.all(r)});let{changes:i,lastInsertRowid:a}=n.run(r);return Promise.resolve({numAffectedRows:null!=i?BigInt(i):void 0,insertId:null!=a?BigInt(a):void 0,rows:[]})}async *streamQuery(e,t){let{sql:r,parameters:n,query:i}=e,a=this.#x.prepare(r);if(y9.SelectQueryNode.is(i))for(let e of a.iterate(n))yield{rows:[e]};else throw Error("Sqlite driver only supports streaming of select queries")}}class vi{#E;#$;async lock(){for(;this.#E;)await this.#E;this.#E=new Promise(e=>{this.#$=e})}unlock(){let e=this.#$;this.#E=void 0,this.#$=void 0,e?.()}}var va=e.i(6914);let vs=/"/g;class vo extends va.DefaultQueryCompiler{visitOrAction(e){this.append("or "),this.append(e.action)}getCurrentParameterPlaceholder(){return"?"}getLeftExplainOptionsWrapper(){return""}getRightExplainOptionsWrapper(){return""}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getAutoIncrement(){return"autoincrement"}sanitizeIdentifier(e){return e.replace(vs,'""')}visitDefaultInsertValue(e){this.append("null")}}var vl=e.i(91003),vu=e.i(78597);class vc{#x;constructor(e){this.#x=e}async getSchemas(){return[]}async getTables(e={withInternalKyselyTables:!1}){return await this.#T(e)}async getMetadata(e){return{tables:await this.getTables(e)}}#S(e,t){let r=e.selectFrom("sqlite_master").where("type","in",["table","view"]).where("name","not like","sqlite_%").select(["name","sql","type"]).orderBy("name");return t.withInternalKyselyTables||(r=r.where("name","!=",vl.DEFAULT_MIGRATION_TABLE).where("name","!=",vl.DEFAULT_MIGRATION_LOCK_TABLE)),r}async #T(e){let t=await this.#S(this.#x,e).execute(),r=await this.#x.with("table_list",t=>this.#S(t,e)).selectFrom(["table_list as tl",vu.sql`pragma_table_info(tl.name)`.as("p")]).select(["tl.name as table","p.cid","p.name","p.type","p.notnull","p.dflt_value","p.pk"]).orderBy("tl.name").orderBy("p.cid").execute(),n={};for(let e of r)n[e.table]??=[],n[e.table].push(e);return t.map(({name:e,sql:t,type:r})=>{let i=t?.split(/[\(\),]/)?.find(e=>e.toLowerCase().includes("autoincrement"))?.trimStart()?.split(/\s+/)?.[0]?.replace(/["`]/g,""),a=n[e]??[];if(!i){let e=a.filter(e=>e.pk>0);1===e.length&&"integer"===e[0].type.toLowerCase()&&(i=e[0].name)}return{name:e,isView:"view"===r,columns:a.map(e=>({name:e.name,dataType:e.type,isNullable:!e.notnull,isAutoIncrementing:e.name===i,hasDefaultValue:null!=e.dflt_value,comment:void 0}))}})}}class vd{get supportsCreateIfNotExists(){return!0}get supportsTransactionalDdl(){return!1}get supportsReturning(){return!1}get supportsOutput(){return!1}}class vp extends vd{get supportsTransactionalDdl(){return!1}get supportsReturning(){return!0}async acquireMigrationLock(e,t){}async releaseMigrationLock(e,t){}}class vf{#w;constructor(e){this.#w=(0,ve.freeze)({...e})}createDriver(){return new vr(this.#w)}createQueryCompiler(){return new vo}createAdapter(){return new vp}createIntrospector(e){return new vc(e)}}function vh(e,t){var r;if(r=e,(0,ve.isObject)(r)&&(0,ve.isString)(r.stack)&&t.stack){let r=t.stack.split("\n").slice(1).join("\n");e.stack+=`
${r}`}return e}let vm=Symbol();class vg{#w;#I=new WeakMap;#A;constructor(e){this.#w=(0,ve.freeze)({...e})}async init(){this.#A=(0,ve.isFunction)(this.#w.pool)?await this.#w.pool():this.#w.pool}async acquireConnection(){let e=await this.#O(),t=this.#I.get(e);return!t&&(t=new vy(e),this.#I.set(e,t),this.#w?.onCreateConnection&&await this.#w.onCreateConnection(t)),this.#w?.onReserveConnection&&await this.#w.onReserveConnection(t),t}async #O(){return new Promise((e,t)=>{this.#A.getConnection(async(r,n)=>{r?t(r):e(n)})})}async beginTransaction(e,t){if(t.isolationLevel||t.accessMode){let r=[];t.isolationLevel&&r.push(`isolation level ${t.isolationLevel}`),t.accessMode&&r.push(t.accessMode);let n=`set transaction ${r.join(", ")}`;await e.executeQuery(y7.CompiledQuery.raw(n))}await e.executeQuery(y7.CompiledQuery.raw("begin"))}async commitTransaction(e){await e.executeQuery(y7.CompiledQuery.raw("commit"))}async rollbackTransaction(e){await e.executeQuery(y7.CompiledQuery.raw("rollback"))}async savepoint(e,t,r){await e.executeQuery(r(y8("savepoint",t),(0,vt.createQueryId)()))}async rollbackToSavepoint(e,t,r){await e.executeQuery(r(y8("rollback to",t),(0,vt.createQueryId)()))}async releaseSavepoint(e,t,r){await e.executeQuery(r(y8("release savepoint",t),(0,vt.createQueryId)()))}async releaseConnection(e){e[vm]()}async destroy(){return new Promise((e,t)=>{this.#A.end(r=>{r?t(r):e()})})}}class vy{#N;constructor(e){this.#N=e}async executeQuery(e){try{let t=await this.#R(e);if((0,ve.isObject)(t)&&"insertId"in t&&"affectedRows"in t){let{insertId:e,affectedRows:r,changedRows:n}=t;return{insertId:null!=e&&"0"!==e.toString()?BigInt(e):void 0,numAffectedRows:null!=r?BigInt(r):void 0,numChangedRows:null!=n?BigInt(n):void 0,rows:[]}}if(Array.isArray(t))return{rows:t};return{rows:[]}}catch(e){throw vh(e,Error())}}#R(e){return new Promise((t,r)=>{this.#N.query(e.sql,e.parameters,(e,n)=>{e?r(e):t(n)})})}async *streamQuery(e,t){let r=this.#N.query(e.sql,e.parameters).stream({objectMode:!0});try{for await(let e of r)yield{rows:[e]}}catch(e){if(e&&"object"==typeof e&&"code"in e&&"ERR_STREAM_PREMATURE_CLOSE"===e.code)return;throw e}}[vm](){this.#N.release()}}var vv=va;let vb=/`/g;class vw extends vv.DefaultQueryCompiler{getCurrentParameterPlaceholder(){return"?"}getLeftExplainOptionsWrapper(){return""}getExplainOptionAssignment(){return"="}getExplainOptionsDelimiter(){return" "}getRightExplainOptionsWrapper(){return""}getLeftIdentifierWrapper(){return"`"}getRightIdentifierWrapper(){return"`"}sanitizeIdentifier(e){return e.replace(vb,"``")}visitCreateIndex(e){this.append("create "),e.unique&&this.append("unique "),this.append("index "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.name),e.using&&(this.append(" using "),this.visitNode(e.using)),e.table&&(this.append(" on "),this.visitNode(e.table)),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.where&&(this.append(" "),this.visitNode(e.where))}}class v_{#x;constructor(e){this.#x=e}async getSchemas(){return(await this.#x.selectFrom("information_schema.schemata").select("schema_name").$castTo().execute()).map(e=>({name:e.SCHEMA_NAME}))}async getTables(e={withInternalKyselyTables:!1}){let t=this.#x.selectFrom("information_schema.columns as columns").innerJoin("information_schema.tables as tables",e=>e.onRef("columns.TABLE_CATALOG","=","tables.TABLE_CATALOG").onRef("columns.TABLE_SCHEMA","=","tables.TABLE_SCHEMA").onRef("columns.TABLE_NAME","=","tables.TABLE_NAME")).select(["columns.COLUMN_NAME","columns.COLUMN_DEFAULT","columns.TABLE_NAME","columns.TABLE_SCHEMA","tables.TABLE_TYPE","columns.IS_NULLABLE","columns.DATA_TYPE","columns.EXTRA","columns.COLUMN_COMMENT"]).where("columns.TABLE_SCHEMA","=",vu.sql`database()`).orderBy("columns.TABLE_NAME").orderBy("columns.ORDINAL_POSITION").$castTo();e.withInternalKyselyTables||(t=t.where("columns.TABLE_NAME","!=",vl.DEFAULT_MIGRATION_TABLE).where("columns.TABLE_NAME","!=",vl.DEFAULT_MIGRATION_LOCK_TABLE));let r=await t.execute();return this.#P(r)}async getMetadata(e){return{tables:await this.getTables(e)}}#P(e){return e.reduce((e,t)=>{let r=e.find(e=>e.name===t.TABLE_NAME);return r||(r=(0,ve.freeze)({name:t.TABLE_NAME,isView:"VIEW"===t.TABLE_TYPE,schema:t.TABLE_SCHEMA,columns:[]}),e.push(r)),r.columns.push((0,ve.freeze)({name:t.COLUMN_NAME,dataType:t.DATA_TYPE,isNullable:"YES"===t.IS_NULLABLE,isAutoIncrementing:t.EXTRA.toLowerCase().includes("auto_increment"),hasDefaultValue:null!==t.COLUMN_DEFAULT,comment:""===t.COLUMN_COMMENT?void 0:t.COLUMN_COMMENT})),e},[])}}let vx="ea586330-2c93-47c8-908d-981d9d270f9d";class vk extends vd{get supportsTransactionalDdl(){return!1}get supportsReturning(){return!1}async acquireMigrationLock(e,t){await vu.sql`select get_lock(${vu.sql.lit(vx)}, ${vu.sql.lit(3600)})`.execute(e)}async releaseMigrationLock(e,t){await vu.sql`select release_lock(${vu.sql.lit(vx)})`.execute(e)}}class vE{#w;constructor(e){this.#w=e}createDriver(){return new vg(this.#w)}createQueryCompiler(){return new vw}createAdapter(){return new vk}createIntrospector(e){return new v_(e)}}let v$=Symbol();class vT{#w;#I=new WeakMap;#A;constructor(e){this.#w=(0,ve.freeze)({...e})}async init(){this.#A=(0,ve.isFunction)(this.#w.pool)?await this.#w.pool():this.#w.pool}async acquireConnection(){let e=await this.#A.connect(),t=this.#I.get(e);return!t&&(t=new vS(e,{cursor:this.#w.cursor??null}),this.#I.set(e,t),this.#w.onCreateConnection&&await this.#w.onCreateConnection(t)),this.#w.onReserveConnection&&await this.#w.onReserveConnection(t),t}async beginTransaction(e,t){if(t.isolationLevel||t.accessMode){let r="start transaction";t.isolationLevel&&(r+=` isolation level ${t.isolationLevel}`),t.accessMode&&(r+=` ${t.accessMode}`),await e.executeQuery(y7.CompiledQuery.raw(r))}else await e.executeQuery(y7.CompiledQuery.raw("begin"))}async commitTransaction(e){await e.executeQuery(y7.CompiledQuery.raw("commit"))}async rollbackTransaction(e){await e.executeQuery(y7.CompiledQuery.raw("rollback"))}async savepoint(e,t,r){await e.executeQuery(r(y8("savepoint",t),(0,vt.createQueryId)()))}async rollbackToSavepoint(e,t,r){await e.executeQuery(r(y8("rollback to",t),(0,vt.createQueryId)()))}async releaseSavepoint(e,t,r){await e.executeQuery(r(y8("release",t),(0,vt.createQueryId)()))}async releaseConnection(e){e[v$]()}async destroy(){if(this.#A){let e=this.#A;this.#A=void 0,await e.end()}}}class vS{#U;#D;constructor(e,t){this.#U=e,this.#D=t}async executeQuery(e){try{let{command:t,rowCount:r,rows:n}=await this.#U.query(e.sql,[...e.parameters]);return{numAffectedRows:"INSERT"===t||"UPDATE"===t||"DELETE"===t||"MERGE"===t?BigInt(r):void 0,rows:n??[]}}catch(e){throw vh(e,Error())}}async *streamQuery(e,t){if(!this.#D.cursor)throw Error("'cursor' is not present in your postgres dialect config. It's required to make streaming work in postgres.");if(!Number.isInteger(t)||t<=0)throw Error("chunkSize must be a positive integer");let r=this.#U.query(new this.#D.cursor(e.sql,e.parameters.slice()));try{for(;;){let e=await r.read(t);if(0===e.length)break;yield{rows:e}}}finally{await r.close()}}[v$](){this.#U.release()}}class vI{#x;constructor(e){this.#x=e}async getSchemas(){return(await this.#x.selectFrom("pg_catalog.pg_namespace").select("nspname").$castTo().execute()).map(e=>({name:e.nspname}))}async getTables(e={withInternalKyselyTables:!1}){let t=this.#x.selectFrom("pg_catalog.pg_attribute as a").innerJoin("pg_catalog.pg_class as c","a.attrelid","c.oid").innerJoin("pg_catalog.pg_namespace as ns","c.relnamespace","ns.oid").innerJoin("pg_catalog.pg_type as typ","a.atttypid","typ.oid").innerJoin("pg_catalog.pg_namespace as dtns","typ.typnamespace","dtns.oid").select(["a.attname as column","a.attnotnull as not_null","a.atthasdef as has_default","c.relname as table","c.relkind as table_type","ns.nspname as schema","typ.typname as type","dtns.nspname as type_schema",vu.sql`col_description(a.attrelid, a.attnum)`.as("column_description"),vu.sql`pg_get_serial_sequence(quote_ident(ns.nspname) || '.' || quote_ident(c.relname), a.attname)`.as("auto_incrementing")]).where("c.relkind","in",["r","v","p"]).where("ns.nspname","!~","^pg_").where("ns.nspname","!=","information_schema").where("ns.nspname","!=","crdb_internal").where(vu.sql`has_schema_privilege(ns.nspname, 'USAGE')`).where("a.attnum",">=",0).where("a.attisdropped","!=",!0).orderBy("ns.nspname").orderBy("c.relname").orderBy("a.attnum").$castTo();e.withInternalKyselyTables||(t=t.where("c.relname","!=",vl.DEFAULT_MIGRATION_TABLE).where("c.relname","!=",vl.DEFAULT_MIGRATION_LOCK_TABLE));let r=await t.execute();return this.#P(r)}async getMetadata(e){return{tables:await this.getTables(e)}}#P(e){return e.reduce((e,t)=>{let r=e.find(e=>e.name===t.table&&e.schema===t.schema);return r||(r=(0,ve.freeze)({name:t.table,isView:"v"===t.table_type,schema:t.schema,columns:[]}),e.push(r)),r.columns.push((0,ve.freeze)({name:t.column,dataType:t.type,dataTypeSchema:t.type_schema,isNullable:!t.not_null,isAutoIncrementing:null!==t.auto_incrementing,hasDefaultValue:t.has_default,comment:t.column_description??void 0})),e},[])}}var vA=va;let vO=/"/g;class vN extends vA.DefaultQueryCompiler{sanitizeIdentifier(e){return e.replace(vO,'""')}}let vR=BigInt("3853314791062309107");class vP extends vd{get supportsTransactionalDdl(){return!0}get supportsReturning(){return!0}async acquireMigrationLock(e,t){await vu.sql`select pg_advisory_xact_lock(${vu.sql.lit(vR)})`.execute(e)}async releaseMigrationLock(e,t){}}class vU{#w;constructor(e){this.#w=e}createDriver(){return new vT(this.#w)}createQueryCompiler(){return new vN}createAdapter(){return new vP}createIntrospector(e){return new vI(e)}}class vD extends vd{get supportsCreateIfNotExists(){return!1}get supportsTransactionalDdl(){return!0}get supportsOutput(){return!0}async acquireMigrationLock(e){await vu.sql`exec sp_getapplock @DbPrincipal = ${vu.sql.lit("dbo")}, @Resource = ${vu.sql.lit(vl.DEFAULT_MIGRATION_TABLE)}, @LockMode = ${vu.sql.lit("Exclusive")}`.execute(e)}async releaseMigrationLock(){}}var vC=e.i(74140),vj=e.i(20451);let vL=Symbol(),vz=Symbol(),vM=Symbol();class vq{#w;#A;constructor(e){this.#w=(0,ve.freeze)({...e});const{tarn:t,tedious:r,validateConnections:n}=this.#w,{validateConnections:i,...a}=t.options;this.#A=new t.Pool({...a,create:async()=>{let e=await r.connectionFactory();return await new vZ(e,r).connect()},destroy:async e=>{await e[vz]()},validate:!1===n||!1===i?void 0:e=>e[vM]()})}async init(){}async acquireConnection(){return await this.#A.acquire().promise}async beginTransaction(e,t){await e.beginTransaction(t)}async commitTransaction(e){await e.commitTransaction()}async rollbackTransaction(e){await e.rollbackTransaction()}async savepoint(e,t){await e.savepoint(t)}async rollbackToSavepoint(e,t){await e.rollbackTransaction(t)}async releaseConnection(e){(this.#w.resetConnectionsOnRelease||this.#w.tedious.resetConnectionOnRelease)&&await e[vL](),this.#A.release(e)}async destroy(){await this.#A.destroy()}}class vZ{#k;#C;#j;constructor(e,t){this.#k=e,this.#C=!1,this.#j=t}async beginTransaction(e){let{isolationLevel:t}=e;await new Promise((e,r)=>this.#k.beginTransaction(t=>{t?r(t):e(void 0)},t?(0,vC.randomString)(8):void 0,t?this.#L(t):void 0))}async commitTransaction(){await new Promise((e,t)=>this.#k.commitTransaction(r=>{r?t(r):e(void 0)}))}async connect(){let{promise:e,reject:t,resolve:r}=new vj.Deferred;function n(){t(Error("The connection ended without ever completing the connection"))}return this.#k.connect(e=>{if(e)return t(e);r()}),this.#k.on("error",e=>{e instanceof Error&&"code"in e&&"ESOCKET"===e.code&&(this.#C=!0),console.error(e),t(e)}),this.#k.once("end",n),await e,this.#k.off("end",n),this}async executeQuery(e){try{let t=new vj.Deferred,r=new vV({compiledQuery:e,tedious:this.#j,onDone:t});this.#k.execSql(r.request);let{rowCount:n,rows:i}=await t.promise;return{numAffectedRows:void 0!==n?BigInt(n):void 0,rows:i}}catch(e){throw vh(e,Error())}}async rollbackTransaction(e){await new Promise((t,r)=>this.#k.rollbackTransaction(e=>{e?r(e):t(void 0)},e))}async savepoint(e){await new Promise((t,r)=>this.#k.saveTransaction(e=>{e?r(e):t(void 0)},e))}async *streamQuery(e,t){if(!Number.isInteger(t)||t<=0)throw Error("chunkSize must be a positive integer");let r=new vV({compiledQuery:e,streamChunkSize:t,tedious:this.#j});this.#k.execSql(r.request);try{for(;;){let e=await r.readChunk();if(0===e.length||(yield{rows:e},e.length<t))break}}finally{await this.#z(r)}}#L(e){let{ISOLATION_LEVEL:t}=this.#j,r={"read committed":t.READ_COMMITTED,"read uncommitted":t.READ_UNCOMMITTED,"repeatable read":t.REPEATABLE_READ,serializable:t.SERIALIZABLE,snapshot:t.SNAPSHOT}[e];if(void 0===r)throw Error(`Unknown isolation level: ${e}`);return r}#z(e){return new Promise(t=>{e.request.once("requestCompleted",t),this.#k.cancel()||(e.request.off("requestCompleted",t),t())})}[vz](){return"closed"in this.#k&&this.#k.closed?Promise.resolve():new Promise(e=>{this.#k.once("end",e),this.#k.close()})}async [vL](){await new Promise((e,t)=>{this.#k.reset(r=>{if(r)return t(r);e()})})}async [vM](){if(this.#C||this.#M())return!1;try{let e=new vj.Deferred,t=new vV({compiledQuery:y7.CompiledQuery.raw("select 1"),onDone:e,tedious:this.#j});return this.#k.execSql(t.request),await e.promise,!0}catch{return!1}}#M(){return"closed"in this.#k&&!!this.#k.closed}}class vV{#q;#Z;#V;#F;#j;#B;constructor(e){const{compiledQuery:t,onDone:r,streamChunkSize:n,tedious:i}=e;if(this.#Z=[],this.#V=n,this.#F={},this.#j=i,r){const e="onDone";this.#F[e]=(t,n)=>{if("chunkReady"!==t){if(delete this.#F[e],"error"===t)return r.reject(n);r.resolve({rowCount:this.#B,rows:this.#Z})}}}this.#q=new this.#j.Request(t.sql,(e,t)=>{if(e)return Object.values(this.#F).forEach(t=>t("error",e instanceof AggregateError?e.errors:e));this.#B=t}),this.#W(t.parameters),this.#H()}get request(){return this.#q}readChunk(){let e=this.readChunk.name;return new Promise((t,r)=>{this.#F[e]=(n,i)=>{if(delete this.#F[e],"error"===n)return r(i);t(this.#Z.splice(0,this.#V))},this.#q.resume()})}#W(e){for(let t=0;t<e.length;t++){let r=e[t];this.#q.addParameter(String(t+1),this.#K(r),r)}}#H(){let e=this.#V?()=>{this.#V<=this.#Z.length&&(this.#q.pause(),Object.values(this.#F).forEach(e=>e("chunkReady")))}:()=>{},t=t=>{let r={};for(let e of t)r[e.metadata.colName]=e.value;this.#Z.push(r),e()};this.#q.on("row",t),this.#q.once("requestCompleted",()=>{Object.values(this.#F).forEach(e=>e("completed")),this.#q.off("row",t)})}#K(e){if((0,ve.isNull)(e)||(0,ve.isUndefined)(e)||(0,ve.isString)(e))return this.#j.TYPES.NVarChar;if((0,ve.isBigInt)(e)||(0,ve.isNumber)(e)&&e%1==0)if(e<-0x80000000||e>0x7fffffff)return this.#j.TYPES.BigInt;else return this.#j.TYPES.Int;return(0,ve.isNumber)(e)?this.#j.TYPES.Float:(0,ve.isBoolean)(e)?this.#j.TYPES.Bit:(0,ve.isDate)(e)?this.#j.TYPES.DateTime:(0,ve.isBuffer)(e)?this.#j.TYPES.VarBinary:this.#j.TYPES.NVarChar}}class vF{#x;constructor(e){this.#x=e}async getSchemas(){return await this.#x.selectFrom("sys.schemas").select("name").execute()}async getTables(e={withInternalKyselyTables:!1}){let t=await this.#x.selectFrom("sys.tables as tables").leftJoin("sys.schemas as table_schemas","table_schemas.schema_id","tables.schema_id").innerJoin("sys.columns as columns","columns.object_id","tables.object_id").innerJoin("sys.types as types","types.user_type_id","columns.user_type_id").leftJoin("sys.schemas as type_schemas","type_schemas.schema_id","types.schema_id").leftJoin("sys.extended_properties as comments",e=>e.onRef("comments.major_id","=","tables.object_id").onRef("comments.minor_id","=","columns.column_id").on("comments.name","=","MS_Description")).$if(!e.withInternalKyselyTables,e=>e.where("tables.name","!=",vl.DEFAULT_MIGRATION_TABLE).where("tables.name","!=",vl.DEFAULT_MIGRATION_LOCK_TABLE)).select(["tables.name as table_name",e=>e.ref("tables.type").$castTo().as("table_type"),"table_schemas.name as table_schema_name","columns.default_object_id as column_default_object_id","columns.generated_always_type_desc as column_generated_always_type","columns.is_computed as column_is_computed","columns.is_identity as column_is_identity","columns.is_nullable as column_is_nullable","columns.is_rowguidcol as column_is_rowguidcol","columns.name as column_name","types.is_nullable as type_is_nullable","types.name as type_name","type_schemas.name as type_schema_name","comments.value as column_comment"]).unionAll(this.#x.selectFrom("sys.views as views").leftJoin("sys.schemas as view_schemas","view_schemas.schema_id","views.schema_id").innerJoin("sys.columns as columns","columns.object_id","views.object_id").innerJoin("sys.types as types","types.user_type_id","columns.user_type_id").leftJoin("sys.schemas as type_schemas","type_schemas.schema_id","types.schema_id").leftJoin("sys.extended_properties as comments",e=>e.onRef("comments.major_id","=","views.object_id").onRef("comments.minor_id","=","columns.column_id").on("comments.name","=","MS_Description")).select(["views.name as table_name","views.type as table_type","view_schemas.name as table_schema_name","columns.default_object_id as column_default_object_id","columns.generated_always_type_desc as column_generated_always_type","columns.is_computed as column_is_computed","columns.is_identity as column_is_identity","columns.is_nullable as column_is_nullable","columns.is_rowguidcol as column_is_rowguidcol","columns.name as column_name","types.is_nullable as type_is_nullable","types.name as type_name","type_schemas.name as type_schema_name","comments.value as column_comment"])).orderBy("table_schema_name").orderBy("table_name").orderBy("column_name").execute(),r={};for(let e of t){let t=`${e.table_schema_name}.${e.table_name}`;(r[t]=r[t]||(0,ve.freeze)({columns:[],isView:"V "===e.table_type,name:e.table_name,schema:e.table_schema_name??void 0})).columns.push((0,ve.freeze)({dataType:e.type_name,dataTypeSchema:e.type_schema_name??void 0,hasDefaultValue:e.column_default_object_id>0||"NOT_APPLICABLE"!==e.column_generated_always_type||e.column_is_identity||e.column_is_computed||e.column_is_rowguidcol,isAutoIncrementing:e.column_is_identity,isNullable:e.column_is_nullable&&e.type_is_nullable,name:e.column_name,comment:e.column_comment??void 0}))}return Object.values(r)}async getMetadata(e){return{tables:await this.getTables(e)}}}var vB=va;let vW=/^[a-z0-9_]$/i;class vH extends vB.DefaultQueryCompiler{getCurrentParameterPlaceholder(){return`@${this.numParameters}`}visitOffset(e){super.visitOffset(e),this.append(" rows")}compileColumnAlterations(e){let t={};for(let r of e)t[r.kind]||(t[r.kind]=[]),t[r.kind].push(r);let r=!0;t.AddColumnNode&&(this.append("add "),this.compileList(t.AddColumnNode),r=!1),t.AlterColumnNode&&(r||this.append(", "),this.compileList(t.AlterColumnNode)),t.DropColumnNode&&(r||this.append(", "),this.append("drop column "),this.compileList(t.DropColumnNode)),t.ModifyColumnNode&&(r||this.append(", "),this.compileList(t.ModifyColumnNode)),t.RenameColumnNode&&(r||this.append(", "),this.compileList(t.RenameColumnNode))}visitAddColumn(e){this.visitNode(e.column)}visitDropColumn(e){this.visitNode(e.column)}visitMergeQuery(e){super.visitMergeQuery(e),this.append(";")}visitCollate(e){this.append("collate ");let{name:t}=e.collation;for(let e of t)if(!vW.test(e))throw Error(`Invalid collation: ${t}`);this.append(t)}announcesNewColumnDataType(){return!1}}class vK{#w;constructor(e){this.#w=e}createDriver(){return new vq(this.#w)}createQueryCompiler(){return new vH}createAdapter(){return new vD}createIntrospector(e){return new vF(e)}}let vG=(0,ve.freeze)({is:e=>"AlterTableNode"===e.kind,create:e=>(0,ve.freeze)({kind:"AlterTableNode",table:e}),cloneWithTableProps:(e,t)=>(0,ve.freeze)({...e,...t}),cloneWithColumnAlteration:(e,t)=>(0,ve.freeze)({...e,columnAlterations:e.columnAlterations?[...e.columnAlterations,t]:[t]})}),vJ=(0,ve.freeze)({is:e=>"CreateIndexNode"===e.kind,create:e=>(0,ve.freeze)({kind:"CreateIndexNode",name:y3.IdentifierNode.create(e)}),cloneWith:(e,t)=>(0,ve.freeze)({...e,...t}),cloneWithColumns:(e,t)=>(0,ve.freeze)({...e,columns:[...e.columns||[],...t]})}),vQ=(0,ve.freeze)({is:e=>"CreateSchemaNode"===e.kind,create:(e,t)=>(0,ve.freeze)({kind:"CreateSchemaNode",schema:y3.IdentifierNode.create(e),...t}),cloneWith:(e,t)=>(0,ve.freeze)({...e,...t})});var vY=e.i(6555),vX=e.i(92020);let v0=(0,ve.freeze)({is:e=>"DropIndexNode"===e.kind,create:(e,t)=>(0,ve.freeze)({kind:"DropIndexNode",name:vX.SchemableIdentifierNode.create(e),...t}),cloneWith:(e,t)=>(0,ve.freeze)({...e,...t})}),v1=(0,ve.freeze)({is:e=>"DropSchemaNode"===e.kind,create:(e,t)=>(0,ve.freeze)({kind:"DropSchemaNode",schema:y3.IdentifierNode.create(e),...t}),cloneWith:(e,t)=>(0,ve.freeze)({...e,...t})}),v4=(0,ve.freeze)({is:e=>"DropTableNode"===e.kind,create:(e,t)=>(0,ve.freeze)({kind:"DropTableNode",table:e,...t}),cloneWith:(e,t)=>(0,ve.freeze)({...e,...t})});var v6=e.i(19345);let v2=(0,ve.freeze)({is:e=>"AddColumnNode"===e.kind,create:e=>(0,ve.freeze)({kind:"AddColumnNode",column:e})});var v9=e.i(99372);let v3=(0,ve.freeze)({is:e=>"ColumnDefinitionNode"===e.kind,create:(e,t)=>(0,ve.freeze)({kind:"ColumnDefinitionNode",column:v9.ColumnNode.create(e),dataType:t}),cloneWithFrontModifier:(e,t)=>(0,ve.freeze)({...e,frontModifiers:e.frontModifiers?(0,ve.freeze)([...e.frontModifiers,t]):[t]}),cloneWithEndModifier:(e,t)=>(0,ve.freeze)({...e,endModifiers:e.endModifiers?(0,ve.freeze)([...e.endModifiers,t]):[t]}),cloneWith:(e,t)=>(0,ve.freeze)({...e,...t})}),v5=(0,ve.freeze)({is:e=>"DropColumnNode"===e.kind,create:e=>(0,ve.freeze)({kind:"DropColumnNode",column:v9.ColumnNode.create(e)})}),v8=(0,ve.freeze)({is:e=>"RenameColumnNode"===e.kind,create:(e,t)=>(0,ve.freeze)({kind:"RenameColumnNode",column:v9.ColumnNode.create(e),renameTo:v9.ColumnNode.create(t)})}),v7=(0,ve.freeze)({is:e=>"CheckConstraintNode"===e.kind,create:(e,t)=>(0,ve.freeze)({kind:"CheckConstraintNode",expression:e,name:t?y3.IdentifierNode.create(t):void 0})}),be=["no action","restrict","cascade","set null","set default"],bt=(0,ve.freeze)({is:e=>"ReferencesNode"===e.kind,create:(e,t)=>(0,ve.freeze)({kind:"ReferencesNode",table:e,columns:(0,ve.freeze)([...t])}),cloneWithOnDelete:(e,t)=>(0,ve.freeze)({...e,onDelete:t}),cloneWithOnUpdate:(e,t)=>(0,ve.freeze)({...e,onUpdate:t})});var br=e.i(65602),bn=e.i(40152),bi=e.i(32832),ba=e.i(97653);function bs(e){return(0,bi.isOperationNodeSource)(e)?e.toOperationNode():ba.ValueNode.createImmediate(e)}let bo=(0,ve.freeze)({is:e=>"GeneratedNode"===e.kind,create:e=>(0,ve.freeze)({kind:"GeneratedNode",...e}),createWithExpression:e=>(0,ve.freeze)({kind:"GeneratedNode",always:!0,expression:e}),cloneWith:(e,t)=>(0,ve.freeze)({...e,...t})}),bl=(0,ve.freeze)({is:e=>"DefaultValueNode"===e.kind,create:e=>(0,ve.freeze)({kind:"DefaultValueNode",defaultValue:e})});function bu(e){if(be.includes(e))return e;throw Error(`invalid OnModifyForeignAction ${e}`)}class bc{#G;constructor(e){this.#G=e}autoIncrement(){return new bc(v3.cloneWith(this.#G,{autoIncrement:!0}))}identity(){return new bc(v3.cloneWith(this.#G,{identity:!0}))}primaryKey(){return new bc(v3.cloneWith(this.#G,{primaryKey:!0}))}references(e){let t=(0,bn.parseStringReference)(e);if(!t.table||br.SelectAllNode.is(t.column))throw Error(`invalid call references('${e}'). The reference must have format table.column or schema.table.column`);return new bc(v3.cloneWith(this.#G,{references:bt.create(t.table,[t.column])}))}onDelete(e){if(!this.#G.references)throw Error("on delete constraint can only be added for foreign keys");return new bc(v3.cloneWith(this.#G,{references:bt.cloneWithOnDelete(this.#G.references,bu(e))}))}onUpdate(e){if(!this.#G.references)throw Error("on update constraint can only be added for foreign keys");return new bc(v3.cloneWith(this.#G,{references:bt.cloneWithOnUpdate(this.#G.references,bu(e))}))}unique(){return new bc(v3.cloneWith(this.#G,{unique:!0}))}notNull(){return new bc(v3.cloneWith(this.#G,{notNull:!0}))}unsigned(){return new bc(v3.cloneWith(this.#G,{unsigned:!0}))}defaultTo(e){return new bc(v3.cloneWith(this.#G,{defaultTo:bl.create(bs(e))}))}check(e){return new bc(v3.cloneWith(this.#G,{check:v7.create(e.toOperationNode())}))}generatedAlwaysAs(e){return new bc(v3.cloneWith(this.#G,{generated:bo.createWithExpression(e.toOperationNode())}))}generatedAlwaysAsIdentity(){return new bc(v3.cloneWith(this.#G,{generated:bo.create({identity:!0,always:!0})}))}generatedByDefaultAsIdentity(){return new bc(v3.cloneWith(this.#G,{generated:bo.create({identity:!0,byDefault:!0})}))}stored(){if(!this.#G.generated)throw Error("stored() can only be called after generatedAlwaysAs");return new bc(v3.cloneWith(this.#G,{generated:bo.cloneWith(this.#G.generated,{stored:!0})}))}modifyFront(e){return new bc(v3.cloneWithFrontModifier(this.#G,e.toOperationNode()))}nullsNotDistinct(){return new bc(v3.cloneWith(this.#G,{nullsNotDistinct:!0}))}ifNotExists(){return new bc(v3.cloneWith(this.#G,{ifNotExists:!0}))}modifyEnd(e){return new bc(v3.cloneWithEndModifier(this.#G,e.toOperationNode()))}$call(e){return e(this)}toOperationNode(){return this.#G}}let bd=(0,ve.freeze)({is:e=>"ModifyColumnNode"===e.kind,create:e=>(0,ve.freeze)({kind:"ModifyColumnNode",column:e})});var bp=e.i(74234);let bf=(0,ve.freeze)({is:e=>"ForeignKeyConstraintNode"===e.kind,create:(e,t,r,n)=>(0,ve.freeze)({kind:"ForeignKeyConstraintNode",columns:e,references:bt.create(t,r),name:n?y3.IdentifierNode.create(n):void 0}),cloneWith:(e,t)=>(0,ve.freeze)({...e,...t})});class bh{#G;constructor(e){this.#G=e}onDelete(e){return new bh(bf.cloneWith(this.#G,{onDelete:bu(e)}))}onUpdate(e){return new bh(bf.cloneWith(this.#G,{onUpdate:bu(e)}))}deferrable(){return new bh(bf.cloneWith(this.#G,{deferrable:!0}))}notDeferrable(){return new bh(bf.cloneWith(this.#G,{deferrable:!1}))}initiallyDeferred(){return new bh(bf.cloneWith(this.#G,{initiallyDeferred:!0}))}initiallyImmediate(){return new bh(bf.cloneWith(this.#G,{initiallyDeferred:!1}))}$call(e){return e(this)}toOperationNode(){return this.#G}}let bm=(0,ve.freeze)({is:e=>"AddConstraintNode"===e.kind,create:e=>(0,ve.freeze)({kind:"AddConstraintNode",constraint:e})}),bg=(0,ve.freeze)({is:e=>"UniqueConstraintNode"===e.kind,create:(e,t,r)=>(0,ve.freeze)({kind:"UniqueConstraintNode",columns:(0,ve.freeze)(e.map(v9.ColumnNode.create)),name:t?y3.IdentifierNode.create(t):void 0,nullsNotDistinct:r}),cloneWith:(e,t)=>(0,ve.freeze)({...e,...t})}),by=(0,ve.freeze)({is:e=>"DropConstraintNode"===e.kind,create:e=>(0,ve.freeze)({kind:"DropConstraintNode",constraintName:y3.IdentifierNode.create(e)}),cloneWith:(e,t)=>(0,ve.freeze)({...e,...t})}),bv=(0,ve.freeze)({is:e=>"AlterColumnNode"===e.kind,create:(e,t,r)=>(0,ve.freeze)({kind:"AlterColumnNode",column:v9.ColumnNode.create(e),[t]:r})});class bb{#J;constructor(e){this.#J=e}setDataType(e){return new bw(bv.create(this.#J,"dataType",(0,bp.parseDataTypeExpression)(e)))}setDefault(e){return new bw(bv.create(this.#J,"setDefault",bs(e)))}dropDefault(){return new bw(bv.create(this.#J,"dropDefault",!0))}setNotNull(){return new bw(bv.create(this.#J,"setNotNull",!0))}dropNotNull(){return new bw(bv.create(this.#J,"dropNotNull",!0))}$call(e){return e(this)}}class bw{#Q;constructor(e){this.#Q=e}toOperationNode(){return this.#Q}}class b_{#Y;constructor(e){this.#Y=(0,ve.freeze)(e)}toOperationNode(){return this.#Y.executor.transformQuery(this.#Y.node,this.#Y.queryId)}compile(){return this.#Y.executor.compileQuery(this.toOperationNode(),this.#Y.queryId)}async execute(){await this.#Y.executor.executeQuery(this.compile())}}class bx{#Y;constructor(e){this.#Y=(0,ve.freeze)(e)}onDelete(e){return new bx({...this.#Y,constraintBuilder:this.#Y.constraintBuilder.onDelete(e)})}onUpdate(e){return new bx({...this.#Y,constraintBuilder:this.#Y.constraintBuilder.onUpdate(e)})}deferrable(){return new bx({...this.#Y,constraintBuilder:this.#Y.constraintBuilder.deferrable()})}notDeferrable(){return new bx({...this.#Y,constraintBuilder:this.#Y.constraintBuilder.notDeferrable()})}initiallyDeferred(){return new bx({...this.#Y,constraintBuilder:this.#Y.constraintBuilder.initiallyDeferred()})}initiallyImmediate(){return new bx({...this.#Y,constraintBuilder:this.#Y.constraintBuilder.initiallyImmediate()})}$call(e){return e(this)}toOperationNode(){return this.#Y.executor.transformQuery(vG.cloneWithTableProps(this.#Y.node,{addConstraint:bm.create(this.#Y.constraintBuilder.toOperationNode())}),this.#Y.queryId)}compile(){return this.#Y.executor.compileQuery(this.toOperationNode(),this.#Y.queryId)}async execute(){await this.#Y.executor.executeQuery(this.compile())}}class bk{#Y;constructor(e){this.#Y=(0,ve.freeze)(e)}ifExists(){return new bk({...this.#Y,node:vG.cloneWithTableProps(this.#Y.node,{dropConstraint:by.cloneWith(this.#Y.node.dropConstraint,{ifExists:!0})})})}cascade(){return new bk({...this.#Y,node:vG.cloneWithTableProps(this.#Y.node,{dropConstraint:by.cloneWith(this.#Y.node.dropConstraint,{modifier:"cascade"})})})}restrict(){return new bk({...this.#Y,node:vG.cloneWithTableProps(this.#Y.node,{dropConstraint:by.cloneWith(this.#Y.node.dropConstraint,{modifier:"restrict"})})})}$call(e){return e(this)}toOperationNode(){return this.#Y.executor.transformQuery(this.#Y.node,this.#Y.queryId)}compile(){return this.#Y.executor.compileQuery(this.toOperationNode(),this.#Y.queryId)}async execute(){await this.#Y.executor.executeQuery(this.compile())}}let bE=(0,ve.freeze)({is:e=>"PrimaryKeyConstraintNode"===e.kind,create:(e,t)=>(0,ve.freeze)({kind:"PrimaryKeyConstraintNode",columns:(0,ve.freeze)(e.map(v9.ColumnNode.create)),name:t?y3.IdentifierNode.create(t):void 0}),cloneWith:(e,t)=>(0,ve.freeze)({...e,...t})}),b$=(0,ve.freeze)({is:e=>"AddIndexNode"===e.kind,create:e=>(0,ve.freeze)({kind:"AddIndexNode",name:y3.IdentifierNode.create(e)}),cloneWith:(e,t)=>(0,ve.freeze)({...e,...t}),cloneWithColumns:(e,t)=>(0,ve.freeze)({...e,columns:[...e.columns||[],...t]})});class bT{#Y;constructor(e){this.#Y=(0,ve.freeze)(e)}unique(){return new bT({...this.#Y,node:vG.cloneWithTableProps(this.#Y.node,{addIndex:b$.cloneWith(this.#Y.node.addIndex,{unique:!0})})})}column(e){return new bT({...this.#Y,node:vG.cloneWithTableProps(this.#Y.node,{addIndex:b$.cloneWithColumns(this.#Y.node.addIndex,[(0,bn.parseOrderedColumnName)(e)])})})}columns(e){return new bT({...this.#Y,node:vG.cloneWithTableProps(this.#Y.node,{addIndex:b$.cloneWithColumns(this.#Y.node.addIndex,e.map(bn.parseOrderedColumnName))})})}expression(e){return new bT({...this.#Y,node:vG.cloneWithTableProps(this.#Y.node,{addIndex:b$.cloneWithColumns(this.#Y.node.addIndex,[e.toOperationNode()])})})}using(e){return new bT({...this.#Y,node:vG.cloneWithTableProps(this.#Y.node,{addIndex:b$.cloneWith(this.#Y.node.addIndex,{using:y5.RawNode.createWithSql(e)})})})}$call(e){return e(this)}toOperationNode(){return this.#Y.executor.transformQuery(this.#Y.node,this.#Y.queryId)}compile(){return this.#Y.executor.compileQuery(this.toOperationNode(),this.#Y.queryId)}async execute(){await this.#Y.executor.executeQuery(this.compile())}}class bS{#G;constructor(e){this.#G=e}nullsNotDistinct(){return new bS(bg.cloneWith(this.#G,{nullsNotDistinct:!0}))}deferrable(){return new bS(bg.cloneWith(this.#G,{deferrable:!0}))}notDeferrable(){return new bS(bg.cloneWith(this.#G,{deferrable:!1}))}initiallyDeferred(){return new bS(bg.cloneWith(this.#G,{initiallyDeferred:!0}))}initiallyImmediate(){return new bS(bg.cloneWith(this.#G,{initiallyDeferred:!1}))}$call(e){return e(this)}toOperationNode(){return this.#G}}class bI{#G;constructor(e){this.#G=e}deferrable(){return new bI(bE.cloneWith(this.#G,{deferrable:!0}))}notDeferrable(){return new bI(bE.cloneWith(this.#G,{deferrable:!1}))}initiallyDeferred(){return new bI(bE.cloneWith(this.#G,{initiallyDeferred:!0}))}initiallyImmediate(){return new bI(bE.cloneWith(this.#G,{initiallyDeferred:!1}))}$call(e){return e(this)}toOperationNode(){return this.#G}}class bA{#G;constructor(e){this.#G=e}$call(e){return e(this)}toOperationNode(){return this.#G}}let bO=(0,ve.freeze)({is:e=>"RenameConstraintNode"===e.kind,create:(e,t)=>(0,ve.freeze)({kind:"RenameConstraintNode",oldName:y3.IdentifierNode.create(e),newName:y3.IdentifierNode.create(t)})});class bN{#Y;constructor(e){this.#Y=(0,ve.freeze)(e)}renameTo(e){return new b_({...this.#Y,node:vG.cloneWithTableProps(this.#Y.node,{renameTo:(0,v6.parseTable)(e)})})}setSchema(e){return new b_({...this.#Y,node:vG.cloneWithTableProps(this.#Y.node,{setSchema:y3.IdentifierNode.create(e)})})}alterColumn(e,t){let r=t(new bb(e));return new bR({...this.#Y,node:vG.cloneWithColumnAlteration(this.#Y.node,r.toOperationNode())})}dropColumn(e){return new bR({...this.#Y,node:vG.cloneWithColumnAlteration(this.#Y.node,v5.create(e))})}renameColumn(e,t){return new bR({...this.#Y,node:vG.cloneWithColumnAlteration(this.#Y.node,v8.create(e,t))})}addColumn(e,t,r=ve.noop){let n=r(new bc(v3.create(e,(0,bp.parseDataTypeExpression)(t))));return new bR({...this.#Y,node:vG.cloneWithColumnAlteration(this.#Y.node,v2.create(n.toOperationNode()))})}modifyColumn(e,t,r=ve.noop){let n=r(new bc(v3.create(e,(0,bp.parseDataTypeExpression)(t))));return new bR({...this.#Y,node:vG.cloneWithColumnAlteration(this.#Y.node,bd.create(n.toOperationNode()))})}addUniqueConstraint(e,t,r=ve.noop){let n=r(new bS(bg.create(t,e)));return new b_({...this.#Y,node:vG.cloneWithTableProps(this.#Y.node,{addConstraint:bm.create(n.toOperationNode())})})}addCheckConstraint(e,t,r=ve.noop){let n=r(new bA(v7.create(t.toOperationNode(),e)));return new b_({...this.#Y,node:vG.cloneWithTableProps(this.#Y.node,{addConstraint:bm.create(n.toOperationNode())})})}addForeignKeyConstraint(e,t,r,n,i=ve.noop){let a=i(new bh(bf.create(t.map(v9.ColumnNode.create),(0,v6.parseTable)(r),n.map(v9.ColumnNode.create),e)));return new bx({...this.#Y,constraintBuilder:a})}addPrimaryKeyConstraint(e,t,r=ve.noop){let n=r(new bI(bE.create(t,e)));return new b_({...this.#Y,node:vG.cloneWithTableProps(this.#Y.node,{addConstraint:bm.create(n.toOperationNode())})})}dropConstraint(e){return new bk({...this.#Y,node:vG.cloneWithTableProps(this.#Y.node,{dropConstraint:by.create(e)})})}renameConstraint(e,t){return new bk({...this.#Y,node:vG.cloneWithTableProps(this.#Y.node,{renameConstraint:bO.create(e,t)})})}addIndex(e){return new bT({...this.#Y,node:vG.cloneWithTableProps(this.#Y.node,{addIndex:b$.create(e)})})}dropIndex(e){return new b_({...this.#Y,node:vG.cloneWithTableProps(this.#Y.node,{dropIndex:v0.create(e)})})}$call(e){return e(this)}}class bR{#Y;constructor(e){this.#Y=(0,ve.freeze)(e)}alterColumn(e,t){let r=t(new bb(e));return new bR({...this.#Y,node:vG.cloneWithColumnAlteration(this.#Y.node,r.toOperationNode())})}dropColumn(e){return new bR({...this.#Y,node:vG.cloneWithColumnAlteration(this.#Y.node,v5.create(e))})}renameColumn(e,t){return new bR({...this.#Y,node:vG.cloneWithColumnAlteration(this.#Y.node,v8.create(e,t))})}addColumn(e,t,r=ve.noop){let n=r(new bc(v3.create(e,(0,bp.parseDataTypeExpression)(t))));return new bR({...this.#Y,node:vG.cloneWithColumnAlteration(this.#Y.node,v2.create(n.toOperationNode()))})}modifyColumn(e,t,r=ve.noop){let n=r(new bc(v3.create(e,(0,bp.parseDataTypeExpression)(t))));return new bR({...this.#Y,node:vG.cloneWithColumnAlteration(this.#Y.node,bd.create(n.toOperationNode()))})}toOperationNode(){return this.#Y.executor.transformQuery(this.#Y.node,this.#Y.queryId)}compile(){return this.#Y.executor.compileQuery(this.toOperationNode(),this.#Y.queryId)}async execute(){await this.#Y.executor.executeQuery(this.compile())}}var bP=e.i(14564),bU=e.i(40974),bD=e.i(24298),bC=e.i(45352);class bj extends bD.OperationNodeTransformer{transformPrimitiveValueList(e){return bC.ValueListNode.create(e.values.map(ba.ValueNode.createImmediate))}transformValue(e){return ba.ValueNode.createImmediate(e.value)}}class bL{#Y;constructor(e){this.#Y=(0,ve.freeze)(e)}ifNotExists(){return new bL({...this.#Y,node:vJ.cloneWith(this.#Y.node,{ifNotExists:!0})})}unique(){return new bL({...this.#Y,node:vJ.cloneWith(this.#Y.node,{unique:!0})})}nullsNotDistinct(){return new bL({...this.#Y,node:vJ.cloneWith(this.#Y.node,{nullsNotDistinct:!0})})}on(e){return new bL({...this.#Y,node:vJ.cloneWith(this.#Y.node,{table:(0,v6.parseTable)(e)})})}column(e){return new bL({...this.#Y,node:vJ.cloneWithColumns(this.#Y.node,[(0,bn.parseOrderedColumnName)(e)])})}columns(e){return new bL({...this.#Y,node:vJ.cloneWithColumns(this.#Y.node,e.map(bn.parseOrderedColumnName))})}expression(e){return new bL({...this.#Y,node:vJ.cloneWithColumns(this.#Y.node,[e.toOperationNode()])})}using(e){return new bL({...this.#Y,node:vJ.cloneWith(this.#Y.node,{using:y5.RawNode.createWithSql(e)})})}where(...e){let t=new bj;return new bL({...this.#Y,node:bU.QueryNode.cloneWithWhere(this.#Y.node,t.transformNode((0,bP.parseValueBinaryOperationOrExpression)(e),this.#Y.queryId))})}$call(e){return e(this)}toOperationNode(){return this.#Y.executor.transformQuery(this.#Y.node,this.#Y.queryId)}compile(){return this.#Y.executor.compileQuery(this.toOperationNode(),this.#Y.queryId)}async execute(){await this.#Y.executor.executeQuery(this.compile())}}class bz{#Y;constructor(e){this.#Y=(0,ve.freeze)(e)}ifNotExists(){return new bz({...this.#Y,node:vQ.cloneWith(this.#Y.node,{ifNotExists:!0})})}$call(e){return e(this)}toOperationNode(){return this.#Y.executor.transformQuery(this.#Y.node,this.#Y.queryId)}compile(){return this.#Y.executor.compileQuery(this.toOperationNode(),this.#Y.queryId)}async execute(){await this.#Y.executor.executeQuery(this.compile())}}var bM=e.i(56544);class bq{#Y;constructor(e){this.#Y=(0,ve.freeze)(e)}temporary(){return new bq({...this.#Y,node:vY.CreateTableNode.cloneWith(this.#Y.node,{temporary:!0})})}onCommit(e){return new bq({...this.#Y,node:vY.CreateTableNode.cloneWith(this.#Y.node,{onCommit:function(e){if(vY.ON_COMMIT_ACTIONS.includes(e))return e;throw Error(`invalid OnCommitAction ${e}`)}(e)})})}ifNotExists(){return new bq({...this.#Y,node:vY.CreateTableNode.cloneWith(this.#Y.node,{ifNotExists:!0})})}addColumn(e,t,r=ve.noop){let n=r(new bc(v3.create(e,(0,bp.parseDataTypeExpression)(t))));return new bq({...this.#Y,node:vY.CreateTableNode.cloneWithColumn(this.#Y.node,n.toOperationNode())})}addPrimaryKeyConstraint(e,t,r=ve.noop){let n=r(new bI(bE.create(t,e)));return new bq({...this.#Y,node:vY.CreateTableNode.cloneWithConstraint(this.#Y.node,n.toOperationNode())})}addUniqueConstraint(e,t,r=ve.noop){let n=r(new bS(bg.create(t,e)));return new bq({...this.#Y,node:vY.CreateTableNode.cloneWithConstraint(this.#Y.node,n.toOperationNode())})}addCheckConstraint(e,t,r=ve.noop){let n=r(new bA(v7.create(t.toOperationNode(),e)));return new bq({...this.#Y,node:vY.CreateTableNode.cloneWithConstraint(this.#Y.node,n.toOperationNode())})}addForeignKeyConstraint(e,t,r,n,i=ve.noop){let a=i(new bh(bf.create(t.map(v9.ColumnNode.create),(0,v6.parseTable)(r),n.map(v9.ColumnNode.create),e)));return new bq({...this.#Y,node:vY.CreateTableNode.cloneWithConstraint(this.#Y.node,a.toOperationNode())})}modifyFront(e){return new bq({...this.#Y,node:vY.CreateTableNode.cloneWithFrontModifier(this.#Y.node,e.toOperationNode())})}modifyEnd(e){return new bq({...this.#Y,node:vY.CreateTableNode.cloneWithEndModifier(this.#Y.node,e.toOperationNode())})}as(e){return new bq({...this.#Y,node:vY.CreateTableNode.cloneWith(this.#Y.node,{selectQuery:(0,bM.parseExpression)(e)})})}$call(e){return e(this)}toOperationNode(){return this.#Y.executor.transformQuery(this.#Y.node,this.#Y.queryId)}compile(){return this.#Y.executor.compileQuery(this.toOperationNode(),this.#Y.queryId)}async execute(){await this.#Y.executor.executeQuery(this.compile())}}class bZ{#Y;constructor(e){this.#Y=(0,ve.freeze)(e)}on(e){return new bZ({...this.#Y,node:v0.cloneWith(this.#Y.node,{table:(0,v6.parseTable)(e)})})}ifExists(){return new bZ({...this.#Y,node:v0.cloneWith(this.#Y.node,{ifExists:!0})})}cascade(){return new bZ({...this.#Y,node:v0.cloneWith(this.#Y.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#Y.executor.transformQuery(this.#Y.node,this.#Y.queryId)}compile(){return this.#Y.executor.compileQuery(this.toOperationNode(),this.#Y.queryId)}async execute(){await this.#Y.executor.executeQuery(this.compile())}}class bV{#Y;constructor(e){this.#Y=(0,ve.freeze)(e)}ifExists(){return new bV({...this.#Y,node:v1.cloneWith(this.#Y.node,{ifExists:!0})})}cascade(){return new bV({...this.#Y,node:v1.cloneWith(this.#Y.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#Y.executor.transformQuery(this.#Y.node,this.#Y.queryId)}compile(){return this.#Y.executor.compileQuery(this.toOperationNode(),this.#Y.queryId)}async execute(){await this.#Y.executor.executeQuery(this.compile())}}class bF{#Y;constructor(e){this.#Y=(0,ve.freeze)(e)}ifExists(){return new bF({...this.#Y,node:v4.cloneWith(this.#Y.node,{ifExists:!0})})}cascade(){return new bF({...this.#Y,node:v4.cloneWith(this.#Y.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#Y.executor.transformQuery(this.#Y.node,this.#Y.queryId)}compile(){return this.#Y.executor.compileQuery(this.toOperationNode(),this.#Y.queryId)}async execute(){await this.#Y.executor.executeQuery(this.compile())}}var bB=e.i(76389),bW=e.i(32313);class bH{#X=new bj;transformQuery(e){return this.#X.transformNode(e.node,e.queryId)}transformResult(e){return Promise.resolve(e.result)}}class bK{#Y;constructor(e){this.#Y=(0,ve.freeze)(e)}temporary(){return new bK({...this.#Y,node:bW.CreateViewNode.cloneWith(this.#Y.node,{temporary:!0})})}materialized(){return new bK({...this.#Y,node:bW.CreateViewNode.cloneWith(this.#Y.node,{materialized:!0})})}ifNotExists(){return new bK({...this.#Y,node:bW.CreateViewNode.cloneWith(this.#Y.node,{ifNotExists:!0})})}orReplace(){return new bK({...this.#Y,node:bW.CreateViewNode.cloneWith(this.#Y.node,{orReplace:!0})})}columns(e){return new bK({...this.#Y,node:bW.CreateViewNode.cloneWith(this.#Y.node,{columns:e.map(bn.parseColumnName)})})}as(e){let t=e.withPlugin(new bH).toOperationNode();return new bK({...this.#Y,node:bW.CreateViewNode.cloneWith(this.#Y.node,{as:t})})}$call(e){return e(this)}toOperationNode(){return this.#Y.executor.transformQuery(this.#Y.node,this.#Y.queryId)}compile(){return this.#Y.executor.compileQuery(this.toOperationNode(),this.#Y.queryId)}async execute(){await this.#Y.executor.executeQuery(this.compile())}}let bG=(0,ve.freeze)({is:e=>"DropViewNode"===e.kind,create:e=>(0,ve.freeze)({kind:"DropViewNode",name:vX.SchemableIdentifierNode.create(e)}),cloneWith:(e,t)=>(0,ve.freeze)({...e,...t})});class bJ{#Y;constructor(e){this.#Y=(0,ve.freeze)(e)}materialized(){return new bJ({...this.#Y,node:bG.cloneWith(this.#Y.node,{materialized:!0})})}ifExists(){return new bJ({...this.#Y,node:bG.cloneWith(this.#Y.node,{ifExists:!0})})}cascade(){return new bJ({...this.#Y,node:bG.cloneWith(this.#Y.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#Y.executor.transformQuery(this.#Y.node,this.#Y.queryId)}compile(){return this.#Y.executor.compileQuery(this.toOperationNode(),this.#Y.queryId)}async execute(){await this.#Y.executor.executeQuery(this.compile())}}let bQ=(0,ve.freeze)({is:e=>"CreateTypeNode"===e.kind,create:e=>(0,ve.freeze)({kind:"CreateTypeNode",name:e}),cloneWithEnum:(e,t)=>(0,ve.freeze)({...e,enum:bC.ValueListNode.create(t.map(ba.ValueNode.createImmediate))})});class bY{#Y;constructor(e){this.#Y=(0,ve.freeze)(e)}toOperationNode(){return this.#Y.executor.transformQuery(this.#Y.node,this.#Y.queryId)}asEnum(e){return new bY({...this.#Y,node:bQ.cloneWithEnum(this.#Y.node,e)})}$call(e){return e(this)}compile(){return this.#Y.executor.compileQuery(this.toOperationNode(),this.#Y.queryId)}async execute(){await this.#Y.executor.executeQuery(this.compile())}}let bX=(0,ve.freeze)({is:e=>"DropTypeNode"===e.kind,create:e=>(0,ve.freeze)({kind:"DropTypeNode",name:e}),cloneWith:(e,t)=>(0,ve.freeze)({...e,...t})});class b0{#Y;constructor(e){this.#Y=(0,ve.freeze)(e)}ifExists(){return new b0({...this.#Y,node:bX.cloneWith(this.#Y.node,{ifExists:!0})})}$call(e){return e(this)}toOperationNode(){return this.#Y.executor.transformQuery(this.#Y.node,this.#Y.queryId)}compile(){return this.#Y.executor.compileQuery(this.toOperationNode(),this.#Y.queryId)}async execute(){await this.#Y.executor.executeQuery(this.compile())}}function b1(e){if(!e.includes("."))return vX.SchemableIdentifierNode.create(e);{let t=e.split(".").map(b4);if(2===t.length)return vX.SchemableIdentifierNode.createWithSchema(t[0],t[1]);throw Error(`invalid schemable identifier ${e}`)}}function b4(e){return e.trim()}let b6=(0,ve.freeze)({is:e=>"RefreshMaterializedViewNode"===e.kind,create:e=>(0,ve.freeze)({kind:"RefreshMaterializedViewNode",name:vX.SchemableIdentifierNode.create(e)}),cloneWith:(e,t)=>(0,ve.freeze)({...e,...t})});class b2{#Y;constructor(e){this.#Y=(0,ve.freeze)(e)}concurrently(){return new b2({...this.#Y,node:b6.cloneWith(this.#Y.node,{concurrently:!0,withNoData:!1})})}withData(){return new b2({...this.#Y,node:b6.cloneWith(this.#Y.node,{withNoData:!1})})}withNoData(){return new b2({...this.#Y,node:b6.cloneWith(this.#Y.node,{withNoData:!0,concurrently:!1})})}$call(e){return e(this)}toOperationNode(){return this.#Y.executor.transformQuery(this.#Y.node,this.#Y.queryId)}compile(){return this.#Y.executor.compileQuery(this.toOperationNode(),this.#Y.queryId)}async execute(){await this.#Y.executor.executeQuery(this.compile())}}class b9{#ee;constructor(e){this.#ee=e}createTable(e){return new bq({queryId:(0,vt.createQueryId)(),executor:this.#ee,node:vY.CreateTableNode.create((0,v6.parseTable)(e))})}dropTable(e){return new bF({queryId:(0,vt.createQueryId)(),executor:this.#ee,node:v4.create((0,v6.parseTable)(e))})}createIndex(e){return new bL({queryId:(0,vt.createQueryId)(),executor:this.#ee,node:vJ.create(e)})}dropIndex(e){return new bZ({queryId:(0,vt.createQueryId)(),executor:this.#ee,node:v0.create(e)})}createSchema(e){return new bz({queryId:(0,vt.createQueryId)(),executor:this.#ee,node:vQ.create(e)})}dropSchema(e){return new bV({queryId:(0,vt.createQueryId)(),executor:this.#ee,node:v1.create(e)})}alterTable(e){return new bN({queryId:(0,vt.createQueryId)(),executor:this.#ee,node:vG.create((0,v6.parseTable)(e))})}createView(e){return new bK({queryId:(0,vt.createQueryId)(),executor:this.#ee,node:bW.CreateViewNode.create(e)})}refreshMaterializedView(e){return new b2({queryId:(0,vt.createQueryId)(),executor:this.#ee,node:b6.create(e)})}dropView(e){return new bJ({queryId:(0,vt.createQueryId)(),executor:this.#ee,node:bG.create(e)})}createType(e){return new bY({queryId:(0,vt.createQueryId)(),executor:this.#ee,node:bQ.create(b1(e))})}dropType(e){return new b0({queryId:(0,vt.createQueryId)(),executor:this.#ee,node:bX.create(b1(e))})}withPlugin(e){return new b9(this.#ee.withPlugin(e))}withoutPlugins(){return new b9(this.#ee.withoutPlugins())}withSchema(e){return new b9(this.#ee.withPluginAtFront(new bB.WithSchemaPlugin(e)))}}var b3=e.i(52440),b5=e.i(35985);class b8{ref(e){return new b3.DynamicReferenceBuilder(e)}table(e){return new b5.DynamicTableBuilder(e)}}class b7{#et;constructor(e){this.#et=e}async provideConnection(e){let t=await this.#et.acquireConnection();try{return await e(t)}finally{await this.#et.releaseConnection(t)}}}var we=e.i(683),wt=e.i(76015);class wr extends wt.QueryExecutorBase{#er;#en;#ei;constructor(e,t,r,n=[]){super(n),this.#er=e,this.#en=t,this.#ei=r}get adapter(){return this.#en}compileQuery(e,t){return this.#er.compileQuery(e,t)}provideConnection(e){return this.#ei.provideConnection(e)}withPlugins(e){return new wr(this.#er,this.#en,this.#ei,[...this.plugins,...e])}withPlugin(e){return new wr(this.#er,this.#en,this.#ei,[...this.plugins,e])}withPluginAtFront(e){return new wr(this.#er,this.#en,this.#ei,[e,...this.plugins])}withConnectionProvider(e){return new wr(this.#er,this.#en,e,[...this.plugins])}withoutPlugins(){return new wr(this.#er,this.#en,this.#ei,[])}}function wn(){return"undefined"!=typeof performance&&(0,ve.isFunction)(performance.now)?performance.now():Date.now()}class wi{#et;#ea;#es;#eo;#el;#I=new WeakSet;constructor(e,t){this.#eo=!1,this.#et=e,this.#ea=t}async init(){if(this.#el)throw Error("driver has already been destroyed");this.#es||(this.#es=this.#et.init().then(()=>{this.#eo=!0}).catch(e=>(this.#es=void 0,Promise.reject(e)))),await this.#es}async acquireConnection(){if(this.#el)throw Error("driver has already been destroyed");this.#eo||await this.init();let e=await this.#et.acquireConnection();return this.#I.has(e)||(this.#eu()&&this.#ec(e),this.#I.add(e)),e}async releaseConnection(e){await this.#et.releaseConnection(e)}beginTransaction(e,t){return this.#et.beginTransaction(e,t)}commitTransaction(e){return this.#et.commitTransaction(e)}rollbackTransaction(e){return this.#et.rollbackTransaction(e)}savepoint(e,t,r){if(this.#et.savepoint)return this.#et.savepoint(e,t,r);throw Error("The `savepoint` method is not supported by this driver")}rollbackToSavepoint(e,t,r){if(this.#et.rollbackToSavepoint)return this.#et.rollbackToSavepoint(e,t,r);throw Error("The `rollbackToSavepoint` method is not supported by this driver")}releaseSavepoint(e,t,r){if(this.#et.releaseSavepoint)return this.#et.releaseSavepoint(e,t,r);throw Error("The `releaseSavepoint` method is not supported by this driver")}async destroy(){this.#es&&(await this.#es,this.#el||(this.#el=this.#et.destroy().catch(e=>(this.#el=void 0,Promise.reject(e)))),await this.#el)}#eu(){return this.#ea.isLevelEnabled("query")||this.#ea.isLevelEnabled("error")}#ec(e){let t=e.executeQuery,r=e.streamQuery,n=this;e.executeQuery=async r=>{let i,a=wn();try{return await t.call(e,r)}catch(e){throw i=e,await n.#ed(e,r,a),e}finally{i||await n.#ep(r,a)}},e.streamQuery=async function*(t,i){let a,s=wn();try{for await(let n of r.call(e,t,i))yield n}catch(e){throw a=e,await n.#ed(e,t,s),e}finally{a||await n.#ep(t,s,!0)}}}async #ed(e,t,r){await this.#ea.error(()=>({level:"error",error:e,query:t,queryDurationMillis:this.#ef(r)}))}async #ep(e,t,r=!1){await this.#ea.query(()=>({level:"query",isStream:r,query:e,queryDurationMillis:this.#ef(t)}))}#ef(e){return wn()-e}}let wa=()=>{};class ws{#k;#eh;constructor(e){this.#k=e}async provideConnection(e){for(;this.#eh;)await this.#eh.catch(wa);return this.#eh=this.#em(e).finally(()=>{this.#eh=void 0}),this.#eh}async #em(e){return await e(this.#k)}}let wo=["read only","read write"],wl=["read uncommitted","read committed","repeatable read","serializable","snapshot"];function wu(e){if(e.accessMode&&!wo.includes(e.accessMode))throw Error(`invalid transaction access mode ${e.accessMode}`);if(e.isolationLevel&&!wl.includes(e.isolationLevel))throw Error(`invalid transaction isolation level ${e.isolationLevel}`)}var wc=e.i(52182);(0,ve.freeze)(["query","error"]);class wd{#eg;#ey;constructor(e){(0,ve.isFunction)(e)?(this.#ey=e,this.#eg=(0,ve.freeze)({query:!0,error:!0})):(this.#ey=wp,this.#eg=(0,ve.freeze)({query:e.includes("query"),error:e.includes("error")}))}isLevelEnabled(e){return this.#eg[e]}async query(e){this.#eg.query&&await this.#ey(e())}async error(e){this.#eg.error&&await this.#ey(e())}}function wp(e){if("query"===e.level){let t=`kysely:query:${e.isStream?"stream:":""}`;console.log(`${t} ${e.query.sql}`),console.log(`${t} duration: ${e.queryDurationMillis.toFixed(1)}ms`)}else"error"===e.level&&(e.error instanceof Error?console.error(`kysely:error: ${e.error.stack??e.error.message}`):console.error(`kysely:error: ${JSON.stringify({error:e.error,query:e.query.sql,queryDurationMillis:e.queryDurationMillis})}`))}var wf=e.i(66727),wh=e.i(45139),wm=e.i(4376),wg=e.i(82128);Symbol.asyncDispose??=Symbol("Symbol.asyncDispose");class wy extends we.QueryCreator{#Y;constructor(e){let t,r;if(function(e){return(0,ve.isObject)(e)&&(0,ve.isObject)(e.config)&&(0,ve.isObject)(e.driver)&&(0,ve.isObject)(e.executor)&&(0,ve.isObject)(e.dialect)}(e))t={executor:e.executor},r={...e};else{const n=e.dialect,i=n.createDriver(),a=n.createQueryCompiler(),s=n.createAdapter(),o=new wi(i,new wd(e.log??[])),l=new wr(a,s,new b7(o),e.plugins??[]);t={executor:l},r={config:e,executor:l,dialect:n,driver:o}}super(t),this.#Y=(0,ve.freeze)(r)}get schema(){return new b9(this.#Y.executor)}get dynamic(){return new b8}get introspection(){return this.#Y.dialect.createIntrospector(this.withoutPlugins())}case(e){return new wf.CaseBuilder({node:wh.CaseNode.create((0,ve.isUndefined)(e)?void 0:(0,bM.parseExpression)(e))})}get fn(){return(0,wc.createFunctionModule)()}transaction(){return new ww({...this.#Y})}startTransaction(){return new w_({...this.#Y})}connection(){return new wb({...this.#Y})}withPlugin(e){return new wy({...this.#Y,executor:this.#Y.executor.withPlugin(e)})}withoutPlugins(){return new wy({...this.#Y,executor:this.#Y.executor.withoutPlugins()})}withSchema(e){return new wy({...this.#Y,executor:this.#Y.executor.withPluginAtFront(new bB.WithSchemaPlugin(e))})}withTables(){return new wy({...this.#Y})}async destroy(){await this.#Y.driver.destroy()}get isTransaction(){return!1}getExecutor(){return this.#Y.executor}executeQuery(e,t){void 0!==t&&(0,wg.logOnce)("Passing `queryId` in `db.executeQuery` is deprecated and will result in a compile-time error in the future.");let r=(0,ve.isObject)(e)&&(0,ve.isFunction)(e.compile)?e.compile():e;return this.getExecutor().executeQuery(r)}async [Symbol.asyncDispose](){await this.destroy()}}class wv extends wy{#Y;constructor(e){super(e),this.#Y=e}get isTransaction(){return!0}transaction(){throw Error("calling the transaction method for a Transaction is not supported")}connection(){throw Error("calling the connection method for a Transaction is not supported")}async destroy(){throw Error("calling the destroy method for a Transaction is not supported")}withPlugin(e){return new wv({...this.#Y,executor:this.#Y.executor.withPlugin(e)})}withoutPlugins(){return new wv({...this.#Y,executor:this.#Y.executor.withoutPlugins()})}withSchema(e){return new wv({...this.#Y,executor:this.#Y.executor.withPluginAtFront(new bB.WithSchemaPlugin(e))})}withTables(){return new wv({...this.#Y})}}class wb{#Y;constructor(e){this.#Y=(0,ve.freeze)(e)}async execute(e){return this.#Y.executor.provideConnection(async t=>{let r=this.#Y.executor.withConnectionProvider(new ws(t)),n=new wy({...this.#Y,executor:r});return await e(n)})}}class ww{#Y;constructor(e){this.#Y=(0,ve.freeze)(e)}setAccessMode(e){return new ww({...this.#Y,accessMode:e})}setIsolationLevel(e){return new ww({...this.#Y,isolationLevel:e})}async execute(e){let{isolationLevel:t,accessMode:r,...n}=this.#Y,i={isolationLevel:t,accessMode:r};return wu(i),this.#Y.executor.provideConnection(async t=>{let r=this.#Y.executor.withConnectionProvider(new ws(t)),a=new wv({...n,executor:r}),s=!1;try{await this.#Y.driver.beginTransaction(t,i),s=!0;let r=await e(a);return await this.#Y.driver.commitTransaction(t),r}catch(e){throw s&&await this.#Y.driver.rollbackTransaction(t),e}})}}class w_{#Y;constructor(e){this.#Y=(0,ve.freeze)(e)}setAccessMode(e){return new w_({...this.#Y,accessMode:e})}setIsolationLevel(e){return new w_({...this.#Y,isolationLevel:e})}async execute(){let{isolationLevel:e,accessMode:t,...r}=this.#Y,n={isolationLevel:e,accessMode:t};wu(n);let i=await (0,wm.provideControlledConnection)(this.#Y.executor);return await this.#Y.driver.beginTransaction(i.connection,n),new wx({...r,connection:i,executor:this.#Y.executor.withConnectionProvider(new ws(i.connection))})}}class wx extends wv{#Y;#ev;#eb;constructor(e){const t={isCommitted:!1,isRolledBack:!1},{connection:r,...n}=e={...e,executor:new w$(e.executor,t)};super(n),this.#Y=(0,ve.freeze)(e),this.#eb=t;const i=(0,vt.createQueryId)();this.#ev=t=>e.executor.compileQuery(t,i)}get isCommitted(){return this.#eb.isCommitted}get isRolledBack(){return this.#eb.isRolledBack}commit(){return wE(this.#eb),new wk(async()=>{await this.#Y.driver.commitTransaction(this.#Y.connection.connection),this.#eb.isCommitted=!0,this.#Y.connection.release()})}rollback(){return wE(this.#eb),new wk(async()=>{await this.#Y.driver.rollbackTransaction(this.#Y.connection.connection),this.#eb.isRolledBack=!0,this.#Y.connection.release()})}savepoint(e){return wE(this.#eb),new wk(async()=>(await this.#Y.driver.savepoint?.(this.#Y.connection.connection,e,this.#ev),new wx({...this.#Y})))}rollbackToSavepoint(e){return wE(this.#eb),new wk(async()=>(await this.#Y.driver.rollbackToSavepoint?.(this.#Y.connection.connection,e,this.#ev),new wx({...this.#Y})))}releaseSavepoint(e){return wE(this.#eb),new wk(async()=>(await this.#Y.driver.releaseSavepoint?.(this.#Y.connection.connection,e,this.#ev),new wx({...this.#Y})))}withPlugin(e){return new wx({...this.#Y,executor:this.#Y.executor.withPlugin(e)})}withoutPlugins(){return new wx({...this.#Y,executor:this.#Y.executor.withoutPlugins()})}withSchema(e){return new wx({...this.#Y,executor:this.#Y.executor.withPluginAtFront(new bB.WithSchemaPlugin(e))})}withTables(){return new wx({...this.#Y})}}class wk{#ew;constructor(e){this.#ew=e}async execute(){return await this.#ew()}}function wE(e){if(e.isCommitted)throw Error("Transaction is already committed");if(e.isRolledBack)throw Error("Transaction is already rolled back")}class w${#ee;#eb;constructor(e,t){e instanceof w$?this.#ee=e.#ee:this.#ee=e,this.#eb=t}get adapter(){return this.#ee.adapter}get plugins(){return this.#ee.plugins}transformQuery(e,t){return this.#ee.transformQuery(e,t)}compileQuery(e,t){return this.#ee.compileQuery(e,t)}provideConnection(e){return this.#ee.provideConnection(e)}executeQuery(e){return wE(this.#eb),this.#ee.executeQuery(e)}stream(e,t){return wE(this.#eb),this.#ee.stream(e,t)}withConnectionProvider(e){return new w$(this.#ee.withConnectionProvider(e),this.#eb)}withPlugin(e){return new w$(this.#ee.withPlugin(e),this.#eb)}withPlugins(e){return new w$(this.#ee.withPlugins(e),this.#eb)}withPluginAtFront(e){return new w$(this.#ee.withPluginAtFront(e),this.#eb)}withoutPlugins(){return new w$(this.#ee.withoutPlugins(),this.#eb)}}let wT=[],wS=-1,wI=({adapter:e,config:t})=>r=>{let n=Math.random().toString(36).substring(2,15),i={...t,supportsBooleans:t.supportsBooleans??!0,supportsDates:t.supportsDates??!0,supportsJSON:t.supportsJSON??!1,adapterName:t.adapterName??t.adapterId,supportsNumericIds:t.supportsNumericIds??!0,transaction:t.transaction??!1,disableTransformInput:t.disableTransformInput??!1,disableTransformOutput:t.disableTransformOutput??!1};if(r.advanced?.database?.useNumberId===!0&&!1===i.supportsNumericIds)throw Error(`[${i.adapterName}] Your database or database adapter does not support numeric ids. Please disable "useNumberId" in your config.`);let a=y2(r),s=({field:e,model:t})=>{if("id"===e||"_id"===e)return"id";let r=o(t),n=a[r]?.fields[e];if(!n){let t=Object.entries(a[r].fields).find(([t,r])=>r.fieldName===e);t&&(n=t[1],e=t[0])}if(!n)throw c(`Field ${e} not found in model ${r}`),c("Schema:",a),Error(`Field ${e} not found in model ${r}`);return e},o=e=>{if(i.usePlural&&"s"===e.charAt(e.length-1)){let t=e.slice(0,-1),r=a[t]?t:void 0;if(r||(r=Object.entries(a).find(([e,r])=>r.modelName===t)?.[0]),r)return r}let t=a[e]?e:void 0;if(t||(t=Object.entries(a).find(([t,r])=>r.modelName===e)?.[0]),!t)throw c(`Model "${e}" not found in schema`),c("Schema:",a),Error(`Model "${e}" not found in schema`);return t},l=e=>{let t=o(e),r=i&&i.usePlural;return a&&a[t]&&a[t].modelName!==e?r?`${a[t].modelName}s`:a[t].modelName:r?`${e}s`:e};function u({model:e,field:t}){let r=o(e),n=s({model:r,field:t});return a[r]?.fields[n]?.fieldName||n}let c=(...e)=>{if(!0===i.debugLogs||"object"==typeof i.debugLogs){if("object"==typeof i.debugLogs&&"isRunningAdapterTests"in i.debugLogs){i.debugLogs.isRunningAdapterTests&&(e.shift(),wT.push({instance:n,args:e}));return}if("object"!=typeof i.debugLogs||!i.debugLogs.logCondition||i.debugLogs.logCondition?.())if("object"==typeof e[0]&&"method"in e[0]){let t=e.shift().method;if("object"==typeof i.debugLogs){if("create"===t&&!i.debugLogs.create)return;else if("update"===t&&!i.debugLogs.update)return;else if("updateMany"===t&&!i.debugLogs.updateMany)return;else if("findOne"===t&&!i.debugLogs.findOne)return;else if("findMany"===t&&!i.debugLogs.findMany)return;else if("delete"===t&&!i.debugLogs.delete)return;else if("deleteMany"===t&&!i.debugLogs.deleteMany)return;else if("count"===t&&!i.debugLogs.count)return}ra.info(`[${i.adapterName}]`,...e)}else ra.info(`[${i.adapterName}]`,...e)}},d=({customModelName:e,forceAllowId:t})=>{let n=!i.disableIdGeneration&&!r.advanced?.database?.useNumberId&&!t,a=o(e??"id");return{type:r.advanced?.database?.useNumberId?"number":"string",required:!!n,...n?{defaultValue(){if(i.disableIdGeneration)return;let e=r.advanced?.database?.useNumberId,t=r.advanced?.database?.generateId;if(r.advanced?.generateId!==void 0&&(ra.warn("Your Better Auth config includes advanced.generateId which is deprecated. Please use advanced.database.generateId instead. This will be removed in future releases."),t=r.advanced?.generateId),!1!==t&&!e)return t?t({model:a}):i.customIdGenerator?i.customIdGenerator({model:a}):mF()}}:{}}},p=({model:e,field:t})=>{let r=o(e),n=s({field:t,model:r}),i=a[r].fields;return i.id=d({customModelName:r}),i[n]},f=async(e,t,n,s)=>{let o={},l=a[t].fields,u=i.mapKeysTransformInput??{};for(let c in i.disableIdGeneration||r.advanced?.database?.useNumberId||(l.id=d({customModelName:t,forceAllowId:s&&"id"in e})),l){let s=e[c],d=l[c],p=u[c]||l[c].fieldName||c;if(void 0===s&&(void 0===d.defaultValue&&!d.transform?.input&&!("update"===n&&d.onUpdate)||"update"===n&&!d.onUpdate))continue;let f=function(e,t,r){if("update"===r)return void 0===e&&void 0!==t.onUpdate?"function"==typeof t.onUpdate?t.onUpdate():t.onUpdate:e;return null==e&&void 0!==t.defaultValue?"function"==typeof t.defaultValue?t.defaultValue():t.defaultValue:e}(s,d,n);d.transform?.input&&(f=await d.transform.input(f)),d.references?.field==="id"&&r.advanced?.database?.useNumberId?f=Array.isArray(f)?f.map(e=>null!==e?Number(e):null):null!==f?Number(f):null:!1===i.supportsJSON&&"object"==typeof f&&"json"===d.type?f=JSON.stringify(f):!1===i.supportsDates&&f instanceof Date&&"date"===d.type?f=f.toISOString():!1===i.supportsBooleans&&"boolean"==typeof f&&(f=+!!f),i.customTransformInput&&(f=i.customTransformInput({data:f,action:n,field:p,fieldAttributes:d,model:t,schema:a,options:r})),void 0!==f&&(o[p]=f)}return o},h=async(e,t,n=[])=>{if(!e)return null;let s=i.mapKeysTransformOutput??{},o={},l=a[t].fields;for(let u in l[Object.entries(s).find(([e,t])=>"id"===t)?.[0]??"id"]={type:r.advanced?.database?.useNumberId?"number":"string"},l){if(n.length&&!n.includes(u))continue;let c=l[u];if(c){let l=c.fieldName||u,d=e[Object.entries(s).find(([e,t])=>t===l)?.[0]||l];c.transform?.output&&(d=await c.transform.output(d));let p=s[u]||u;"id"===l||c.references?.field==="id"?null!=d&&(d=String(d)):!1===i.supportsJSON&&"string"==typeof d&&"json"===c.type?d=mo(d):!1===i.supportsDates&&"string"==typeof d&&"date"===c.type?d=new Date(d):!1===i.supportsBooleans&&"number"==typeof d&&"boolean"===c.type&&(d=1===d),i.customTransformOutput&&(d=i.customTransformOutput({data:d,field:p,fieldAttributes:c,select:n,model:t,schema:a,options:r})),o[p]=d}}return o},m=({model:e,where:t})=>{if(!t)return;let n=i.mapKeysTransformInput??{};return t.map(t=>{let{field:i,value:a,operator:l="eq",connector:c="AND"}=t;if("in"===l&&!Array.isArray(a))throw Error("Value must be an array");let d=o(e),f=s({field:i,model:e}),h=n[f]||u({field:f,model:d}),m=p({field:f,model:d});return("id"===f||m.references?.field==="id")&&r.advanced?.database?.useNumberId?Array.isArray(a)?{operator:l,connector:c,field:h,value:a.map(Number)}:{operator:l,connector:c,field:h,value:Number(a)}:{operator:l,connector:c,field:h,value:a}})},g=e({options:r,schema:a,debugLog:c,getFieldName:u,getModelName:l,getDefaultModelName:o,getDefaultFieldName:s,getFieldAttributes:p,transformInput:f,transformOutput:h,transformWhereClause:m}),y=null,v={transaction:async e=>{if(!y)if(i.transaction)ra.debug(`[${i.adapterName}] - Using provided transaction implementation.`),y=i.transaction;else"object"==typeof i.debugLogs&&"isRunningAdapterTests"in i.debugLogs&&i.debugLogs.isRunningAdapterTests||ra.warn(`[${i.adapterName}] - Transactions are not supported. Executing operations sequentially.`),y=e=>e(v);return y(e)},create:async({data:e,model:t,select:r,forceAllowId:n=!1})=>{let a=++wS,s=l(t);if(t=o(t),"id"in e&&!n){ra.warn(`[${i.adapterName}] - You are trying to create a record with an id. This is not allowed as we handle id generation for you, unless you pass in the \`forceAllowId\` parameter. The id will be ignored.`);let t=Error();console.log(t.stack?.split("\n").filter((e,t)=>1!==t).join("\n").replace("Error:","Create method with `id` being called at:")),e.id=void 0}c({method:"create"},`${wA(a)} ${wO(1,4)}`,`${wN("create")} ${wR("Unsafe Input")}:`,{model:s,data:e});let u=e;i.disableTransformInput||(u=await f(e,t,"create",n)),c({method:"create"},`${wA(a)} ${wO(2,4)}`,`${wN("create")} ${wR("Parsed Input")}:`,{model:s,data:u});let d=await g.create({data:u,model:s});c({method:"create"},`${wA(a)} ${wO(3,4)}`,`${wN("create")} ${wR("DB Result")}:`,{model:s,res:d});let p=d;return i.disableTransformOutput||(p=await h(d,t,r)),c({method:"create"},`${wA(a)} ${wO(4,4)}`,`${wN("create")} ${wR("Parsed Result")}:`,{model:s,data:p}),p},update:async({model:e,where:t,update:r})=>{let n=++wS,a=l(e=o(e)),s=m({model:e,where:t});c({method:"update"},`${wA(n)} ${wO(1,4)}`,`${wN("update")} ${wR("Unsafe Input")}:`,{model:a,data:r});let u=r;i.disableTransformInput||(u=await f(r,e,"update")),c({method:"update"},`${wA(n)} ${wO(2,4)}`,`${wN("update")} ${wR("Parsed Input")}:`,{model:a,data:u});let d=await g.update({model:a,where:s,update:u});c({method:"update"},`${wA(n)} ${wO(3,4)}`,`${wN("update")} ${wR("DB Result")}:`,{model:a,data:d});let p=d;return i.disableTransformOutput||(p=await h(d,e)),c({method:"update"},`${wA(n)} ${wO(4,4)}`,`${wN("update")} ${wR("Parsed Result")}:`,{model:a,data:p}),p},updateMany:async({model:e,where:t,update:r})=>{let n=++wS,a=l(e),s=m({model:e,where:t});e=o(e),c({method:"updateMany"},`${wA(n)} ${wO(1,4)}`,`${wN("updateMany")} ${wR("Unsafe Input")}:`,{model:a,data:r});let u=r;i.disableTransformInput||(u=await f(r,e,"update")),c({method:"updateMany"},`${wA(n)} ${wO(2,4)}`,`${wN("updateMany")} ${wR("Parsed Input")}:`,{model:a,data:u});let d=await g.updateMany({model:a,where:s,update:u});return c({method:"updateMany"},`${wA(n)} ${wO(3,4)}`,`${wN("updateMany")} ${wR("DB Result")}:`,{model:a,data:d}),c({method:"updateMany"},`${wA(n)} ${wO(4,4)}`,`${wN("updateMany")} ${wR("Parsed Result")}:`,{model:a,data:d}),d},findOne:async({model:e,where:t,select:r})=>{let n=++wS,a=l(e),s=m({model:e,where:t});e=o(e),c({method:"findOne"},`${wA(n)} ${wO(1,3)}`,`${wN("findOne")}:`,{model:a,where:s,select:r});let u=await g.findOne({model:a,where:s,select:r});c({method:"findOne"},`${wA(n)} ${wO(2,3)}`,`${wN("findOne")} ${wR("DB Result")}:`,{model:a,data:u});let d=u;return i.disableTransformOutput||(d=await h(u,e,r)),c({method:"findOne"},`${wA(n)} ${wO(3,3)}`,`${wN("findOne")} ${wR("Parsed Result")}:`,{model:a,data:d}),d},findMany:async({model:e,where:t,limit:n,sortBy:a,offset:s})=>{let u=++wS,d=n??r.advanced?.database?.defaultFindManyLimit??100,p=l(e),f=m({model:e,where:t});e=o(e),c({method:"findMany"},`${wA(u)} ${wO(1,3)}`,`${wN("findMany")}:`,{model:p,where:f,limit:d,sortBy:a,offset:s});let y=await g.findMany({model:p,where:f,limit:d,sortBy:a,offset:s});c({method:"findMany"},`${wA(u)} ${wO(2,3)}`,`${wN("findMany")} ${wR("DB Result")}:`,{model:p,data:y});let v=y;return i.disableTransformOutput||(v=await Promise.all(y.map(async t=>await h(t,e)))),c({method:"findMany"},`${wA(u)} ${wO(3,3)}`,`${wN("findMany")} ${wR("Parsed Result")}:`,{model:p,data:v}),v},delete:async({model:e,where:t})=>{let r=++wS,n=l(e),i=m({model:e,where:t});e=o(e),c({method:"delete"},`${wA(r)} ${wO(1,2)}`,`${wN("delete")}:`,{model:n,where:i}),await g.delete({model:n,where:i}),c({method:"delete"},`${wA(r)} ${wO(2,2)}`,`${wN("delete")} ${wR("DB Result")}:`,{model:n})},deleteMany:async({model:e,where:t})=>{let r=++wS,n=l(e),i=m({model:e,where:t});e=o(e),c({method:"deleteMany"},`${wA(r)} ${wO(1,2)}`,`${wN("deleteMany")} ${wR("DeleteMany")}:`,{model:n,where:i});let a=await g.deleteMany({model:n,where:i});return c({method:"deleteMany"},`${wA(r)} ${wO(2,2)}`,`${wN("deleteMany")} ${wR("DB Result")}:`,{model:n,data:a}),a},count:async({model:e,where:t})=>{let r=++wS,n=l(e),i=m({model:e,where:t});e=o(e),c({method:"count"},`${wA(r)} ${wO(1,2)}`,`${wN("count")}:`,{model:n,where:i});let a=await g.count({model:n,where:i});return c({method:"count"},`${wA(r)} ${wO(2,2)}`,`${wN("count")}:`,{model:n,data:a}),a},createSchema:g.createSchema?async(e,t)=>{let n=y2(r);return r.secondaryStorage&&!r.session?.storeSessionInDatabase&&delete n.session,r.rateLimit&&"database"===r.rateLimit.storage&&(void 0===r.rateLimit.enabled||!0===r.rateLimit.enabled)&&(n.ratelimit={modelName:r.rateLimit.modelName??"ratelimit",fields:{key:{type:"string",unique:!0,required:!0,fieldName:r.rateLimit.fields?.key??"key"},count:{type:"number",required:!0,fieldName:r.rateLimit.fields?.count??"count"},lastRequest:{type:"number",required:!0,bigint:!0,defaultValue:()=>Date.now(),fieldName:r.rateLimit.fields?.lastRequest??"lastRequest"}}}),g.createSchema({file:t,tables:n})}:void 0,options:{adapterConfig:i,...g.options??{}},id:i.adapterId,...i.debugLogs?.isRunningAdapterTests?{adapterTestDebugLogs:{resetDebugLogs(){wT=wT.filter(e=>e.instance!==n)},printDebugLogs(){let e=`\u2500`.repeat(80),t=wT.filter(e=>e.instance===n);0===t.length||console.log(...t.reverse().map(e=>(e.args[0]=`
${e.args[0]}`,[...e.args,"\n"])).reduce((e,t)=>[...t,...e],[`
${e}`]))}}}:{}};return v};function wA(e){return 8>t1()?`#${e}`:`${t7}#${e}${t4}`}function wO(e,t){return`${re}${t5}[${e}/${t}]${t4}`}function wN(e){return`${t6}${e}${t4}`}function wR(e){return`${t2}(${e})${t4}`}function wP(e){if(!e)return null;if("dialect"in e)return wP(e.dialect);if("createDriver"in e){if(e instanceof vf)return"sqlite";if(e instanceof vE)return"mysql";if(e instanceof vU)return"postgres";if(e instanceof vK)return"mssql"}return"aggregate"in e?"sqlite":"getConnection"in e?"mysql":"connect"in e?"postgres":"fileControl"in e||"open"in e&&"close"in e&&"prepare"in e?"sqlite":null}let wU=async t=>{let r,n=t.database;if(!n)return{kysely:null,databaseType:null,transaction:void 0};if("db"in n)return{kysely:n.db,databaseType:n.type,transaction:n.transaction};if("dialect"in n)return{kysely:new wy({dialect:n.dialect}),databaseType:n.type,transaction:n.transaction};let i=wP(n);if("createDriver"in n&&(r=n),"aggregate"in n&&!("createSession"in n)&&(r=new vf({database:n})),"getConnection"in n&&(r=new vE(n)),"connect"in n&&(r=new vU({pool:n})),"fileControl"in n){let{BunSqliteDialect:t}=await e.A(6145);r=new t({database:n})}if("createSession"in n){let t;try{({DatabaseSync:t}=await import("node:sqlite"))}catch(e){if(null!==e&&"object"==typeof e&&"code"in e&&"ERR_UNKNOWN_BUILTIN_MODULE"!==e.code)throw e}if(t&&n instanceof t){let{NodeSqliteDialect:t}=await e.A(46532);r=new t({database:n})}}return{kysely:r?new wy({dialect:r}):null,databaseType:i,transaction:void 0}},wD=(e,t)=>{let r,n=t.logger,i=t.options,a=i.secondaryStorage,s=i.session?.expiresIn||604800,{createWithHooks:o,updateWithHooks:l,updateManyWithHooks:u}=(r=t.hooks,{createWithHooks:async function(t,n,i,a,s){let o=t;for(let e of r||[]){let t=e[n]?.create?.before;if(t){let e=await t(o,a);if(!1===e)return null;"object"==typeof e&&"data"in e&&(o={...o,...e.data})}}let l=i?await i.fn(o):null,u=!i||i.executeMainFn?await (s||e).create({model:n,data:o,forceAllowId:!0}):l;for(let e of r||[]){let t=e[n]?.create?.after;t&&await t(u,a)}return u},updateWithHooks:async function(t,n,i,a,s,o){let l=t;for(let e of r||[]){let r=e[i]?.update?.before;if(r){let e=await r(t,s);if(!1===e)return null;l="object"==typeof e?e.data:e}}let u=a?await a.fn(l):null,c=!a||a.executeMainFn?await (o||e).update({model:i,update:l,where:n}):u;for(let e of r||[]){let t=e[i]?.update?.after;t&&await t(c,s)}return c},updateManyWithHooks:async function(t,n,i,a,s,o){let l=t;for(let e of r||[]){let r=e[i]?.update?.before;if(r){let e=await r(t,s);if(!1===e)return null;l="object"==typeof e?e.data:e}}let u=a?await a.fn(l):null,c=!a||a.executeMainFn?await (o||e).updateMany({model:i,update:l,where:n}):u;for(let e of r||[]){let t=e[i]?.update?.after;t&&await t(c,s)}return c}});async function c(e){if(!a)return;let t=await a.get(`active-sessions-${e.id}`);if(!t)return;let r=Date.now(),n=(mo(t)||[]).filter(e=>e.expiresAt>r);await Promise.all(n.map(async({token:t})=>{let n=await a.get(t);if(!n)return;let i=mo(n);if(!i)return;let s=Math.max(Math.floor(new Date(i.session.expiresAt).getTime()-r)/1e3,0);await a.set(t,JSON.stringify({session:i.session,user:e}),Math.floor(s))}))}return{createOAuthUser:async(t,r,n)=>e.transaction(async e=>{let i=await o({createdAt:new Date,updatedAt:new Date,...t},"user",void 0,n,e),a=await o({...r,userId:i.id,createdAt:new Date,updatedAt:new Date},"account",void 0,n,e);return{user:i,account:a}}),createUser:async(e,t,r)=>await o({createdAt:new Date,updatedAt:new Date,...e,email:e.email?.toLowerCase()},"user",void 0,t,r),createAccount:async(e,t,r)=>await o({createdAt:new Date,updatedAt:new Date,...e},"account",void 0,t,r),listSessions:async(r,n)=>{if(a){let e=await a.get(`active-sessions-${r}`);if(!e)return[];let n=mo(e)||[],i=Date.now(),s=n.filter(e=>e.expiresAt>i),o=[];for(let e of s){let r=await a.get(e.token);if(r){let e=mo(r);if(!e)return[];let n=mQ(t.options,{...e.session,expiresAt:new Date(e.session.expiresAt)});o.push(n)}}return o}return await (n||e).findMany({model:"session",where:[{field:"userId",value:r}]})},listUsers:async(t,r,n,i,a)=>await (a||e).findMany({model:"user",limit:t,offset:r,sortBy:n,where:i}),countTotalUsers:async(t,r)=>{let n=await (r||e).count({model:"user",where:t});return"string"==typeof n?parseInt(n):n},deleteUser:async(t,r)=>{a&&await a.delete(`active-sessions-${t}`),(!a||i.session?.storeSessionInDatabase)&&await (r||e).deleteMany({model:"session",where:[{field:"userId",value:t}]}),await (r||e).deleteMany({model:"account",where:[{field:"userId",value:t}]}),await (r||e).delete({model:"user",where:[{field:"id",value:t}]})},createSession:async(t,r,n,l,u,c)=>{let d=r.headers||r.request?.headers,{id:p,...f}=l||{},h={ipAddress:(r.request||r.headers)&&y0(r.request||r.headers,r.context.options)||"",userAgent:d?.get("user-agent")||"",...f,expiresAt:n?ms(86400,"sec"):ms(s,"sec"),userId:t,token:mF(32),createdAt:new Date,updatedAt:new Date,...u?f:{}};return await o(h,"session",a?{fn:async r=>{let n=await a.get(`active-sessions-${t}`),i=[],s=Date.now();n&&(i=(i=mo(n)||[]).filter(e=>e.expiresAt>s));let o=i.sort((e,t)=>e.expiresAt-t.expiresAt),l=o.at(-1)?.expiresAt;o.push({token:h.token,expiresAt:h.expiresAt.getTime()}),(!l||l<h.expiresAt.getTime())&&(l=h.expiresAt.getTime());let u=Math.max(Math.floor((l-s)/1e3),0);u>0&&await a.set(`active-sessions-${t}`,JSON.stringify(o),u);let c=await e.findOne({model:"user",where:[{field:"id",value:t}]}),d=Math.max(Math.floor((h.expiresAt.getTime()-s)/1e3),0);return d>0&&await a.set(h.token,JSON.stringify({session:r,user:c}),d),r},executeMainFn:i.session?.storeSessionInDatabase}:void 0,r,c)},findSession:async(r,n)=>{if(a){let e=await a.get(r);if(!e&&!i.session?.storeSessionInDatabase)return null;if(e){let r=mo(e);return r?{session:mQ(t.options,{...r.session,expiresAt:new Date(r.session.expiresAt),createdAt:new Date(r.session.createdAt),updatedAt:new Date(r.session.updatedAt)}),user:mJ(t.options,{...r.user,createdAt:new Date(r.user.createdAt),updatedAt:new Date(r.user.updatedAt)})}:null}}let s=await (n||e).findOne({model:"session",where:[{value:r,field:"token"}]});if(!s)return null;let o=await (n||e).findOne({model:"user",where:[{value:s.userId,field:"id"}]});return o?{session:mQ(t.options,s),user:mJ(t.options,o)}:null},findSessions:async(t,r)=>{if(a){let e=[];for(let r of t){let t=await a.get(r);if(t){let r=mo(t);if(!r)return[];let n={session:{...r.session,expiresAt:new Date(r.session.expiresAt)},user:{...r.user,createdAt:new Date(r.user.createdAt),updatedAt:new Date(r.user.updatedAt)}};e.push(n)}}return e}let n=await (r||e).findMany({model:"session",where:[{field:"token",value:t,operator:"in"}]}),i=n.map(e=>e.userId);if(!i.length)return[];let s=await (r||e).findMany({model:"user",where:[{field:"id",value:i,operator:"in"}]});return n.map(e=>{let t=s.find(t=>t.id===e.userId);return t?{session:e,user:t}:null})},updateSession:async(e,t,r,n)=>await l(t,[{field:"token",value:e}],"session",a?{async fn(t){let r=await a.get(e);if(!r)return null;{let e=mo(r);return e?{...e.session,...t}:null}},executeMainFn:i.session?.storeSessionInDatabase}:void 0,r,n),deleteSession:async(r,s)=>{if(a){let e=await a.get(r);if(e){let{session:t}=mo(e)??{};if(!t)return void n.error("Session not found in secondary storage");let i=t.userId,s=await a.get(`active-sessions-${i}`);if(s){let e=mo(s)||[],t=Date.now(),n=e.filter(e=>e.expiresAt>t&&e.token!==r),o=n.sort((e,t)=>e.expiresAt-t.expiresAt),l=o.at(-1)?.expiresAt;n.length>0&&l&&l>Date.now()?await a.set(`active-sessions-${i}`,JSON.stringify(n),Math.floor((l-t)/1e3)):await a.delete(`active-sessions-${i}`)}else n.error("Active sessions list not found in secondary storage")}if(await a.delete(r),!i.session?.storeSessionInDatabase||t.options.session?.preserveSessionInDatabase)return}await (s||e).delete({model:"session",where:[{field:"token",value:r}]})},deleteAccounts:async(t,r)=>{await (r||e).deleteMany({model:"account",where:[{field:"userId",value:t}]})},deleteAccount:async(t,r)=>{await (r||e).delete({model:"account",where:[{field:"id",value:t}]})},deleteSessions:async(r,n)=>{if(a){if("string"==typeof r){let e=await a.get(`active-sessions-${r}`),t=e?mo(e):[];if(!t)return;for(let e of t)await a.delete(e.token)}else for(let e of r)await a.get(e)&&await a.delete(e);if(!i.session?.storeSessionInDatabase||t.options.session?.preserveSessionInDatabase)return}await (n||e).deleteMany({model:"session",where:[{field:Array.isArray(r)?"token":"userId",value:r,operator:Array.isArray(r)?"in":void 0}]})},findOAuthUser:async(t,r,n,i)=>{let a=await (i||e).findMany({model:"account",where:[{value:r,field:"accountId"}]}).then(e=>e.find(e=>e.providerId===n));if(a){let r=await (i||e).findOne({model:"user",where:[{value:a.userId,field:"id"}]});if(r)return{user:r,accounts:[a]};{let r=await (i||e).findOne({model:"user",where:[{value:t.toLowerCase(),field:"email"}]});return r?{user:r,accounts:[a]}:null}}{let r=await (i||e).findOne({model:"user",where:[{value:t.toLowerCase(),field:"email"}]});if(!r)return null;{let t=await (i||e).findMany({model:"account",where:[{value:r.id,field:"userId"}]});return{user:r,accounts:t||[]}}}},findUserByEmail:async(t,r,n)=>{let i=await (n||e).findOne({model:"user",where:[{value:t.toLowerCase(),field:"email"}]});if(!i)return null;if(r?.includeAccounts){let t=await (n||e).findMany({model:"account",where:[{value:i.id,field:"userId"}]});return{user:i,accounts:t}}return{user:i,accounts:[]}},findUserById:async(t,r)=>await (r||e).findOne({model:"user",where:[{field:"id",value:t}]}),linkAccount:async(e,t,r)=>await o({createdAt:new Date,updatedAt:new Date,...e},"account",void 0,t,r),updateUser:async(e,t,r,n)=>{let i=await l(t,[{field:"id",value:e}],"user",void 0,r,n);return await c(i),await c(i),i},updateUserByEmail:async(e,t,r,n)=>{let i=await l(t,[{field:"email",value:e.toLowerCase()}],"user",void 0,r,n);return await c(i),await c(i),i},updatePassword:async(e,t,r,n)=>{await u({password:t},[{field:"userId",value:e},{field:"providerId",value:"credential"}],"account",void 0,r,n)},findAccounts:async(t,r)=>await (r||e).findMany({model:"account",where:[{field:"userId",value:t}]}),findAccount:async(t,r)=>await (r||e).findOne({model:"account",where:[{field:"accountId",value:t}]}),findAccountByProviderId:async(t,r,n)=>await (n||e).findOne({model:"account",where:[{field:"accountId",value:t},{field:"providerId",value:r}]}),findAccountByUserId:async(t,r)=>await (r||e).findMany({model:"account",where:[{field:"userId",value:t}]}),updateAccount:async(e,t,r,n)=>await l(t,[{field:"id",value:e}],"account",void 0,r,n),createVerificationValue:async(e,t,r)=>await o({createdAt:new Date,updatedAt:new Date,...e},"verification",void 0,t,r),findVerificationValue:async(t,r)=>{let n=await (r||e).findMany({model:"verification",where:[{field:"identifier",value:t}],sortBy:{field:"createdAt",direction:"desc"},limit:1});return i.verification?.disableCleanup||await (r||e).deleteMany({model:"verification",where:[{field:"expiresAt",value:new Date,operator:"lt"}]}),n[0]},deleteVerificationValue:async(t,r)=>{await (r||e).delete({model:"verification",where:[{field:"id",value:t}]})},deleteVerificationByIdentifier:async(t,r)=>{await (r||e).delete({model:"verification",where:[{field:"identifier",value:t}]})},updateVerificationValue:async(e,t,r,n)=>await l(t,[{field:"id",value:e}],"verification",void 0,r,n)}};async function wC(e){var t,r;let n,i,a,s;if(!e.database){let r,n,i=Object.keys(y2(e)).reduce((e,t)=>(e[t]=[],e),{});return ra.warn("No database configuration provided. Using memory adapter in development"),(r=null,n=wI({config:{adapterId:"memory",adapterName:"Memory Adapter",usePlural:!1,debugLogs:t?.debugLogs||!1,customTransformInput:e=>e.options.advanced?.database?.useNumberId&&"id"===e.field&&"create"===e.action?i[e.model].length+1:e.data,transaction:async e=>{let t=structuredClone(i);try{return await e(n(r))}catch(e){throw Object.keys(i).forEach(e=>{i[e]=t[e]}),e}}},adapter:({getFieldName:e,options:t,debugLog:r})=>{function n(e,t){let r=i[t];if(!r)throw ra.error(`[MemoryAdapter] Model ${t} not found in the DB`,Object.keys(i)),Error(`Model ${t} not found`);let n=(e,t)=>{let{field:r,value:n,operator:i}=t;switch(i){case"in":if(!Array.isArray(n))throw Error("Value must be an array");return n.includes(e[r]);case"not_in":if(!Array.isArray(n))throw Error("Value must be an array");return!n.includes(e[r]);case"contains":return e[r].includes(n);case"starts_with":return e[r].startsWith(n);case"ends_with":return e[r].endsWith(n);case"ne":return e[r]!==n;case"gt":return null!=n&&e[r]>n;case"gte":return null!=n&&e[r]>=n;case"lt":return null!=n&&e[r]<n;case"lte":return null!=n&&e[r]<=n;default:return e[r]===n}};return r.filter(t=>{if(!e.length||0===e.length)return!0;let r=n(t,e[0]);for(let i of e){let e=n(t,i);r="OR"===i.connector?r||e:r&&e}return r})}return{create:async({model:e,data:r})=>(t.advanced?.database?.useNumberId&&(r.id=i[e].length+1),i[e]||(i[e]=[]),i[e].push(r),r),findOne:async({model:e,where:t})=>n(t,e)[0]||null,findMany:async({model:t,where:r,sortBy:a,limit:s,offset:o})=>{let l=i[t];return r&&(l=n(r,t)),a&&(l=l.sort((r,n)=>{let i=e({model:t,field:a.field}),s=r[i],o=n[i],l=0;return l=null==s&&null==o?0:null==s?-1:null==o?1:"string"==typeof s&&"string"==typeof o?s.localeCompare(o):s instanceof Date&&o instanceof Date?s.getTime()-o.getTime():"number"==typeof s&&"number"==typeof o?s-o:"boolean"==typeof s&&"boolean"==typeof o?s===o?0:s?1:-1:String(s).localeCompare(String(o)),"asc"===a.direction?l:-l})),void 0!==o&&(l=l.slice(o)),void 0!==s&&(l=l.slice(0,s)),l||[]},count:async({model:e,where:t})=>t?n(t,e).length:i[e].length,update:async({model:e,where:t,update:r})=>{let i=n(t,e);return i.forEach(e=>{Object.assign(e,r)}),i[0]||null},delete:async({model:e,where:t})=>{let r=i[e],a=n(t,e);i[e]=r.filter(e=>!a.includes(e))},deleteMany:async({model:e,where:t})=>{let r=i[e],a=n(t,e),s=0;return i[e]=r.filter(e=>a.includes(e)?(s++,!1):!a.includes(e)),s},updateMany({model:e,where:t,update:r}){let i=n(t,e);return i.forEach(e=>{Object.assign(e,r)}),i[0]||null}}}}),e=>(r=e,n(e)))(e)}if("function"==typeof e.database)return e.database(e);let{kysely:o,databaseType:l,transaction:u}=await wU(e);if(!o)throw new tq("Failed to initialize database adapter");return(r={type:l||"sqlite",debugLogs:"debugLogs"in e.database&&e.database.debugLogs,transaction:u},n=null,i=e=>({getFieldName:t,schema:n,getDefaultModelName:i})=>{let a=async(n,i,a,s)=>{if(r?.type==="mysql"){await i.execute();let r=n.id?"id":s.length>0&&s[0]?.field?s[0].field:"id";if(!n.id&&0===s.length)return await e.selectFrom(a).selectAll().orderBy(t({model:a,field:r}),"desc").limit(1).executeTakeFirst();let o=n[r]||s[0]?.value;return await e.selectFrom(a).selectAll().orderBy(t({model:a,field:r}),"desc").where(t({model:a,field:r}),"=",o).limit(1).executeTakeFirst()}return r?.type==="mssql"?await i.outputAll("inserted").executeTakeFirst():await i.returningAll().executeTakeFirst()};function s(e){function t(e){for(let n in e){if(!Object.prototype.hasOwnProperty.call(e,n))continue;let i=e[n];i instanceof Date&&r?.type==="mysql"||"object"==typeof i&&null!==i&&t(i)}}if(Array.isArray(e))for(let r=0;r<e.length;r++){let n=e[r];"object"==typeof n&&null!==n&&t(n)}else"object"==typeof e&&null!==e&&t(e);return e}function o(e,i){if(!i)return{and:null,or:null};let a=[],s=[];return i.forEach(i=>{let{field:o,value:l,operator:u="=",connector:c="AND"}=i,d=t({model:e,field:o});l=function(e,t,i){if("id"===i)return e;let{type:a="sqlite"}=r||{},s=n[t]?.fields[i];return(s||(s=Object.values(n).find(e=>e.modelName===t)),"boolean"===s.type&&("sqlite"===a||"mssql"===a)&&null!=e)?+!!e:"date"===s.type&&e&&e instanceof Date&&"sqlite"===a?e.toISOString():e}(l,e,o);let p=e=>"in"===u.toLowerCase()?e(d,"in",Array.isArray(l)?l:[l]):"not_in"===u.toLowerCase()?e(d,"not in",Array.isArray(l)?l:[l]):"contains"===u?e(d,"like",`%${l}%`):"starts_with"===u?e(d,"like",`${l}%`):"ends_with"===u?e(d,"like",`%${l}`):e(d,"eq"===u?"=":"ne"===u?"<>":"gt"===u?">":"gte"===u?">=":"lt"===u?"<":"lte"===u?"<=":u,l);"OR"===c?s.push(p):a.push(p)}),{and:a.length?a:null,or:s.length?s:null}}return{async create({data:t,model:r}){let n=e.insertInto(r).values(t);return s(await a(t,n,r,[]))},async findOne({model:t,where:r,select:n}){let{and:i,or:a}=o(t,r),l=e.selectFrom(t).selectAll();i&&(l=l.where(e=>e.and(i.map(t=>t(e))))),a&&(l=l.where(e=>e.or(a.map(t=>t(e)))));let u=await l.executeTakeFirst();return u?s(u):null},async findMany({model:n,where:i,limit:a,offset:l,sortBy:u}){let{and:c,or:d}=o(n,i),p=e.selectFrom(n);c&&(p=p.where(e=>e.and(c.map(t=>t(e))))),d&&(p=p.where(e=>e.or(d.map(t=>t(e))))),r?.type==="mssql"?l||(p=p.top(a||100)):p=p.limit(a||100),u&&(p=p.orderBy(t({model:n,field:u.field}),u.direction)),l&&(r?.type==="mssql"?(u||(p=p.orderBy(t({model:n,field:"id"}))),p=p.offset(l).fetch(a||100)):p=p.offset(l));let f=await p.selectAll().execute();return f?s(f):[]},async update({model:t,where:r,update:n}){let{and:i,or:l}=o(t,r),u=e.updateTable(t).set(n);return i&&(u=u.where(e=>e.and(i.map(t=>t(e))))),l&&(u=u.where(e=>e.or(l.map(t=>t(e))))),s(await a(n,u,t,r))},async updateMany({model:t,where:r,update:n}){let{and:i,or:a}=o(t,r),s=e.updateTable(t).set(n);return i&&(s=s.where(e=>e.and(i.map(t=>t(e))))),a&&(s=s.where(e=>e.or(a.map(t=>t(e))))),(await s.execute()).length},async count({model:t,where:r}){let{and:n,or:i}=o(t,r),a=e.selectFrom(t).select(e.fn.count("id").as("count"));n&&(a=a.where(e=>e.and(n.map(t=>t(e))))),i&&(a=a.where(e=>e.or(i.map(t=>t(e)))));let s=await a.execute();return"number"==typeof s[0].count?s[0].count:"bigint"==typeof s[0].count?Number(s[0].count):parseInt(s[0].count)},async delete({model:t,where:r}){let{and:n,or:i}=o(t,r),a=e.deleteFrom(t);n&&(a=a.where(e=>e.and(n.map(t=>t(e))))),i&&(a=a.where(e=>e.or(i.map(t=>t(e))))),await a.execute()},async deleteMany({model:t,where:r}){let{and:n,or:i}=o(t,r),a=e.deleteFrom(t);return n&&(a=a.where(e=>e.and(n.map(t=>t(e))))),i&&(a=a.where(e=>e.or(i.map(t=>t(e))))),(await a.execute()).length},options:r}},a=null,a={config:{adapterId:"kysely",adapterName:"Kysely Adapter",usePlural:r?.usePlural,debugLogs:r?.debugLogs,supportsBooleans:r?.type!=="sqlite"&&r?.type!=="mssql"&&r?.type!=="mysql"&&!!r?.type,supportsDates:r?.type!=="sqlite"&&r?.type!=="mssql"&&!!r?.type,supportsJSON:!1,transaction:!!r?.transaction&&(e=>o.transaction().execute(t=>e(wI({config:a.config,adapter:i(t)})(n))))},adapter:i(o)},s=wI(a),e=>(n=e,s(e)))(e)}let wj={postgres:{string:["character varying","varchar","text"],number:["int4","integer","bigint","smallint","numeric","real","double precision"],boolean:["bool","boolean"],date:["timestamptz","timestamp","date"],json:["json","jsonb"]},mysql:{string:["varchar","text"],number:["integer","int","bigint","smallint","decimal","float","double"],boolean:["boolean","tinyint"],date:["timestamp","datetime","date"],json:["json"]},sqlite:{string:["TEXT"],number:["INTEGER","REAL"],boolean:["INTEGER","BOOLEAN"],date:["DATE","INTEGER"],json:["TEXT"]},mssql:{string:["varchar","nvarchar"],number:["int","bigint","smallint","decimal","float","double"],boolean:["bit","smallint"],date:["datetime2","date","datetime"],json:["varchar","nvarchar"]}};async function wL(e){try{let t=await vu.sql`SHOW search_path`.execute(e);if(t.rows[0]?.search_path)return t.rows[0].search_path.split(",").map(e=>e.trim()).map(e=>e.replace(/^["']|["']$/g,"")).filter(e=>!e.startsWith("$"))[0]||"public"}catch(e){}return"public"}async function wz(e){let t=function(e){let t=y2(e),r={};for(let e in t){let n=t[e],i=n.fields,a={};if(Object.entries(i).forEach(([e,r])=>{if(a[r.fieldName||e]=r,r.references){let n=t[r.references.model];n&&(a[r.fieldName||e].references={...r.references,model:n.modelName,field:r.references.field})}}),r[n.modelName]){r[n.modelName].fields={...r[n.modelName].fields,...a};continue}r[n.modelName]={fields:a,order:n.order||1/0}}return r}(e),r=ri(e.logger),{kysely:n,databaseType:i}=await wU(e);i||(r.warn("Could not determine database type, defaulting to sqlite. Please provide a type in the database options to avoid this."),i="sqlite"),n||(r.error("Only kysely adapter is supported for migrations. You can use `generate` command to generate the schema, if you're using a different adapter."),process.exit(1));let a="public";if("postgres"===i){a=await wL(n),r.debug(`PostgreSQL migration: Using schema '${a}' (from search_path)`);try{(await vu.sql`
				SELECT schema_name 
				FROM information_schema.schemata 
				WHERE schema_name = ${a}
			`.execute(n)).rows[0]||r.warn(`Schema '${a}' does not exist. Tables will be inspected from available schemas. Consider creating the schema first or checking your database configuration.`)}catch(e){r.debug(`Could not verify schema existence: ${e instanceof Error?e.message:String(e)}`)}}let s=await n.introspection.getTables(),o=s;if("postgres"===i)try{let e=await vu.sql`
				SELECT table_name 
				FROM information_schema.tables 
				WHERE table_schema = ${a}
				AND table_type = 'BASE TABLE'
			`.execute(n),t=new Set(e.rows.map(e=>e.table_name));o=s.filter(e=>e.schema===a&&t.has(e.name)),r.debug(`Found ${o.length} table(s) in schema '${a}': ${o.map(e=>e.name).join(", ")||"(none)"}`)}catch(e){r.warn(`Could not filter tables by schema. Using all discovered tables. Error: ${e instanceof Error?e.message:String(e)}`)}let l=[],u=[];for(let[e,n]of Object.entries(t)){let t=o.find(t=>t.name===e);if(!t){let t=l.findIndex(t=>t.table===e),r={table:e,fields:n.fields,order:n.order||1/0},i=l.findIndex(e=>(e.order||1/0)>r.order);-1===i?-1===t?l.push(r):l[t].fields={...l[t].fields,...n.fields}:l.splice(i,0,r);continue}let a={};for(let[s,o]of Object.entries(n.fields)){let n=t.columns.find(e=>e.name===s);if(!n){a[s]=o;continue}!function(e,t,r){if("string[]"===t||"number[]"===t)return e.toLowerCase().includes("json");let n=wj[r];return(Array.isArray(t)?n.string.map(e=>e.toLowerCase()):n[t].map(e=>e.toLowerCase())).includes(e.toLowerCase().split("(")[0].trim())}(n.dataType,o.type,i)&&r.warn(`Field ${s} in table ${e} has a different type in the database. Expected ${o.type} but got ${n.dataType}.`)}Object.keys(a).length>0&&u.push({table:e,fields:a,order:n.order||1/0})}let c=[];function d(t,r){let n=t.type,a={string:{sqlite:"text",postgres:"text",mysql:t.unique?"varchar(255)":t.references?"varchar(36)":"text",mssql:t.unique||t.sortable?"varchar(255)":t.references?"varchar(36)":"varchar(8000)"},boolean:{sqlite:"integer",postgres:"boolean",mysql:"boolean",mssql:"smallint"},number:{sqlite:t.bigint?"bigint":"integer",postgres:t.bigint?"bigint":"integer",mysql:t.bigint?"bigint":"integer",mssql:t.bigint?"bigint":"integer"},date:{sqlite:"date",postgres:"timestamptz",mysql:"timestamp(3)",mssql:vu.sql`datetime2(3)`},json:{sqlite:"text",postgres:"jsonb",mysql:"json",mssql:"varchar(8000)"},id:{postgres:e.advanced?.database?.useNumberId?"serial":"text",mysql:e.advanced?.database?.useNumberId?"integer":"varchar(36)",mssql:e.advanced?.database?.useNumberId?"integer":"varchar(36)",sqlite:e.advanced?.database?.useNumberId?"integer":"text"},foreignKeyId:{postgres:e.advanced?.database?.useNumberId?"integer":"text",mysql:e.advanced?.database?.useNumberId?"integer":"varchar(36)",mssql:e.advanced?.database?.useNumberId?"integer":"varchar(36)",sqlite:e.advanced?.database?.useNumberId?"integer":"text"}};return"id"===r||t.references?.field==="id"?"id"===r?a.id[i]:a.foreignKeyId[i]:"sqlite"===i&&("string[]"===n||"number[]"===n)?"text":"string[]"===n||"number[]"===n?"jsonb":Array.isArray(n)?"text":a[n][i||"sqlite"]}if(u.length)for(let e of u)for(let[t,r]of Object.entries(e.fields)){let a=d(r,t),s=n.schema.alterTable(e.table).addColumn(t,a,e=>(e=!1!==r.required?e.notNull():e,r.references&&(e=e.references(`${r.references.model}.${r.references.field}`).onDelete(r.references.onDelete||"cascade")),r.unique&&(e=e.unique()),"date"===r.type&&"function"==typeof r.defaultValue&&("postgres"===i||"mysql"===i||"mssql"===i)&&(e="mysql"===i?e.defaultTo(vu.sql`CURRENT_TIMESTAMP(3)`):e.defaultTo(vu.sql`CURRENT_TIMESTAMP`)),e));c.push(s)}if(l.length)for(let t of l){let r=n.schema.createTable(t.table).addColumn("id",e.advanced?.database?.useNumberId?"postgres"===i?"serial":"integer":"mysql"===i||"mssql"===i?"varchar(36)":"text",t=>e.advanced?.database?.useNumberId?"postgres"===i||"sqlite"===i?t.primaryKey().notNull():"mssql"===i?t.identity().primaryKey().notNull():t.autoIncrement().primaryKey().notNull():t.primaryKey().notNull());for(let[e,n]of Object.entries(t.fields)){let t=d(n,e);r=r.addColumn(e,t,e=>(e=!1!==n.required?e.notNull():e,n.references&&(e=e.references(`${n.references.model}.${n.references.field}`).onDelete(n.references.onDelete||"cascade")),n.unique&&(e=e.unique()),"date"===n.type&&"function"==typeof n.defaultValue&&("postgres"===i||"mysql"===i||"mssql"===i)&&(e="mysql"===i?e.defaultTo(vu.sql`CURRENT_TIMESTAMP(3)`):e.defaultTo(vu.sql`CURRENT_TIMESTAMP`)),e))}c.push(r)}return{toBeCreated:l,toBeAdded:u,runMigrations:async function(){for(let e of c)await e.execute()},compileMigrations:async function(){return c.map(e=>e.compile().sql).join(";\n\n")+";"}}}async function wM(e,t){let r=await t.context.internalAdapter.findAccounts(e),n=r?.find(e=>"credential"===e.providerId),i=n?.password;if(!n||!i||!t.body.password)throw new rk("BAD_REQUEST",{message:"No password credential found"});if(!await t.context.password.verify({hash:i,password:t.body.password}))throw new rk("BAD_REQUEST",{message:"Invalid password"});return!0}async function wq(e){let t=await mB("SHA-256").digest(e);return ru.encode(t)}async function wZ(){if(a)return a;try{let e="undefined"!=typeof process&&"function"==typeof process.cwd?process.cwd():"";if(!e)return;let[{default:t},{default:r}]=await Promise.all([Function("mm","return import(mm)")("fs/promises"),Function("mm","return import(mm)")("path")]),n=await t.readFile(r.join(e,"package.json"),"utf-8");return a=JSON.parse(n)}catch{}}async function wV(e){if(a)return a.dependencies?.[e]||a.devDependencies?.[e]||a.peerDependencies?.[e];try{let t="undefined"!=typeof process&&"function"==typeof process.cwd?process.cwd():"";if(!t)throw Error("no-cwd");let[{default:r},{default:n}]=await Promise.all([Function("mm","return import(mm)")("fs/promises"),Function("mm","return import(mm)")("path")]),i=n.join(t,"node_modules",e,"package.json"),a=await r.readFile(i,"utf-8");return JSON.parse(a).version||await wF(e)||void 0}catch{}return await wF(e)}async function wF(e){let t=await wZ();if(t)return({...t.dependencies,...t.devDependencies,...t.peerDependencies})[e]}async function wB(){let e=await wZ();return e?.name}let wW=null;async function wH(e){if(wW)return wW;let t=await wB();return t?wW=await wq(e?e+t:t):e?wW=await wq(e):wW=mv("a-z","A-Z","0-9")(32)}function wK(){let e=(...e)=>e.some(e=>!!tF[e]);return e("CF_PAGES","CF_PAGES_URL","CF_ACCOUNT_ID")||"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent?"cloudflare":e("VERCEL","VERCEL_URL","VERCEL_ENV")?"vercel":e("NETLIFY","NETLIFY_URL")?"netlify":e("RENDER","RENDER_URL","RENDER_INTERNAL_HOSTNAME","RENDER_SERVICE_ID")?"render":e("AWS_LAMBDA_FUNCTION_NAME","AWS_EXECUTION_ENV","LAMBDA_TASK_ROOT")?"aws":e("GOOGLE_CLOUD_FUNCTION_NAME","GOOGLE_CLOUD_PROJECT","GCP_PROJECT","K_SERVICE")?"gcp":e("AZURE_FUNCTION_NAME","FUNCTIONS_WORKER_RUNTIME","WEBSITE_INSTANCE_ID","WEBSITE_SITE_NAME")?"azure":e("DENO_DEPLOYMENT_ID","DENO_REGION")?"deno-deploy":e("FLY_APP_NAME","FLY_REGION","FLY_ALLOC_ID")?"fly-io":e("RAILWAY_STATIC_URL","RAILWAY_ENVIRONMENT_NAME")?"railway":e("DYNO","HEROKU_APP_NAME")?"heroku":e("DO_DEPLOYMENT_ID","DO_APP_NAME","DIGITALOCEAN")?"digitalocean":e("KOYEB","KOYEB_DEPLOYMENT_ID","KOYEB_APP_NAME")?"koyeb":null}async function wG(){try{if("cloudflare"===wK())return"cloudflare";let e=await Function("mm","return import(mm)")("os"),t=e.cpus();return{deploymentVendor:wK(),systemPlatform:e.platform(),systemRelease:e.release(),systemArchitecture:e.arch(),cpuCount:t.length,cpuModel:t.length?t[0].model:null,cpuSpeed:t.length?t[0].speed:null,memory:e.totalmem(),isWSL:await wX(),isDocker:await wY(),isTTY:"undefined"!=typeof process&&process.stdout?process.stdout.isTTY:null}}catch(e){return{systemPlatform:null,systemRelease:null,systemArchitecture:null,cpuCount:null,cpuModel:null,cpuSpeed:null,memory:null,isWSL:null,isDocker:null,isTTY:null}}}async function wJ(){if("cloudflare"===wK())return!1;try{return(await Function("mm","return import(mm)")("fs")).statSync("/.dockerenv"),!0}catch{return!1}}async function wQ(){if("cloudflare"===wK())return!1;try{return(await Function("mm","return import(mm)")("fs")).readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}async function wY(){return"cloudflare"!==wK()&&(void 0===s&&(s=await wJ()||await wQ()),s)}async function wX(){try{if("cloudflare"===wK()||"undefined"==typeof process||process?.platform!=="linux")return!1;let e=await Function("mm","return import(mm)")("fs");if((await Function("mm","return import(mm)")("os")).release().toLowerCase().includes("microsoft")){if(await w1())return!1;return!0}return!!e.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")&&!await w1()}catch{return!1}}let w0=async()=>{if("cloudflare"===wK())return!1;try{return(await Function("mm","return import(mm)")("fs")).statSync("/run/.containerenv"),!0}catch{return!1}};async function w1(){return void 0===o&&(o=await w0()||await wY()),o}let w4={pg:"postgresql",mysql:"mysql",mariadb:"mariadb",sqlite3:"sqlite","better-sqlite3":"sqlite","@prisma/client":"prisma",mongoose:"mongodb",mongodb:"mongodb","drizzle-orm":"drizzle"};async function w6(){for(let[e,t]of Object.entries(w4)){let r=await wV(e);if(r)return{name:t,version:r}}}let w2={next:"next",nuxt:"nuxt","@remix-run/server-runtime":"remix",astro:"astro","@sveltejs/kit":"sveltekit","solid-start":"solid-start","tanstack-start":"tanstack-start",hono:"hono",express:"express",elysia:"elysia",expo:"expo"};async function w9(){for(let[e,t]of Object.entries(w2)){let r=await wV(e);if(r)return{name:t,version:r}}}async function w3(e,t){let r,n=e.telemetry?.debug||tJ("BETTER_AUTH_TELEMETRY_DEBUG",!1),i=tQ.BETTER_AUTH_TELEMETRY_ENDPOINT,a=async e=>{try{t?.customTrack?await t.customTrack(e):n?await Promise.resolve(ra.info("telemetry event",JSON.stringify(e,null,2))):await ao(i,{method:"POST",body:e})}catch{}},s=async()=>{let r=e.telemetry?.enabled!==void 0&&e.telemetry.enabled;return(tJ("BETTER_AUTH_TELEMETRY",!1)||r)&&(t?.skipTestCheck||!tK())},o=await s();o&&(r=await wH(e.baseURL),a({type:"init",payload:{config:{database:void 0,adapter:void 0,emailVerification:{sendVerificationEmail:!!e.emailVerification?.sendVerificationEmail,sendOnSignUp:!!e.emailVerification?.sendOnSignUp,sendOnSignIn:!!e.emailVerification?.sendOnSignIn,autoSignInAfterVerification:!!e.emailVerification?.autoSignInAfterVerification,expiresIn:e.emailVerification?.expiresIn,onEmailVerification:!!e.emailVerification?.onEmailVerification,afterEmailVerification:!!e.emailVerification?.afterEmailVerification},emailAndPassword:{enabled:!!e.emailAndPassword?.enabled,disableSignUp:!!e.emailAndPassword?.disableSignUp,requireEmailVerification:!!e.emailAndPassword?.requireEmailVerification,maxPasswordLength:e.emailAndPassword?.maxPasswordLength,minPasswordLength:e.emailAndPassword?.minPasswordLength,sendResetPassword:!!e.emailAndPassword?.sendResetPassword,resetPasswordTokenExpiresIn:e.emailAndPassword?.resetPasswordTokenExpiresIn,onPasswordReset:!!e.emailAndPassword?.onPasswordReset,password:{hash:!!e.emailAndPassword?.password?.hash,verify:!!e.emailAndPassword?.password?.verify},autoSignIn:!!e.emailAndPassword?.autoSignIn,revokeSessionsOnPasswordReset:!!e.emailAndPassword?.revokeSessionsOnPasswordReset},socialProviders:Object.keys(e.socialProviders||{}).map(t=>{let r=e.socialProviders?.[t];return r?{id:t,mapProfileToUser:!!r.mapProfileToUser,disableDefaultScope:!!r.disableDefaultScope,disableIdTokenSignIn:!!r.disableIdTokenSignIn,disableImplicitSignUp:r.disableImplicitSignUp,disableSignUp:r.disableSignUp,getUserInfo:!!r.getUserInfo,overrideUserInfoOnSignIn:!!r.overrideUserInfoOnSignIn,prompt:r.prompt,verifyIdToken:!!r.verifyIdToken,scope:r.scope,refreshAccessToken:!!r.refreshAccessToken}:{}}),plugins:e.plugins?.map(e=>e.id.toString()),user:{modelName:e.user?.modelName,fields:e.user?.fields,additionalFields:e.user?.additionalFields,changeEmail:{enabled:e.user?.changeEmail?.enabled,sendChangeEmailVerification:!!e.user?.changeEmail?.sendChangeEmailVerification}},verification:{modelName:e.verification?.modelName,disableCleanup:e.verification?.disableCleanup,fields:e.verification?.fields},session:{modelName:e.session?.modelName,additionalFields:e.session?.additionalFields,cookieCache:{enabled:e.session?.cookieCache?.enabled,maxAge:e.session?.cookieCache?.maxAge},disableSessionRefresh:e.session?.disableSessionRefresh,expiresIn:e.session?.expiresIn,fields:e.session?.fields,freshAge:e.session?.freshAge,preserveSessionInDatabase:e.session?.preserveSessionInDatabase,storeSessionInDatabase:e.session?.storeSessionInDatabase,updateAge:e.session?.updateAge},account:{modelName:e.account?.modelName,fields:e.account?.fields,encryptOAuthTokens:e.account?.encryptOAuthTokens,updateAccountOnSignIn:e.account?.updateAccountOnSignIn,accountLinking:{enabled:e.account?.accountLinking?.enabled,trustedProviders:e.account?.accountLinking?.trustedProviders,updateUserInfoOnLink:e.account?.accountLinking?.updateUserInfoOnLink,allowUnlinkingAll:e.account?.accountLinking?.allowUnlinkingAll}},hooks:{after:!!e.hooks?.after,before:!!e.hooks?.before},secondaryStorage:!!e.secondaryStorage,advanced:{cookiePrefix:!!e.advanced?.cookiePrefix,cookies:!!e.advanced?.cookies,crossSubDomainCookies:{domain:!!e.advanced?.crossSubDomainCookies?.domain,enabled:e.advanced?.crossSubDomainCookies?.enabled,additionalCookies:e.advanced?.crossSubDomainCookies?.additionalCookies},database:{useNumberId:!!e.advanced?.database?.useNumberId,generateId:e.advanced?.database?.generateId,defaultFindManyLimit:e.advanced?.database?.defaultFindManyLimit},useSecureCookies:e.advanced?.useSecureCookies,ipAddress:{disableIpTracking:e.advanced?.ipAddress?.disableIpTracking,ipAddressHeaders:e.advanced?.ipAddress?.ipAddressHeaders},disableCSRFCheck:e.advanced?.disableCSRFCheck,cookieAttributes:{expires:e.advanced?.defaultCookieAttributes?.expires,secure:e.advanced?.defaultCookieAttributes?.secure,sameSite:e.advanced?.defaultCookieAttributes?.sameSite,domain:!!e.advanced?.defaultCookieAttributes?.domain,path:e.advanced?.defaultCookieAttributes?.path,httpOnly:e.advanced?.defaultCookieAttributes?.httpOnly}},trustedOrigins:e.trustedOrigins?.length,rateLimit:{storage:e.rateLimit?.storage,modelName:e.rateLimit?.modelName,window:e.rateLimit?.window,customStorage:!!e.rateLimit?.customStorage,enabled:e.rateLimit?.enabled,max:e.rateLimit?.max},onAPIError:{errorURL:e.onAPIError?.errorURL,onError:!!e.onAPIError?.onError,throw:e.onAPIError?.throw},logger:{disabled:e.logger?.disabled,level:e.logger?.level,log:!!e.logger?.log},databaseHooks:{user:{create:{after:!!e.databaseHooks?.user?.create?.after,before:!!e.databaseHooks?.user?.create?.before},update:{after:!!e.databaseHooks?.user?.update?.after,before:!!e.databaseHooks?.user?.update?.before}},session:{create:{after:!!e.databaseHooks?.session?.create?.after,before:!!e.databaseHooks?.session?.create?.before},update:{after:!!e.databaseHooks?.session?.update?.after,before:!!e.databaseHooks?.session?.update?.before}},account:{create:{after:!!e.databaseHooks?.account?.create?.after,before:!!e.databaseHooks?.account?.create?.before},update:{after:!!e.databaseHooks?.account?.update?.after,before:!!e.databaseHooks?.account?.update?.before}},verification:{create:{after:!!e.databaseHooks?.verification?.create?.after,before:!!e.databaseHooks?.verification?.create?.before},update:{after:!!e.databaseHooks?.verification?.update?.after,before:!!e.databaseHooks?.verification?.update?.before}}}},runtime:"undefined"!=typeof Deno?{name:"deno",version:Deno?.version?.deno??null}:"undefined"!=typeof Bun?{name:"bun",version:Bun?.version??null}:"undefined"!=typeof process&&process?.versions?.node?{name:"node",version:process.versions.node??null}:{name:"edge",version:null},database:await w6(),framework:await w9(),environment:"production"===tG("NODE_ENV")?"production":"false"!==tF.CI&&("BUILD_ID"in tF||"BUILD_NUMBER"in tF||"CI"in tF||"CI_APP_ID"in tF||"CI_BUILD_ID"in tF||"CI_BUILD_NUMBER"in tF||"CI_NAME"in tF||"CONTINUOUS_INTEGRATION"in tF||"RUN_ID"in tF)?"ci":tK()?"test":"development",systemInfo:await wG(),packageManager:function(){let e=tF.npm_config_user_agent;if(!e)return;let t=e.split(" ")[0],r=t.lastIndexOf("/"),n=t.substring(0,r);return{name:"npminstall"===n?"cnpm":n,version:t.substring(r+1)}}()},anonymousId:r}));return{publish:async t=>{o&&(r||(r=await wH(e.baseURL)),await a({type:t.type,payload:t.payload,anonymousId:r}))}}}let w5="better-auth-secret-123456789";function w8(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}let w7=async e=>{var t,r,n;let i,a,s,o,l,u=await wC(e),c=e.plugins||[],d=(r=e,r.advanced?.crossSubDomainCookies?.enabled,[]),p=ri(e.logger),f=mu(e.baseURL,e.basePath),h=e.secret||tF.BETTER_AUTH_SECRET||tF.AUTH_SECRET||w5;h===w5&&tW&&p.error("You are using the default secret. Please set `BETTER_AUTH_SECRET` in your environment variables or pass `secret` in your auth config."),function(e,t){let r=new Map;e.plugins?.forEach(e=>{if(e.endpoints){for(let[t,n]of Object.entries(e.endpoints))if(n&&"path"in n){let i=n.path,a=[];n.options&&"method"in n.options&&(Array.isArray(n.options.method)?a=n.options.method:"string"==typeof n.options.method&&(a=[n.options.method])),0===a.length&&(a=["*"]),r.has(i)||r.set(i,[]),r.get(i).push({pluginId:e.id,endpointKey:t,methods:a})}}});let n=[];for(let[e,t]of r.entries())if(t.length>1){let r=new Map,i=!1;for(let e of t)for(let n of e.methods)r.has(n)||r.set(n,[]),r.get(n).push(e.pluginId),r.get(n).length>1&&(i=!0),"*"===n&&t.length>1?i=!0:"*"!==n&&r.has("*")&&(i=!0);if(i){let i=[...new Set(t.map(e=>e.pluginId))],a=[];for(let[e,n]of r.entries())(n.length>1||"*"===e&&t.length>1||"*"!==e&&r.has("*"))&&a.push(e);n.push({path:e,plugins:i,conflictingMethods:a})}}if(n.length>0){let e=n.map(e=>`  - "${e.path}" [${e.conflictingMethods.join(", ")}] used by plugins: ${e.plugins.join(", ")}`).join("\n");t.error(`Endpoint path conflicts detected! Multiple plugins are trying to use the same endpoint paths with conflicting HTTP methods:
${e}

To resolve this, you can:
	1. Use only one of the conflicting plugins
	2. Configure the plugins to use different paths (if supported)
	3. Ensure plugins use different HTTP methods for the same path
`)}}(e={...e,secret:h,baseURL:f?new URL(f).origin:"",basePath:e.basePath||"/api/auth",plugins:c.concat(d)},p);let m=(s=(a=mf(t=e))("session_token",{maxAge:t.session?.expiresIn||(n=0,function(e){!1;let t=/^(?<value>-?\d*\.?\d+) *(?<unit>milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|months?|mo|years?|yrs?|y)?$/i.exec("7d");if(!t?.groups)return NaN;let{value:r,unit:n="ms"}=t.groups,i=parseFloat(r),a=n.toLowerCase();switch(a){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*i;case"months":case"month":case"mo":return 26298e5*i;case"weeks":case"week":case"w":return 6048e5*i;case"days":case"day":case"d":return 864e5*i;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*i;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*i;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:throw Error(`Unknown unit "${a}" provided to ms.parse(). value=${JSON.stringify("7d")}`)}}("7d")/1e3)}),o=a("session_data",{maxAge:t.session?.cookieCache?.maxAge||300}),l=a("dont_remember"),{sessionToken:{name:s.name,options:s.attributes},sessionData:{name:o.name,options:o.attributes},dontRememberToken:{name:l.name,options:l.attributes}}),g=y2(e),y=Object.entries(e.socialProviders||{}).map(([e,t])=>{if(null==t||!1===t.enabled)return null;t.clientId||p.warn(`Social provider ${e} is missing clientId or clientSecret`);let r=mP[e](t);return r.disableImplicitSignUp=t.disableImplicitSignUp,r}).filter(e=>null!==e),{publish:v}=await w3(e,{adapter:u.id,database:"function"==typeof e.database?"adapter":wP(e.database)||"unknown"}),b={appName:e.appName||"Better Auth",socialProviders:y,options:e,tables:g,trustedOrigins:function(e){let t=mu(e.baseURL,e.basePath);if(!t)return[];let r=[new URL(t).origin];e.trustedOrigins&&Array.isArray(e.trustedOrigins)&&r.push(...e.trustedOrigins);let n=tF.BETTER_AUTH_TRUSTED_ORIGINS;if(n&&r.push(...n.split(",")),r.filter(e=>!e).length)throw new tq("A provided trusted origin is invalid, make sure your trusted origins list is properly defined.");return r}(e),baseURL:f||"",sessionConfig:{updateAge:e.session?.updateAge!==void 0?e.session.updateAge:86400,expiresIn:e.session?.expiresIn||604800,freshAge:e.session?.freshAge===void 0?86400:e.session.freshAge},secret:h,rateLimit:{...e.rateLimit,enabled:e.rateLimit?.enabled??tW,window:e.rateLimit?.window||10,max:e.rateLimit?.max||100,storage:e.rateLimit?.storage||(e.secondaryStorage?"secondary-storage":"memory")},authCookies:m,logger:p,generateId:({model:t,size:r})=>"function"==typeof e.advanced?.generateId?e.advanced.generateId({model:t,size:r}):"function"==typeof e?.advanced?.database?.generateId?e.advanced.database.generateId({model:t,size:r}):mF(r),session:null,secondaryStorage:e.secondaryStorage,password:{hash:e.emailAndPassword?.password?.hash||yc,verify:e.emailAndPassword?.password?.verify||yd,config:{minPasswordLength:e.emailAndPassword?.minPasswordLength||8,maxPasswordLength:e.emailAndPassword?.maxPasswordLength||128},checkPassword:wM},setNewSession(e){this.newSession=e},newSession:null,adapter:u,internalAdapter:wD(u,{options:e,logger:p,hooks:e.databaseHooks?[e.databaseHooks]:[]}),createAuthCookie:mf(e),async runMigrations(){if(!e.database||"updateMany"in e.database)throw new tq("Database is not provided or it's an adapter. Migrations are only supported with a database instance.");let{runMigrations:t}=await wz(e);await t()},publishTelemetry:v,skipCSRFCheck:!!e.advanced?.disableCSRFCheck,skipOriginCheck:e.advanced?.disableOriginCheck!==void 0?e.advanced.disableOriginCheck:!!tK()},w=_e(b);return w8(w)?{context:i}=await w:{context:i}=w,i};async function _e(e){let t=e.options,r=t.plugins||[],n=e,i=[];for(let e of r)if(e.init){let r,a=e.init(n);if("object"==typeof(r=w8(a)?await a:a)){if(r.options){let{databaseHooks:e,...n}=r.options;e&&i.push(e),t=m4(t,n)}r.context&&(n={...n,...r.context})}}return i.push(t.databaseHooks),n.internalAdapter=wD(e.adapter,{options:t,logger:e.logger,hooks:i.filter(e=>void 0!==e),generateId:e.generateId}),n.options=t,{context:n}}function _t(e,t){if(e instanceof Promise)throw Error(t)}e.s([],31805),e.i(31805),(M=K||(K={})).assertEqual=e=>{},M.assertIs=function(e){},M.assertNever=function(e){throw Error()},M.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},M.getValidEnumValues=e=>{let t=M.objectKeys(e).filter(t=>"number"!=typeof e[e[t]]),r={};for(let n of t)r[n]=e[n];return M.objectValues(r)},M.objectValues=e=>M.objectKeys(e).map(function(t){return e[t]}),M.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},M.find=(e,t)=>{for(let r of e)if(t(r))return r},M.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,M.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},M.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t,(G||(G={})).mergeShapes=(e,t)=>({...e,...t});let _r=K.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),_n=e=>{switch(typeof e){case"undefined":return _r.undefined;case"string":return _r.string;case"number":return Number.isNaN(e)?_r.nan:_r.number;case"boolean":return _r.boolean;case"function":return _r.function;case"bigint":return _r.bigint;case"symbol":return _r.symbol;case"object":if(Array.isArray(e))return _r.array;if(null===e)return _r.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return _r.promise;if("undefined"!=typeof Map&&e instanceof Map)return _r.map;if("undefined"!=typeof Set&&e instanceof Set)return _r.set;if("undefined"!=typeof Date&&e instanceof Date)return _r.date;return _r.object;default:return _r.unknown}};e.s(["ZodParsedType",0,_r,"getParsedType",0,_n,"objectUtil",()=>G,"util",()=>K],86393);let _i=K.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),_a=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class _s extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},n=e=>{for(let i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(n);else if("invalid_return_type"===i.code)n(i.returnTypeError);else if("invalid_arguments"===i.code)n(i.argumentsError);else if(0===i.path.length)r._errors.push(t(i));else{let e=r,n=0;for(;n<i.path.length;){let r=i.path[n];n===i.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(i))):e[r]=e[r]||{_errors:[]},e=e[r],n++}}};return n(this),r}static assert(e){if(!(e instanceof _s))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,K.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let n of this.issues)if(n.path.length>0){let r=n.path[0];t[r]=t[r]||[],t[r].push(e(n))}else r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}_s.create=e=>new _s(e),e.s(["ZodError",()=>_s,"ZodIssueCode",0,_i,"quotelessJson",0,_a],63779);let _o=(e,t)=>{let r;switch(e.code){case _i.invalid_type:r=e.received===_r.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case _i.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,K.jsonStringifyReplacer)}`;break;case _i.unrecognized_keys:r=`Unrecognized key(s) in object: ${K.joinValues(e.keys,", ")}`;break;case _i.invalid_union:r="Invalid input";break;case _i.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${K.joinValues(e.options)}`;break;case _i.invalid_enum_value:r=`Invalid enum value. Expected ${K.joinValues(e.options)}, received '${e.received}'`;break;case _i.invalid_arguments:r="Invalid function arguments";break;case _i.invalid_return_type:r="Invalid function return type";break;case _i.invalid_date:r="Invalid date";break;case _i.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:K.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case _i.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case _i.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case _i.custom:r="Invalid input";break;case _i.invalid_intersection_types:r="Intersection results could not be merged";break;case _i.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case _i.not_finite:r="Number must be finite";break;default:r=t.defaultError,K.assertNever(e)}return{message:r}},_l=_o;function _u(e){_l=e}function _c(){return _l}e.s(["getErrorMap",()=>_c,"setErrorMap",()=>_u],56014),e.i(56014),e.s(["defaultErrorMap",0,_o,"getErrorMap",()=>_c,"setErrorMap",()=>_u],23081),e.i(23081);let _d=e=>{let{data:t,path:r,errorMaps:n,issueData:i}=e,a=[...r,...i.path||[]],s={...i,path:a};if(void 0!==i.message)return{...i,path:a,message:i.message};let o="";for(let e of n.filter(e=>!!e).slice().reverse())o=e(s,{data:t,defaultError:o}).message;return{...i,path:a,message:o}},_p=[];function _f(e,t){let r=_l,n=_d({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===_o?void 0:_o].filter(e=>!!e)});e.common.issues.push(n)}class _h{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let n of t){if("aborted"===n.status)return _m;"dirty"===n.status&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,n=await e.value;r.push({key:t,value:n})}return _h.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let n of t){let{key:t,value:i}=n;if("aborted"===t.status||"aborted"===i.status)return _m;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==i.value||n.alwaysSet)&&(r[t.value]=i.value)}return{status:e.value,value:r}}}let _m=Object.freeze({status:"aborted"}),_g=e=>({status:"dirty",value:e}),_y=e=>({status:"valid",value:e}),_v=e=>"aborted"===e.status,_b=e=>"dirty"===e.status,_w=e=>"valid"===e.status,__=e=>"undefined"!=typeof Promise&&e instanceof Promise;e.s(["DIRTY",0,_g,"EMPTY_PATH",0,_p,"INVALID",0,_m,"OK",0,_y,"ParseStatus",()=>_h,"addIssueToContext",()=>_f,"isAborted",0,_v,"isAsync",0,__,"isDirty",0,_b,"isValid",0,_w,"makeIssue",0,_d],95186),e.i(95186),e.s([],83087),e.i(83087),e.i(86393),(q=J||(J={})).errToObj=e=>"string"==typeof e?{message:e}:e||{},q.toString=e=>"string"==typeof e?e:e?.message;class _x{constructor(e,t,r,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let _k=(e,t)=>{if(_w(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new _s(e.common.issues);return this._error=t,this._error}}};function _E(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:i}:{errorMap:(t,i)=>{let{message:a}=e;return"invalid_enum_value"===t.code?{message:a??i.defaultError}:void 0===i.data?{message:a??n??i.defaultError}:"invalid_type"!==t.code?{message:i.defaultError}:{message:a??r??i.defaultError}},description:i}}class _${get description(){return this._def.description}_getType(e){return _n(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:_n(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new _h,ctx:{common:e.parent.common,data:e.data,parsedType:_n(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(__(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){let r={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:_n(e)},n=this._parseSync({data:e,path:r.path,parent:r});return _k(r,n)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:_n(e)};if(!this["~standard"].async)try{let r=this._parseSync({data:e,path:[],parent:t});return _w(r)?{value:r.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>_w(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:_n(e)},n=this._parse({data:e,path:r.path,parent:r});return _k(r,await (__(n)?n:Promise.resolve(n)))}refine(e,t){return this._refinement((r,n)=>{let i=e(r),a=()=>n.addIssue({code:_i.custom,..."string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(r):t});return"undefined"!=typeof Promise&&i instanceof Promise?i.then(e=>!!e||(a(),!1)):!!i||(a(),!1)})}refinement(e,t){return this._refinement((r,n)=>!!e(r)||(n.addIssue("function"==typeof t?t(r,n):t),!1))}_refinement(e){return new xu({schema:this,typeName:Q.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return xc.create(this,this._def)}nullable(){return xd.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return _4.create(this)}promise(){return xl.create(this,this._def)}or(e){return _2.create([this,e],this._def)}and(e){return _5.create(this,e,this._def)}transform(e){return new xu({..._E(this._def),schema:this,typeName:Q.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new xp({..._E(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:Q.ZodDefault})}brand(){return new xg({typeName:Q.ZodBranded,type:this,..._E(this._def)})}catch(e){return new xf({..._E(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:Q.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return xy.create(this,e)}readonly(){return xv.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let _T=/^c[^\s-]{8,}$/i,_S=/^[0-9a-z]+$/,_I=/^[0-9A-HJKMNP-TV-Z]{26}$/i,_A=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,_O=/^[a-z0-9_-]{21}$/i,_N=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,_R=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,_P=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_U=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,_D=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,_C=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,_j=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,_L=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,_z=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,_M="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",_q=RegExp(`^${_M}$`);function _Z(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function _V(e){let t=`${_M}T${_Z(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}class _F extends _${_parse(e){var t,r,n,i;let a;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==_r.string){let t=this._getOrReturnCtx(e);return _f(t,{code:_i.invalid_type,expected:_r.string,received:t.parsedType}),_m}let s=new _h;for(let o of this._def.checks)if("min"===o.kind)e.data.length<o.value&&(_f(a=this._getOrReturnCtx(e,a),{code:_i.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),s.dirty());else if("max"===o.kind)e.data.length>o.value&&(_f(a=this._getOrReturnCtx(e,a),{code:_i.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),s.dirty());else if("length"===o.kind){let t=e.data.length>o.value,r=e.data.length<o.value;(t||r)&&(a=this._getOrReturnCtx(e,a),t?_f(a,{code:_i.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):r&&_f(a,{code:_i.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),s.dirty())}else if("email"===o.kind)_P.test(e.data)||(_f(a=this._getOrReturnCtx(e,a),{validation:"email",code:_i.invalid_string,message:o.message}),s.dirty());else if("emoji"===o.kind)l||(l=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),l.test(e.data)||(_f(a=this._getOrReturnCtx(e,a),{validation:"emoji",code:_i.invalid_string,message:o.message}),s.dirty());else if("uuid"===o.kind)_A.test(e.data)||(_f(a=this._getOrReturnCtx(e,a),{validation:"uuid",code:_i.invalid_string,message:o.message}),s.dirty());else if("nanoid"===o.kind)_O.test(e.data)||(_f(a=this._getOrReturnCtx(e,a),{validation:"nanoid",code:_i.invalid_string,message:o.message}),s.dirty());else if("cuid"===o.kind)_T.test(e.data)||(_f(a=this._getOrReturnCtx(e,a),{validation:"cuid",code:_i.invalid_string,message:o.message}),s.dirty());else if("cuid2"===o.kind)_S.test(e.data)||(_f(a=this._getOrReturnCtx(e,a),{validation:"cuid2",code:_i.invalid_string,message:o.message}),s.dirty());else if("ulid"===o.kind)_I.test(e.data)||(_f(a=this._getOrReturnCtx(e,a),{validation:"ulid",code:_i.invalid_string,message:o.message}),s.dirty());else if("url"===o.kind)try{new URL(e.data)}catch{_f(a=this._getOrReturnCtx(e,a),{validation:"url",code:_i.invalid_string,message:o.message}),s.dirty()}else"regex"===o.kind?(o.regex.lastIndex=0,o.regex.test(e.data)||(_f(a=this._getOrReturnCtx(e,a),{validation:"regex",code:_i.invalid_string,message:o.message}),s.dirty())):"trim"===o.kind?e.data=e.data.trim():"includes"===o.kind?e.data.includes(o.value,o.position)||(_f(a=this._getOrReturnCtx(e,a),{code:_i.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),s.dirty()):"toLowerCase"===o.kind?e.data=e.data.toLowerCase():"toUpperCase"===o.kind?e.data=e.data.toUpperCase():"startsWith"===o.kind?e.data.startsWith(o.value)||(_f(a=this._getOrReturnCtx(e,a),{code:_i.invalid_string,validation:{startsWith:o.value},message:o.message}),s.dirty()):"endsWith"===o.kind?e.data.endsWith(o.value)||(_f(a=this._getOrReturnCtx(e,a),{code:_i.invalid_string,validation:{endsWith:o.value},message:o.message}),s.dirty()):"datetime"===o.kind?_V(o).test(e.data)||(_f(a=this._getOrReturnCtx(e,a),{code:_i.invalid_string,validation:"datetime",message:o.message}),s.dirty()):"date"===o.kind?_q.test(e.data)||(_f(a=this._getOrReturnCtx(e,a),{code:_i.invalid_string,validation:"date",message:o.message}),s.dirty()):"time"===o.kind?RegExp(`^${_Z(o)}$`).test(e.data)||(_f(a=this._getOrReturnCtx(e,a),{code:_i.invalid_string,validation:"time",message:o.message}),s.dirty()):"duration"===o.kind?_R.test(e.data)||(_f(a=this._getOrReturnCtx(e,a),{validation:"duration",code:_i.invalid_string,message:o.message}),s.dirty()):"ip"===o.kind?(t=e.data,!(("v4"===(r=o.version)||!r)&&_U.test(t)||("v6"===r||!r)&&_C.test(t))&&1&&(_f(a=this._getOrReturnCtx(e,a),{validation:"ip",code:_i.invalid_string,message:o.message}),s.dirty())):"jwt"===o.kind?!function(e,t){if(!_N.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));if("object"!=typeof i||null===i||"typ"in i&&i?.typ!=="JWT"||!i.alg||t&&i.alg!==t)return!1;return!0}catch{return!1}}(e.data,o.alg)&&(_f(a=this._getOrReturnCtx(e,a),{validation:"jwt",code:_i.invalid_string,message:o.message}),s.dirty()):"cidr"===o.kind?(n=e.data,!(("v4"===(i=o.version)||!i)&&_D.test(n)||("v6"===i||!i)&&_j.test(n))&&1&&(_f(a=this._getOrReturnCtx(e,a),{validation:"cidr",code:_i.invalid_string,message:o.message}),s.dirty())):"base64"===o.kind?_L.test(e.data)||(_f(a=this._getOrReturnCtx(e,a),{validation:"base64",code:_i.invalid_string,message:o.message}),s.dirty()):"base64url"===o.kind?_z.test(e.data)||(_f(a=this._getOrReturnCtx(e,a),{validation:"base64url",code:_i.invalid_string,message:o.message}),s.dirty()):K.assertNever(o);return{status:s.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:_i.invalid_string,...J.errToObj(r)})}_addCheck(e){return new _F({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...J.errToObj(e)})}url(e){return this._addCheck({kind:"url",...J.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...J.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...J.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...J.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...J.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...J.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...J.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...J.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...J.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...J.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...J.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...J.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...J.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...J.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...J.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...J.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...J.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...J.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...J.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...J.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...J.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...J.errToObj(t)})}nonempty(e){return this.min(1,J.errToObj(e))}trim(){return new _F({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new _F({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new _F({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}_F.create=e=>new _F({checks:[],typeName:Q.ZodString,coerce:e?.coerce??!1,..._E(e)});class _B extends _${constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==_r.number){let t=this._getOrReturnCtx(e);return _f(t,{code:_i.invalid_type,expected:_r.number,received:t.parsedType}),_m}let r=new _h;for(let n of this._def.checks)"int"===n.kind?K.isInteger(e.data)||(_f(t=this._getOrReturnCtx(e,t),{code:_i.invalid_type,expected:"integer",received:"float",message:n.message}),r.dirty()):"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(_f(t=this._getOrReturnCtx(e,t),{code:_i.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(_f(t=this._getOrReturnCtx(e,t),{code:_i.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"multipleOf"===n.kind?0!==function(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n;return Number.parseInt(e.toFixed(i).replace(".",""))%Number.parseInt(t.toFixed(i).replace(".",""))/10**i}(e.data,n.value)&&(_f(t=this._getOrReturnCtx(e,t),{code:_i.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):"finite"===n.kind?Number.isFinite(e.data)||(_f(t=this._getOrReturnCtx(e,t),{code:_i.not_finite,message:n.message}),r.dirty()):K.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,J.toString(t))}gt(e,t){return this.setLimit("min",e,!1,J.toString(t))}lte(e,t){return this.setLimit("max",e,!0,J.toString(t))}lt(e,t){return this.setLimit("max",e,!1,J.toString(t))}setLimit(e,t,r,n){return new _B({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:J.toString(n)}]})}_addCheck(e){return new _B({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:J.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:J.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:J.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:J.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:J.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:J.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:J.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:J.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:J.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&K.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks)if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;else"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value);return Number.isFinite(t)&&Number.isFinite(e)}}_B.create=e=>new _B({checks:[],typeName:Q.ZodNumber,coerce:e?.coerce||!1,..._E(e)});class _W extends _${constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==_r.bigint)return this._getInvalidInput(e);let r=new _h;for(let n of this._def.checks)"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(_f(t=this._getOrReturnCtx(e,t),{code:_i.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(_f(t=this._getOrReturnCtx(e,t),{code:_i.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"multipleOf"===n.kind?e.data%n.value!==BigInt(0)&&(_f(t=this._getOrReturnCtx(e,t),{code:_i.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):K.assertNever(n);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return _f(t,{code:_i.invalid_type,expected:_r.bigint,received:t.parsedType}),_m}gte(e,t){return this.setLimit("min",e,!0,J.toString(t))}gt(e,t){return this.setLimit("min",e,!1,J.toString(t))}lte(e,t){return this.setLimit("max",e,!0,J.toString(t))}lt(e,t){return this.setLimit("max",e,!1,J.toString(t))}setLimit(e,t,r,n){return new _W({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:J.toString(n)}]})}_addCheck(e){return new _W({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:J.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:J.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:J.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:J.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:J.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}_W.create=e=>new _W({checks:[],typeName:Q.ZodBigInt,coerce:e?.coerce??!1,..._E(e)});class _H extends _${_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==_r.boolean){let t=this._getOrReturnCtx(e);return _f(t,{code:_i.invalid_type,expected:_r.boolean,received:t.parsedType}),_m}return _y(e.data)}}_H.create=e=>new _H({typeName:Q.ZodBoolean,coerce:e?.coerce||!1,..._E(e)});class _K extends _${_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==_r.date){let t=this._getOrReturnCtx(e);return _f(t,{code:_i.invalid_type,expected:_r.date,received:t.parsedType}),_m}if(Number.isNaN(e.data.getTime()))return _f(this._getOrReturnCtx(e),{code:_i.invalid_date}),_m;let r=new _h;for(let n of this._def.checks)"min"===n.kind?e.data.getTime()<n.value&&(_f(t=this._getOrReturnCtx(e,t),{code:_i.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),r.dirty()):"max"===n.kind?e.data.getTime()>n.value&&(_f(t=this._getOrReturnCtx(e,t),{code:_i.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),r.dirty()):K.assertNever(n);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new _K({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:J.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:J.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}_K.create=e=>new _K({checks:[],coerce:e?.coerce||!1,typeName:Q.ZodDate,..._E(e)});class _G extends _${_parse(e){if(this._getType(e)!==_r.symbol){let t=this._getOrReturnCtx(e);return _f(t,{code:_i.invalid_type,expected:_r.symbol,received:t.parsedType}),_m}return _y(e.data)}}_G.create=e=>new _G({typeName:Q.ZodSymbol,..._E(e)});class _J extends _${_parse(e){if(this._getType(e)!==_r.undefined){let t=this._getOrReturnCtx(e);return _f(t,{code:_i.invalid_type,expected:_r.undefined,received:t.parsedType}),_m}return _y(e.data)}}_J.create=e=>new _J({typeName:Q.ZodUndefined,..._E(e)});class _Q extends _${_parse(e){if(this._getType(e)!==_r.null){let t=this._getOrReturnCtx(e);return _f(t,{code:_i.invalid_type,expected:_r.null,received:t.parsedType}),_m}return _y(e.data)}}_Q.create=e=>new _Q({typeName:Q.ZodNull,..._E(e)});class _Y extends _${constructor(){super(...arguments),this._any=!0}_parse(e){return _y(e.data)}}_Y.create=e=>new _Y({typeName:Q.ZodAny,..._E(e)});class _X extends _${constructor(){super(...arguments),this._unknown=!0}_parse(e){return _y(e.data)}}_X.create=e=>new _X({typeName:Q.ZodUnknown,..._E(e)});class _0 extends _${_parse(e){let t=this._getOrReturnCtx(e);return _f(t,{code:_i.invalid_type,expected:_r.never,received:t.parsedType}),_m}}_0.create=e=>new _0({typeName:Q.ZodNever,..._E(e)});class _1 extends _${_parse(e){if(this._getType(e)!==_r.undefined){let t=this._getOrReturnCtx(e);return _f(t,{code:_i.invalid_type,expected:_r.void,received:t.parsedType}),_m}return _y(e.data)}}_1.create=e=>new _1({typeName:Q.ZodVoid,..._E(e)});class _4 extends _${_parse(e){let{ctx:t,status:r}=this._processInputParams(e),n=this._def;if(t.parsedType!==_r.array)return _f(t,{code:_i.invalid_type,expected:_r.array,received:t.parsedType}),_m;if(null!==n.exactLength){let e=t.data.length>n.exactLength.value,i=t.data.length<n.exactLength.value;(e||i)&&(_f(t,{code:e?_i.too_big:_i.too_small,minimum:i?n.exactLength.value:void 0,maximum:e?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(null!==n.minLength&&t.data.length<n.minLength.value&&(_f(t,{code:_i.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&(_f(t,{code:_i.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>n.type._parseAsync(new _x(t,e,t.path,r)))).then(e=>_h.mergeArray(r,e));let i=[...t.data].map((e,r)=>n.type._parseSync(new _x(t,e,t.path,r)));return _h.mergeArray(r,i)}get element(){return this._def.type}min(e,t){return new _4({...this._def,minLength:{value:e,message:J.toString(t)}})}max(e,t){return new _4({...this._def,maxLength:{value:e,message:J.toString(t)}})}length(e,t){return new _4({...this._def,exactLength:{value:e,message:J.toString(t)}})}nonempty(e){return this.min(1,e)}}_4.create=(e,t)=>new _4({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Q.ZodArray,..._E(t)});class _6 extends _${constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=K.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==_r.object){let t=this._getOrReturnCtx(e);return _f(t,{code:_i.invalid_type,expected:_r.object,received:t.parsedType}),_m}let{status:t,ctx:r}=this._processInputParams(e),{shape:n,keys:i}=this._getCached(),a=[];if(!(this._def.catchall instanceof _0&&"strip"===this._def.unknownKeys))for(let e in r.data)i.includes(e)||a.push(e);let s=[];for(let e of i){let t=n[e],i=r.data[e];s.push({key:{status:"valid",value:e},value:t._parse(new _x(r,i,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof _0){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of a)s.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)a.length>0&&(_f(r,{code:_i.unrecognized_keys,keys:a}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of a){let n=r.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new _x(r,n,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of s){let r=await t.key,n=await t.value;e.push({key:r,value:n,alwaysSet:t.alwaysSet})}return e}).then(e=>_h.mergeObjectSync(t,e)):_h.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return J.errToObj,new _6({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{let n=this._def.errorMap?.(t,r).message??r.defaultError;return"unrecognized_keys"===t.code?{message:J.errToObj(e).message??n}:{message:n}}}:{}})}strip(){return new _6({...this._def,unknownKeys:"strip"})}passthrough(){return new _6({...this._def,unknownKeys:"passthrough"})}extend(e){return new _6({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new _6({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Q.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new _6({...this._def,catchall:e})}pick(e){let t={};for(let r of K.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new _6({...this._def,shape:()=>t})}omit(e){let t={};for(let r of K.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new _6({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof _6){let r={};for(let n in t.shape){let i=t.shape[n];r[n]=xc.create(e(i))}return new _6({...t._def,shape:()=>r})}if(t instanceof _4)return new _4({...t._def,type:e(t.element)});if(t instanceof xc)return xc.create(e(t.unwrap()));if(t instanceof xd)return xd.create(e(t.unwrap()));if(t instanceof _8)return _8.create(t.items.map(t=>e(t)));else return t}(this)}partial(e){let t={};for(let r of K.objectKeys(this.shape)){let n=this.shape[r];e&&!e[r]?t[r]=n:t[r]=n.optional()}return new _6({...this._def,shape:()=>t})}required(e){let t={};for(let r of K.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof xc;)e=e._def.innerType;t[r]=e}return new _6({...this._def,shape:()=>t})}keyof(){return xa(K.objectKeys(this.shape))}}_6.create=(e,t)=>new _6({shape:()=>e,unknownKeys:"strip",catchall:_0.create(),typeName:Q.ZodObject,..._E(t)}),_6.strictCreate=(e,t)=>new _6({shape:()=>e,unknownKeys:"strict",catchall:_0.create(),typeName:Q.ZodObject,..._E(t)}),_6.lazycreate=(e,t)=>new _6({shape:e,unknownKeys:"strip",catchall:_0.create(),typeName:Q.ZodObject,..._E(t)});class _2 extends _${_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new _s(e.ctx.common.issues));return _f(t,{code:_i.invalid_union,unionErrors:r}),_m});{let e,n=[];for(let i of r){let r={...t,common:{...t.common,issues:[]},parent:null},a=i._parseSync({data:t.data,path:t.path,parent:r});if("valid"===a.status)return a;"dirty"!==a.status||e||(e={result:a,ctx:r}),r.common.issues.length&&n.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let i=n.map(e=>new _s(e));return _f(t,{code:_i.invalid_union,unionErrors:i}),_m}}get options(){return this._def.options}}_2.create=(e,t)=>new _2({options:e,typeName:Q.ZodUnion,..._E(t)});let _9=e=>{if(e instanceof xn)return _9(e.schema);if(e instanceof xu)return _9(e.innerType());if(e instanceof xi)return[e.value];if(e instanceof xs)return e.options;if(e instanceof xo)return K.objectValues(e.enum);else if(e instanceof xp)return _9(e._def.innerType);else if(e instanceof _J)return[void 0];else if(e instanceof _Q)return[null];else if(e instanceof xc)return[void 0,..._9(e.unwrap())];else if(e instanceof xd)return[null,..._9(e.unwrap())];else if(e instanceof xg)return _9(e.unwrap());else if(e instanceof xv)return _9(e.unwrap());else if(e instanceof xf)return _9(e._def.innerType);else return[]};class _3 extends _${_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==_r.object)return _f(t,{code:_i.invalid_type,expected:_r.object,received:t.parsedType}),_m;let r=this.discriminator,n=t.data[r],i=this.optionsMap.get(n);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(_f(t,{code:_i.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),_m)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let n=new Map;for(let r of t){let t=_9(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let i of t){if(n.has(i))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);n.set(i,r)}}return new _3({typeName:Q.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,..._E(r)})}}class _5 extends _${_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=(e,n)=>{if(_v(e)||_v(n))return _m;let i=function e(t,r){let n=_n(t),i=_n(r);if(t===r)return{valid:!0,data:t};if(n===_r.object&&i===_r.object){let n=K.objectKeys(r),i=K.objectKeys(t).filter(e=>-1!==n.indexOf(e)),a={...t,...r};for(let n of i){let i=e(t[n],r[n]);if(!i.valid)return{valid:!1};a[n]=i.data}return{valid:!0,data:a}}if(n===_r.array&&i===_r.array){if(t.length!==r.length)return{valid:!1};let n=[];for(let i=0;i<t.length;i++){let a=e(t[i],r[i]);if(!a.valid)return{valid:!1};n.push(a.data)}return{valid:!0,data:n}}if(n===_r.date&&i===_r.date&&+t==+r)return{valid:!0,data:t};return{valid:!1}}(e.value,n.value);return i.valid?((_b(e)||_b(n))&&t.dirty(),{status:t.value,value:i.data}):(_f(r,{code:_i.invalid_intersection_types}),_m)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>n(e,t)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}_5.create=(e,t,r)=>new _5({left:e,right:t,typeName:Q.ZodIntersection,..._E(r)});class _8 extends _${_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==_r.array)return _f(r,{code:_i.invalid_type,expected:_r.array,received:r.parsedType}),_m;if(r.data.length<this._def.items.length)return _f(r,{code:_i.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),_m;!this._def.rest&&r.data.length>this._def.items.length&&(_f(r,{code:_i.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let n=[...r.data].map((e,t)=>{let n=this._def.items[t]||this._def.rest;return n?n._parse(new _x(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(n).then(e=>_h.mergeArray(t,e)):_h.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new _8({...this._def,rest:e})}}_8.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new _8({items:e,typeName:Q.ZodTuple,rest:null,..._E(t)})};class _7 extends _${get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==_r.object)return _f(r,{code:_i.invalid_type,expected:_r.object,received:r.parsedType}),_m;let n=[],i=this._def.keyType,a=this._def.valueType;for(let e in r.data)n.push({key:i._parse(new _x(r,e,r.path,e)),value:a._parse(new _x(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?_h.mergeObjectAsync(t,n):_h.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,r){return new _7(t instanceof _$?{keyType:e,valueType:t,typeName:Q.ZodRecord,..._E(r)}:{keyType:_F.create(),valueType:e,typeName:Q.ZodRecord,..._E(t)})}}class xe extends _${get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==_r.map)return _f(r,{code:_i.invalid_type,expected:_r.map,received:r.parsedType}),_m;let n=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([e,t],a)=>({key:n._parse(new _x(r,e,r.path,[a,"key"])),value:i._parse(new _x(r,t,r.path,[a,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of a){let n=await r.key,i=await r.value;if("aborted"===n.status||"aborted"===i.status)return _m;("dirty"===n.status||"dirty"===i.status)&&t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of a){let n=r.key,i=r.value;if("aborted"===n.status||"aborted"===i.status)return _m;("dirty"===n.status||"dirty"===i.status)&&t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}}}}xe.create=(e,t,r)=>new xe({valueType:t,keyType:e,typeName:Q.ZodMap,..._E(r)});class xt extends _${_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==_r.set)return _f(r,{code:_i.invalid_type,expected:_r.set,received:r.parsedType}),_m;let n=this._def;null!==n.minSize&&r.data.size<n.minSize.value&&(_f(r,{code:_i.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),null!==n.maxSize&&r.data.size>n.maxSize.value&&(_f(r,{code:_i.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());let i=this._def.valueType;function a(e){let r=new Set;for(let n of e){if("aborted"===n.status)return _m;"dirty"===n.status&&t.dirty(),r.add(n.value)}return{status:t.value,value:r}}let s=[...r.data.values()].map((e,t)=>i._parse(new _x(r,e,r.path,t)));return r.common.async?Promise.all(s).then(e=>a(e)):a(s)}min(e,t){return new xt({...this._def,minSize:{value:e,message:J.toString(t)}})}max(e,t){return new xt({...this._def,maxSize:{value:e,message:J.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}xt.create=(e,t)=>new xt({valueType:e,minSize:null,maxSize:null,typeName:Q.ZodSet,..._E(t)});class xr extends _${constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==_r.function)return _f(t,{code:_i.invalid_type,expected:_r.function,received:t.parsedType}),_m;function r(e,r){return _d({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,_l,_o].filter(e=>!!e),issueData:{code:_i.invalid_arguments,argumentsError:r}})}function n(e,r){return _d({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,_l,_o].filter(e=>!!e),issueData:{code:_i.invalid_return_type,returnTypeError:r}})}let i={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof xl){let e=this;return _y(async function(...t){let s=new _s([]),o=await e._def.args.parseAsync(t,i).catch(e=>{throw s.addIssue(r(t,e)),s}),l=await Reflect.apply(a,this,o);return await e._def.returns._def.type.parseAsync(l,i).catch(e=>{throw s.addIssue(n(l,e)),s})})}{let e=this;return _y(function(...t){let s=e._def.args.safeParse(t,i);if(!s.success)throw new _s([r(t,s.error)]);let o=Reflect.apply(a,this,s.data),l=e._def.returns.safeParse(o,i);if(!l.success)throw new _s([n(o,l.error)]);return l.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new xr({...this._def,args:_8.create(e).rest(_X.create())})}returns(e){return new xr({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new xr({args:e||_8.create([]).rest(_X.create()),returns:t||_X.create(),typeName:Q.ZodFunction,..._E(r)})}}class xn extends _${get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}xn.create=(e,t)=>new xn({getter:e,typeName:Q.ZodLazy,..._E(t)});class xi extends _${_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return _f(t,{received:t.data,code:_i.invalid_literal,expected:this._def.value}),_m}return{status:"valid",value:e.data}}get value(){return this._def.value}}function xa(e,t){return new xs({values:e,typeName:Q.ZodEnum,..._E(t)})}xi.create=(e,t)=>new xi({value:e,typeName:Q.ZodLiteral,..._E(t)});class xs extends _${_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return _f(t,{expected:K.joinValues(r),received:t.parsedType,code:_i.invalid_type}),_m}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return _f(t,{received:t.data,code:_i.invalid_enum_value,options:r}),_m}return _y(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return xs.create(e,{...this._def,...t})}exclude(e,t=this._def){return xs.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}xs.create=xa;class xo extends _${_parse(e){let t=K.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==_r.string&&r.parsedType!==_r.number){let e=K.objectValues(t);return _f(r,{expected:K.joinValues(e),received:r.parsedType,code:_i.invalid_type}),_m}if(this._cache||(this._cache=new Set(K.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let e=K.objectValues(t);return _f(r,{received:r.data,code:_i.invalid_enum_value,options:e}),_m}return _y(e.data)}get enum(){return this._def.values}}xo.create=(e,t)=>new xo({values:e,typeName:Q.ZodNativeEnum,..._E(t)});class xl extends _${unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==_r.promise&&!1===t.common.async?(_f(t,{code:_i.invalid_type,expected:_r.promise,received:t.parsedType}),_m):_y((t.parsedType===_r.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}xl.create=(e,t)=>new xl({type:e,typeName:Q.ZodPromise,..._E(t)});class xu extends _${innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Q.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=this._def.effect||null,i={addIssue:e=>{_f(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===n.type){let e=n.transform(r.data,i);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return _m;let n=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===n.status?_m:"dirty"===n.status||"dirty"===t.value?_g(n.value):n});{if("aborted"===t.value)return _m;let n=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===n.status?_m:"dirty"===n.status||"dirty"===t.value?_g(n.value):n}}if("refinement"===n.type){let e=e=>{let t=n.refinement(e,i);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?_m:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let n=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===n.status?_m:("dirty"===n.status&&t.dirty(),e(n.value),{status:t.value,value:n.value})}}if("transform"===n.type)if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>_w(e)?Promise.resolve(n.transform(e.value,i)).then(e=>({status:t.value,value:e})):_m);else{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!_w(e))return _m;let a=n.transform(e.value,i);if(a instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:a}}K.assertNever(n)}}xu.create=(e,t,r)=>new xu({schema:e,typeName:Q.ZodEffects,effect:t,..._E(r)}),xu.createWithPreprocess=(e,t,r)=>new xu({schema:t,effect:{type:"preprocess",transform:e},typeName:Q.ZodEffects,..._E(r)});class xc extends _${_parse(e){return this._getType(e)===_r.undefined?_y(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}xc.create=(e,t)=>new xc({innerType:e,typeName:Q.ZodOptional,..._E(t)});class xd extends _${_parse(e){return this._getType(e)===_r.null?_y(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}xd.create=(e,t)=>new xd({innerType:e,typeName:Q.ZodNullable,..._E(t)});class xp extends _${_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===_r.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}xp.create=(e,t)=>new xp({innerType:e,typeName:Q.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,..._E(t)});class xf extends _${_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return __(n)?n.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new _s(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===n.status?n.value:this._def.catchValue({get error(){return new _s(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}xf.create=(e,t)=>new xf({innerType:e,typeName:Q.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,..._E(t)});class xh extends _${_parse(e){if(this._getType(e)!==_r.nan){let t=this._getOrReturnCtx(e);return _f(t,{code:_i.invalid_type,expected:_r.nan,received:t.parsedType}),_m}return{status:"valid",value:e.data}}}xh.create=e=>new xh({typeName:Q.ZodNaN,..._E(e)});let xm=Symbol("zod_brand");class xg extends _${_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class xy extends _${_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?_m:"dirty"===e.status?(t.dirty(),_g(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?_m:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new xy({in:e,out:t,typeName:Q.ZodPipeline})}}class xv extends _${_parse(e){let t=this._def.innerType._parse(e),r=e=>(_w(e)&&(e.value=Object.freeze(e.value)),e);return __(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function xb(e,t){let r="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof r?{message:r}:r}function xw(e,t={},r){return e?_Y.create().superRefine((n,i)=>{let a=e(n);if(a instanceof Promise)return a.then(e=>{if(!e){let e=xb(t,n),a=e.fatal??r??!0;i.addIssue({code:"custom",...e,fatal:a})}});if(!a){let e=xb(t,n),a=e.fatal??r??!0;i.addIssue({code:"custom",...e,fatal:a})}}):_Y.create()}xv.create=(e,t)=>new xv({innerType:e,typeName:Q.ZodReadonly,..._E(t)});let x_={object:_6.lazycreate};(Z=Q||(Q={})).ZodString="ZodString",Z.ZodNumber="ZodNumber",Z.ZodNaN="ZodNaN",Z.ZodBigInt="ZodBigInt",Z.ZodBoolean="ZodBoolean",Z.ZodDate="ZodDate",Z.ZodSymbol="ZodSymbol",Z.ZodUndefined="ZodUndefined",Z.ZodNull="ZodNull",Z.ZodAny="ZodAny",Z.ZodUnknown="ZodUnknown",Z.ZodNever="ZodNever",Z.ZodVoid="ZodVoid",Z.ZodArray="ZodArray",Z.ZodObject="ZodObject",Z.ZodUnion="ZodUnion",Z.ZodDiscriminatedUnion="ZodDiscriminatedUnion",Z.ZodIntersection="ZodIntersection",Z.ZodTuple="ZodTuple",Z.ZodRecord="ZodRecord",Z.ZodMap="ZodMap",Z.ZodSet="ZodSet",Z.ZodFunction="ZodFunction",Z.ZodLazy="ZodLazy",Z.ZodLiteral="ZodLiteral",Z.ZodEnum="ZodEnum",Z.ZodEffects="ZodEffects",Z.ZodNativeEnum="ZodNativeEnum",Z.ZodOptional="ZodOptional",Z.ZodNullable="ZodNullable",Z.ZodDefault="ZodDefault",Z.ZodCatch="ZodCatch",Z.ZodPromise="ZodPromise",Z.ZodBranded="ZodBranded",Z.ZodPipeline="ZodPipeline",Z.ZodReadonly="ZodReadonly";let xx=(e,t={message:`Input not instance of ${e.name}`})=>xw(t=>t instanceof e,t),xk=_F.create,xE=_B.create,x$=xh.create,xT=_W.create,xS=_H.create,xI=_K.create,xA=_G.create,xO=_J.create,xN=_Q.create,xR=_Y.create,xP=_X.create,xU=_0.create,xD=_1.create,xC=_4.create,xj=_6.create,xL=_6.strictCreate,xz=_2.create,xM=_3.create,xq=_5.create,xZ=_8.create,xV=_7.create,xF=xe.create,xB=xt.create,xW=xr.create,xH=xn.create,xK=xi.create,xG=xs.create,xJ=xo.create,xQ=xl.create,xY=xu.create,xX=xc.create,x0=xd.create,x1=xu.createWithPreprocess,x4=xy.create,x6=()=>xk().optional(),x2=()=>xE().optional(),x9=()=>xS().optional(),x3={string:e=>_F.create({...e,coerce:!0}),number:e=>_B.create({...e,coerce:!0}),boolean:e=>_H.create({...e,coerce:!0}),bigint:e=>_W.create({...e,coerce:!0}),date:e=>_K.create({...e,coerce:!0})};e.s(["BRAND",0,xm,"NEVER",0,_m,"Schema",()=>_$,"ZodAny",()=>_Y,"ZodArray",()=>_4,"ZodBigInt",()=>_W,"ZodBoolean",()=>_H,"ZodBranded",()=>xg,"ZodCatch",()=>xf,"ZodDate",()=>_K,"ZodDefault",()=>xp,"ZodDiscriminatedUnion",()=>_3,"ZodEffects",()=>xu,"ZodEnum",()=>xs,"ZodFirstPartyTypeKind",()=>Q,"ZodFunction",()=>xr,"ZodIntersection",()=>_5,"ZodLazy",()=>xn,"ZodLiteral",()=>xi,"ZodMap",()=>xe,"ZodNaN",()=>xh,"ZodNativeEnum",()=>xo,"ZodNever",()=>_0,"ZodNull",()=>_Q,"ZodNullable",()=>xd,"ZodNumber",()=>_B,"ZodObject",()=>_6,"ZodOptional",()=>xc,"ZodPipeline",()=>xy,"ZodPromise",()=>xl,"ZodReadonly",()=>xv,"ZodRecord",()=>_7,"ZodSchema",()=>_$,"ZodSet",()=>xt,"ZodString",()=>_F,"ZodSymbol",()=>_G,"ZodTransformer",()=>xu,"ZodTuple",()=>_8,"ZodType",()=>_$,"ZodUndefined",()=>_J,"ZodUnion",()=>_2,"ZodUnknown",()=>_X,"ZodVoid",()=>_1,"any",()=>xR,"array",()=>xC,"bigint",()=>xT,"boolean",()=>xS,"coerce",0,x3,"custom",()=>xw,"date",()=>xI,"datetimeRegex",()=>_V,"discriminatedUnion",()=>xM,"effect",()=>xY,"enum",()=>xG,"function",()=>xW,"instanceof",()=>xx,"intersection",()=>xq,"late",0,x_,"lazy",()=>xH,"literal",()=>xK,"map",()=>xF,"nan",()=>x$,"nativeEnum",()=>xJ,"never",()=>xU,"null",()=>xN,"nullable",()=>x0,"number",()=>xE,"object",()=>xj,"oboolean",()=>x9,"onumber",()=>x2,"optional",()=>xX,"ostring",()=>x6,"pipeline",()=>x4,"preprocess",()=>x1,"promise",()=>xQ,"record",()=>xV,"set",()=>xB,"strictObject",()=>xL,"string",()=>xk,"symbol",()=>xA,"transformer",()=>xY,"tuple",()=>xZ,"undefined",()=>xO,"union",()=>xz,"unknown",()=>xP,"void",()=>xD],6710),e.i(6710),e.i(63779),e.s(["BRAND",0,xm,"DIRTY",0,_g,"EMPTY_PATH",0,_p,"INVALID",0,_m,"NEVER",0,_m,"OK",0,_y,"ParseStatus",()=>_h,"Schema",()=>_$,"ZodAny",()=>_Y,"ZodArray",()=>_4,"ZodBigInt",()=>_W,"ZodBoolean",()=>_H,"ZodBranded",()=>xg,"ZodCatch",()=>xf,"ZodDate",()=>_K,"ZodDefault",()=>xp,"ZodDiscriminatedUnion",()=>_3,"ZodEffects",()=>xu,"ZodEnum",()=>xs,"ZodError",()=>_s,"ZodFirstPartyTypeKind",()=>Q,"ZodFunction",()=>xr,"ZodIntersection",()=>_5,"ZodIssueCode",0,_i,"ZodLazy",()=>xn,"ZodLiteral",()=>xi,"ZodMap",()=>xe,"ZodNaN",()=>xh,"ZodNativeEnum",()=>xo,"ZodNever",()=>_0,"ZodNull",()=>_Q,"ZodNullable",()=>xd,"ZodNumber",()=>_B,"ZodObject",()=>_6,"ZodOptional",()=>xc,"ZodParsedType",0,_r,"ZodPipeline",()=>xy,"ZodPromise",()=>xl,"ZodReadonly",()=>xv,"ZodRecord",()=>_7,"ZodSchema",()=>_$,"ZodSet",()=>xt,"ZodString",()=>_F,"ZodSymbol",()=>_G,"ZodTransformer",()=>xu,"ZodTuple",()=>_8,"ZodType",()=>_$,"ZodUndefined",()=>_J,"ZodUnion",()=>_2,"ZodUnknown",()=>_X,"ZodVoid",()=>_1,"addIssueToContext",()=>_f,"any",()=>xR,"array",()=>xC,"bigint",()=>xT,"boolean",()=>xS,"coerce",0,x3,"custom",()=>xw,"date",()=>xI,"datetimeRegex",()=>_V,"defaultErrorMap",0,_o,"discriminatedUnion",()=>xM,"effect",()=>xY,"enum",()=>xG,"function",()=>xW,"getErrorMap",()=>_c,"getParsedType",0,_n,"instanceof",()=>xx,"intersection",()=>xq,"isAborted",0,_v,"isAsync",0,__,"isDirty",0,_b,"isValid",0,_w,"late",0,x_,"lazy",()=>xH,"literal",()=>xK,"makeIssue",0,_d,"map",()=>xF,"nan",()=>x$,"nativeEnum",()=>xJ,"never",()=>xU,"null",()=>xN,"nullable",()=>x0,"number",()=>xE,"object",()=>xj,"objectUtil",()=>G,"oboolean",()=>x9,"onumber",()=>x2,"optional",()=>xX,"ostring",()=>x6,"pipeline",()=>x4,"preprocess",()=>x1,"promise",()=>xQ,"quotelessJson",0,_a,"record",()=>xV,"set",()=>xB,"setErrorMap",()=>_u,"strictObject",()=>xL,"string",()=>xk,"symbol",()=>xA,"transformer",()=>xY,"tuple",()=>xZ,"undefined",()=>xO,"union",()=>xz,"unknown",()=>xP,"util",()=>K,"void",()=>xD],20449);var x5=e.i(20449),x5=x5;let x8=(f="object"==typeof(V={server:{BETTER_AUTH_SECRET:x5.string(),BETTER_AUTH_GITHUB_CLIENT_ID:x5.string(),BETTER_AUTH_GITHUB_CLIENT_SECRET:x5.string(),DATABASE_URL:x5.string().url(),NODE_ENV:x5.enum(["development","test","production"]).default("development")},client:{},runtimeEnv:{BETTER_AUTH_SECRET:process.env.BETTER_AUTH_SECRET,BETTER_AUTH_GITHUB_CLIENT_ID:process.env.BETTER_AUTH_GITHUB_CLIENT_ID,BETTER_AUTH_GITHUB_CLIENT_SECRET:process.env.BETTER_AUTH_GITHUB_CLIENT_SECRET,DATABASE_URL:process.env.DATABASE_URL,NODE_ENV:"production"},skipValidation:!!process.env.SKIP_ENV_VALIDATION,emptyStringAsUndefined:!0}).client?V.client:{},h="object"==typeof V.server?V.server:{},m=V.shared,g=V.runtimeEnv?V.runtimeEnv:{...process.env,...V.experimental__runtimeEnv},function(e){let t=e.runtimeEnvStrict??e.runtimeEnv??process.env;if(e.emptyStringAsUndefined)for(let[e,r]of Object.entries(t))""===r&&delete t[e];if(e.skipValidation)return t;let r="object"==typeof e.client?e.client:{},n="object"==typeof e.server?e.server:{},i="object"==typeof e.shared?e.shared:{},a=e.isServer??!0,s=a?{...n,...i,...r}:{...r,...i},o=e.createFinalSchema?.(s,a)["~standard"].validate(t)??function(e,t){let r={},n=[];for(let i in e){let a=e[i]["~standard"].validate(t[i]);if(_t(a,`Validation must be synchronous, but ${i} returned a Promise.`),a.issues){n.push(...a.issues.map(e=>({...e,message:e.message,path:[i,...e.path??[]]})));continue}r[i]=a.value}return n.length?{issues:n}:{value:r}}(s,t);_t(o,"Validation must be synchronous");let l=e.onValidationError??(e=>{throw console.error(" Invalid environment variables:",e),Error("Invalid environment variables")}),u=e.onInvalidAccess??(()=>{throw Error(" Attempted to access a server-side environment variable on the client")});return o.issues?l(o.issues):new Proxy(Object.assign((e.extends??[]).reduce((e,t)=>Object.assign(e,t),{}),o.value),{get(t,r){if("string"==typeof r&&"__esModule"!==r&&"$$typeof"!==r)return a||e.clientPrefix&&(r.startsWith(e.clientPrefix)||r in i)?Reflect.get(t,r):u(r)}})}({...V,shared:m,client:f,server:h,clientPrefix:"NEXT_PUBLIC_",runtimeEnv:g}));var x7=e.i(54254);let ke=globalThis,kt=ke.prisma??new x7.PrismaClient({log:"development"===x8.NODE_ENV?["query","error","warn"]:["error"]});"production"!==x8.NODE_ENV&&(ke.prisma=kt);let{GET:kr,POST:kn}=(B=(e=>{let t=w7(e),{api:r}=y6(t,e),n=e.plugins?.reduce((e,t)=>t.$ERROR_CODES?{...e,...t.$ERROR_CODES}:e,{});return{handler:async r=>{let n=await t,i=n.options.basePath||"/api/auth";if(!n.options.baseURL){let e=mu(void 0,i,r);if(e)n.baseURL=e,n.options.baseURL=mc(n.baseURL)||void 0;else throw new tq("Could not get base URL from request. Please provide a valid base URL.")}n.trustedOrigins=[...e.trustedOrigins?Array.isArray(e.trustedOrigins)?e.trustedOrigins:await e.trustedOrigins(r):[],n.options.baseURL];let{handler:a}=((e,t)=>{let{api:r,middlewares:n}=y6(e,t),i=new URL(e.baseURL).pathname;return((e,t)=>{if(!t?.openapi?.disabled){let r={path:"/api/reference",...t?.openapi};e.openapi=rz(r.path,{method:"GET"},async t=>{let n,i;return new Response((n=await iW(e),i=r.scalar,`<!doctype html>
<html>
  <head>
    <title>Scalar API Reference</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1" />
  </head>
  <body>
    <script
      id="api-reference"
      type="application/json">
    ${JSON.stringify(n)}
    </script>
	 <script>
      var configuration = {
	  	favicon: ${i?.logo?`data:image/svg+xml;utf8,${encodeURIComponent(i.logo)}`:void 0} ,
	   	theme: ${i?.theme||"saturn"},
        metaData: {
			title: ${i?.title||"Open API Reference"},
			description: ${i?.description||"Better Call Open API"},
		}
      }
      document.getElementById('api-reference').dataset.configuration =
        JSON.stringify(configuration)
    </script>
	  <script src="https://cdn.jsdelivr.net/npm/@scalar/api-reference"></script>
  </body>
</html>`),{headers:{"Content-Type":"text/html"}})})}let r=ry(),n=ry();for(let t of Object.values(e))if(!(!t.options||t.options?.metadata?.SERVER_ONLY))for(let e of Array.isArray(t.options?.method)?t.options.method:[t.options?.method])rw(r,e,t.path,t);if(t?.routerMiddleware?.length)for(let{path:e,middleware:r}of t.routerMiddleware)rw(n,"*",e,r);let i=async e=>{let i=new URL(e.url),a=t?.basePath?i.pathname.split(t.basePath).reduce((e,r,n)=>(0!==n&&(n>1?e.push(`${t.basePath}${r}`):e.push(r)),e),[]).join(""):i.pathname;if(!a?.length)return new Response(null,{status:404,statusText:"Not Found"});let s=function(e,t="",r,n){"/"===r[r.length-1]&&(r=r.slice(0,-1));let i=e.static[r];if(i&&i.methods){let e=i.methods[t]||i.methods[""];if(void 0!==e)return e[0]}let a=rv(r),s=function e(t,r,n,i,a){if(a===i.length){if(r.methods){let e=r.methods[n]||r.methods[""];if(e)return e}if(r.param&&r.param.methods){let e=r.param.methods[n]||r.param.methods[""];if(e){let t=e[0].paramsMap;if(t?.[t?.length-1]?.[2])return e}}if(r.wildcard&&r.wildcard.methods){let e=r.wildcard.methods[n]||r.wildcard.methods[""];if(e){let t=e[0].paramsMap;if(t?.[t?.length-1]?.[2])return e}}return}let s=i[a];if(r.static){let o=r.static[s];if(o){let r=e(t,o,n,i,a+1);if(r)return r}}if(r.param){let s=e(t,r.param,n,i,a+1);if(s)return s}if(r.wildcard&&r.wildcard.methods)return r.wildcard.methods[n]||r.wildcard.methods[""]}(e,e.root,t,a,0)?.[0];if(void 0!==s)return{data:s.data,params:s.paramsMap?rb(a,s.paramsMap):void 0}}(r,e.method,a);if(!s?.data)return new Response(null,{status:404,statusText:"Not Found"});let o={};i.searchParams.forEach((e,t)=>{t in o?Array.isArray(o[t])?o[t].push(e):o[t]=[o[t],e]:o[t]=e});let l=s.data,u={path:a,method:e.method,headers:e.headers,params:s.params?JSON.parse(JSON.stringify(s.params)):{},request:e,body:l.options.disableBody?void 0:await rE(l.options.cloneRequest?e.clone():e),query:o,_flag:"router",asResponse:!0,context:t?.routerContext};try{let e=function(e,t="",r,n){"/"===r[r.length-1]&&(r=r.slice(0,-1));let i=rv(r);return(function e(t,r,n,i,a,s=[]){let o=i[a];if(r.wildcard&&r.wildcard.methods){let e=r.wildcard.methods[n]||r.wildcard.methods[""];e&&s.push(...e)}if(r.param&&(e(t,r.param,n,i,a+1,s),a===i.length&&r.param.methods)){let e=r.param.methods[n]||r.param.methods[""];e&&s.push(...e)}let l=r.static?.[o];if(l&&e(t,l,n,i,a+1,s),a===i.length&&r.methods){let e=r.methods[n]||r.methods[""];e&&s.push(...e)}return s})(e,e.root,t,i,0).map(e=>({data:e.data,params:e.paramsMap?rb(i,e.paramsMap):void 0}))}(n,"*",a);if(e?.length)for(let{data:t,params:r}of e){let e=await t({...u,params:r,asResponse:!1});if(e instanceof Response)return e}return await l(u)}catch(e){if(t?.onError)try{let r=await t.onError(e);if(r instanceof Response)return rT(r)}catch(e){if(r$(e))return rT(e);throw e}if(t?.throwError)throw e;if(r$(e))return rT(e);return console.error("# SERVER_ERROR: ",e),new Response(null,{status:500,statusText:"Internal Server Error"})}};return{handler:async e=>{let r=await t?.onRequest?.(e);if(r instanceof Response)return r;let n=r instanceof Request?r:e,a=await i(n),s=await t?.onResponse?.(a);return s instanceof Response?s:a},endpoints:e}})(r,{routerContext:e,openapi:{disabled:!0},basePath:i,routerMiddleware:[{path:"/**",middleware:yy},...n],async onRequest(t){let r=e.options.disabledPaths||[],n=new URL(t.url).pathname.replace(i,"");if(r.includes(n))return new Response("Not Found",{status:404});for(let r of e.options.plugins||[])if(r.onRequest){let n=await r.onRequest(t,e);if(n&&"response"in n)return n.response;if(n&&"request"in n){let t=await y4(n.request,e);if(t)return t;return n.request}}return y4(t,e)},async onResponse(t){for(let r of e.options.plugins||[])if(r.onResponse){let n=await r.onResponse(t,e);if(n)return n.response}return t},onError(r){if(r instanceof rk&&"FOUND"===r.status)return;if(t.onAPIError?.throw)throw r;if(t.onAPIError?.onError)return void t.onAPIError.onError(r,e);let n=t.logger?.level,i="error"===n||"warn"===n||"debug"===n?ra:void 0;if(t.logger?.disabled!==!0){if(r&&"object"==typeof r&&"message"in r&&"string"==typeof r.message&&(r.message.includes("no column")||r.message.includes("column")||r.message.includes("relation")||r.message.includes("table")||r.message.includes("does not exist")))return void e.logger?.error(r.message);r instanceof rk?("INTERNAL_SERVER_ERROR"===r.status&&e.logger.error(r.status,r),i?.error(r.message)):e.logger?.error(r&&"object"==typeof r&&"name"in r?r.name:"",r)}}})})(n,e);return a(r)},api:r,options:e,$context:t,$Infer:{},$ERROR_CODES:{...n,...tM}}})({database:(F={provider:"postgresql"},y=null,v=e=>({getFieldName:t})=>{let r=(e,r)=>{if(e&&r)return e.reduce((e,n)=>({...e,[t({model:r,field:n})]:!0}),{})};function n(e){switch(e){case"starts_with":return"startsWith";case"ends_with":return"endsWith";case"ne":return"not";case"not_in":return"notIn";default:return e}}let i=(e,r)=>{if(!r||!r.length)return{};if(1===r.length){let i=r[0];if(!i)return;return{[t({model:e,field:i.field})]:"eq"!==i.operator&&i.operator?{[n(i.operator)]:i.value}:i.value}}let i=r.filter(e=>"AND"===e.connector||!e.connector),a=r.filter(e=>"OR"===e.connector),s=i.map(r=>({[t({model:e,field:r.field})]:"eq"!==r.operator&&r.operator?{[n(r.operator)]:r.value}:r.value})),o=a.map(r=>({[t({model:e,field:r.field})]:"eq"!==r.operator&&r.operator?{[n(r.operator)]:r.value}:r.value}));return{...s.length?{AND:s}:{},...o.length?{OR:o}:{}}};return{async create({model:t,data:n,select:i}){if(!e[t])throw new tq(`Model ${t} does not exist in the database. If you haven't generated the Prisma client, you need to run 'npx prisma generate'`);return await e[t].create({data:n,select:r(i,t)})},async findOne({model:t,where:n,select:a}){let s=i(t,n);if(!e[t])throw new tq(`Model ${t} does not exist in the database. If you haven't generated the Prisma client, you need to run 'npx prisma generate'`);return await e[t].findFirst({where:s,select:r(a,t)})},async findMany({model:r,where:n,limit:a,offset:s,sortBy:o}){let l=i(r,n);if(!e[r])throw new tq(`Model ${r} does not exist in the database. If you haven't generated the Prisma client, you need to run 'npx prisma generate'`);return await e[r].findMany({where:l,take:a||100,skip:s||0,...o?.field?{orderBy:{[t({model:r,field:o.field})]:"desc"===o.direction?"desc":"asc"}}:{}})},async count({model:t,where:r}){let n=i(t,r);if(!e[t])throw new tq(`Model ${t} does not exist in the database. If you haven't generated the Prisma client, you need to run 'npx prisma generate'`);return await e[t].count({where:n})},async update({model:t,where:r,update:n}){if(!e[t])throw new tq(`Model ${t} does not exist in the database. If you haven't generated the Prisma client, you need to run 'npx prisma generate'`);let a=i(t,r);return await e[t].update({where:a,data:n})},async updateMany({model:t,where:r,update:n}){let a=i(t,r),s=await e[t].updateMany({where:a,data:n});return s?s.count:0},async delete({model:t,where:r}){let n=i(t,r);try{await e[t].delete({where:n})}catch(e){}},async deleteMany({model:t,where:r}){let n=i(t,r),a=await e[t].deleteMany({where:n});return a?a.count:0},options:F}},b=null,b={config:{adapterId:"prisma",adapterName:"Prisma Adapter",usePlural:F.usePlural??!1,debugLogs:F.debugLogs??!1,transaction:!!F.transaction&&(e=>kt.$transaction(t=>e(wI({config:b.config,adapter:v(t)})(y))))},adapter:v(kt)},w=wI(b),e=>(y=e,w(e))),emailAndPassword:{enabled:!0},socialProviders:{github:{clientId:x8.BETTER_AUTH_GITHUB_CLIENT_ID,clientSecret:x8.BETTER_AUTH_GITHUB_CLIENT_SECRET,redirectURI:"http://localhost:3000/api/auth/callback/github"}}}).handler,{GET:_=async e=>"handler"in B?B.handler(e):B(e),POST:_});e.s(["GET",0,kr,"POST",0,kn],66071);var ki=e.i(66071);let ka=new Y.AppRouteRouteModule({definition:{kind:X.APP_ROUTE,page:"/api/auth/[...all]/route",pathname:"/api/auth/[...all]",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/athrd/apps/web/src/app/api/auth/[...all]/route.ts",nextConfigOutput:"",userland:ki}),{workAsyncStorage:ks,workUnitAsyncStorage:ko,serverHooks:kl}=ka;function ku(){return function(e){var t;let r;if(!0===globalThis[t_])return;let n=(t=globalThis.fetch,r=eO.cache(e=>[]),function(e,n){let i,a;if(n&&n.signal)return t(e,n);if("string"!=typeof e||n){let r,s="string"==typeof e||e instanceof URL?new Request(e,n):e;if("GET"!==s.method&&"HEAD"!==s.method||s.keepalive)return t(e,n);r=Array.from(s.headers.entries()).filter(([e])=>!eB.has(e.toLowerCase())),a=JSON.stringify([s.method,r,s.mode,s.redirect,s.credentials,s.referrer,s.referrerPolicy,s.integrity]),i=s.url}else a='["GET",[],null,"follow",null,null,null,null]',i=e;let s=r(i);for(let e=0,t=s.length;e<t;e+=1){let[t,r]=s[e];if(t===a)return r.then(()=>{let t=s[e][2];if(!t)throw Object.defineProperty(new ez("No cached response"),"__NEXT_ERROR_CODE",{value:"E579",enumerable:!1,configurable:!0});let[r,n]=eF(t);return s[e][2]=n,r})}let o=t(e,n),l=[a,o,null];return s.push(l),o.then(e=>{let[t,r]=eF(e);return l[2]=r,t})});globalThis.fetch=function(e,{workAsyncStorage:t,workUnitAsyncStorage:r}){let n=async function(n,i){var a,s;let o;try{(o=new URL(n instanceof Request?n.url:n)).username="",o.password=""}catch{o=void 0}let l=(null==o?void 0:o.href)??"",u=(null==i||null==(a=i.method)?void 0:a.toUpperCase())||"GET",c=(null==i||null==(s=i.next)?void 0:s.internal)===!0,d="1"===process.env.NEXT_OTEL_FETCH_DISABLED,p=c?void 0:performance.timeOrigin+performance.now(),f=t.getStore(),h=r.getStore(),m=h?(0,eP.getCacheSignal)(h):null;m&&m.beginRead();let g=eS().trace(c?en.internalFetch:es.fetch,{hideSpan:d,kind:eb.CLIENT,spanName:["fetch",u,l].filter(Boolean).join(" "),attributes:{"http.url":l,"http.method":u,"net.peer.name":null==o?void 0:o.hostname,"net.peer.port":(null==o?void 0:o.port)||void 0}},async()=>{var t;let r,a,s,o,u,d;if(c||!f||f.isDraftMode)return e(n,i);let g=n&&"object"==typeof n&&"string"==typeof n.method,y=e=>(null==i?void 0:i[e])||(g?n[e]:null),v=e=>{var t,r,a;return void 0!==(null==i||null==(t=i.next)?void 0:t[e])?null==i||null==(r=i.next)?void 0:r[e]:g?null==(a=n.next)?void 0:a[e]:void 0},b=v("revalidate"),w=b,_=function(e,t){let r=[],n=[];for(let i=0;i<e.length;i++){let a=e[i];if("string"!=typeof a?n.push({tag:a,reason:"invalid type, must be a string"}):a.length>256?n.push({tag:a,reason:"exceeded max length of 256"}):r.push(a),r.length>128){console.warn(`Warning: exceeded max tag count for ${t}, dropped tags:`,e.slice(i).join(", "));break}}if(n.length>0)for(let{tag:e,reason:r}of(console.warn(`Warning: invalid tags passed to ${t}: `),n))console.log(`tag: "${e}" ${r}`);return r}(v("tags")||[],`fetch ${n.toString()}`);if(h)switch(h.type){case"prerender":case"prerender-runtime":case"prerender-client":case"prerender-ppr":case"prerender-legacy":case"cache":case"private-cache":r=h}if(r&&Array.isArray(_)){let e=r.tags??(r.tags=[]);for(let t of _)e.includes(t)||e.push(t)}let x=null==h?void 0:h.implicitTags,k=f.fetchCache;h&&"unstable-cache"===h.type&&(k="force-no-store");let E=!!f.isUnstableNoStore,$=y("cache"),T="";"string"==typeof $&&void 0!==w&&("force-cache"===$&&0===w||"no-store"===$&&(w>0||!1===w))&&(a=`Specified "cache: ${$}" and "revalidate: ${w}", only one should be specified.`,$=void 0,w=void 0);let S="no-cache"===$||"no-store"===$||"force-no-store"===k||"only-no-store"===k,I=!k&&!$&&!w&&f.forceDynamic;"force-cache"===$&&void 0===w?w=!1:(S||I)&&(w=0),("no-cache"===$||"no-store"===$)&&(T=`cache: ${$}`),d=function(e,t){try{let r;if(!1===e)r=0xfffffffe;else if("number"==typeof e&&!isNaN(e)&&e>-1)r=e;else if(void 0!==e)throw Object.defineProperty(Error(`Invalid revalidate value "${e}" on "${t}", must be a non-negative number or false`),"__NEXT_ERROR_CODE",{value:"E179",enumerable:!1,configurable:!0});return r}catch(e){if(e instanceof Error&&e.message.includes("Invalid revalidate"))throw e;return}}(w,f.route);let A=y("headers"),O="function"==typeof(null==A?void 0:A.get)?A:new Headers(A||{}),N=O.get("authorization")||O.get("cookie"),R=!["get","head"].includes((null==(t=y("method"))?void 0:t.toLowerCase())||"get"),P=void 0==k&&(void 0==$||"default"===$)&&void 0==w,U=!!((N||R)&&(null==r?void 0:r.revalidate)===0),D=!1;if(!U&&P&&(f.isBuildTimePrerendering?D=!0:U=!0),P&&void 0!==h)switch(h.type){case"prerender":case"prerender-runtime":case"prerender-client":return m&&(m.endRead(),m=null),ej(h.renderSignal,f.route,"fetch()")}switch(k){case"force-no-store":T="fetchCache = force-no-store";break;case"only-no-store":if("force-cache"===$||void 0!==d&&d>0)throw Object.defineProperty(Error(`cache: 'force-cache' used on fetch for ${l} with 'export const fetchCache = 'only-no-store'`),"__NEXT_ERROR_CODE",{value:"E448",enumerable:!1,configurable:!0});T="fetchCache = only-no-store";break;case"only-cache":if("no-store"===$)throw Object.defineProperty(Error(`cache: 'no-store' used on fetch for ${l} with 'export const fetchCache = 'only-cache'`),"__NEXT_ERROR_CODE",{value:"E521",enumerable:!1,configurable:!0});break;case"force-cache":(void 0===w||0===w)&&(T="fetchCache = force-cache",d=0xfffffffe)}if(void 0===d?"default-cache"!==k||E?"default-no-store"===k?(d=0,T="fetchCache = default-no-store"):E?(d=0,T="noStore call"):U?(d=0,T="auto no cache"):(T="auto cache",d=r?r.revalidate:0xfffffffe):(d=0xfffffffe,T="fetchCache = default-cache"):T||(T=`revalidate: ${d}`),!(f.forceStatic&&0===d)&&!U&&r&&d<r.revalidate){if(0===d){if(h)switch(h.type){case"prerender":case"prerender-client":case"prerender-runtime":return m&&(m.endRead(),m=null),ej(h.renderSignal,f.route,"fetch()")}eq(f,h,`revalidate: 0 fetch ${n} ${f.route}`)}r&&b===d&&(r.revalidate=d)}let C="number"==typeof d&&d>0,{incrementalCache:j}=f,L=!1;if(h)switch(h.type){case"request":case"cache":case"private-cache":L=h.isHmrRefresh??!1,o=h.serverComponentsHmrCache}if(j&&(C||o))try{s=await j.generateCacheKey(l,g?n:i)}catch(e){console.error("Failed to generate cache key for",n)}let z=f.nextFetchId??1;f.nextFetchId=z+1;let M=()=>{},q=async(t,r)=>{let u=["cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","window","duplex",...t?[]:["signal"]];if(g){let e=n,t={body:e._ogBody||e.body};for(let r of u)t[r]=e[r];n=new Request(e.url,t)}else if(i){let{_ogBody:e,body:r,signal:n,...a}=i;i={...a,body:e||r,signal:t?void 0:n}}let c={...i,next:{...null==i?void 0:i.next,fetchType:"origin",fetchIdx:z}};return e(n,c).then(async e=>{if(!t&&p&&tx(f,{start:p,url:l,cacheReason:r||T,cacheStatus:0===d||r?"skip":"miss",cacheWarning:a,status:e.status,method:c.method||"GET"}),200===e.status&&j&&s&&(C||o)){let t=d>=0xfffffffe?31536e3:d,r=C?{fetchCache:!0,fetchUrl:l,fetchIdx:z,tags:_,isImplicitBuildTimeCache:D}:void 0;switch(null==h?void 0:h.type){case"prerender":case"prerender-client":case"prerender-runtime":return tk(e,s,r,j,t,M);case"request":case"prerender-ppr":case"prerender-legacy":case"cache":case"private-cache":case"unstable-cache":case void 0:return tE(f,e,s,r,j,o,t,n,M)}}return await M(),e}).catch(e=>{throw M(),e})},Z=!1,V=!1;if(s&&j){let e;if(L&&o&&(e=o.get(s),V=!0),C&&!e){M=await j.lock(s);let t=f.isOnDemandRevalidate?null:await j.get(s,{kind:eK.FETCH,revalidate:d,fetchUrl:l,fetchIdx:z,tags:_,softTags:null==x?void 0:x.tags});if(P&&h)switch(h.type){case"prerender":case"prerender-client":case"prerender-runtime":await (t$||(t$=new Promise(e=>{setTimeout(()=>{t$=null,e()},0)})),t$)}if(t?await M():u="cache-control: no-cache (hard refresh)",(null==t?void 0:t.value)&&t.value.kind===eH.FETCH)if(f.isStaticGeneration&&t.isStale)Z=!0;else{if(t.isStale&&(f.pendingRevalidates??={},!f.pendingRevalidates[s])){let e=q(!0).then(async e=>({body:await e.arrayBuffer(),headers:e.headers,status:e.status,statusText:e.statusText})).finally(()=>{f.pendingRevalidates??={},delete f.pendingRevalidates[s||""]});e.catch(console.error),f.pendingRevalidates[s]=e}e=t.value.data}}if(e){p&&tx(f,{start:p,url:l,cacheReason:T,cacheStatus:V?"hmr":"hit",cacheWarning:a,status:e.status||200,method:(null==i?void 0:i.method)||"GET"});let t=new Response(Buffer.from(e.body,"base64"),{headers:e.headers,status:e.status});return Object.defineProperty(t,"url",{value:e.url}),t}}if(f.isStaticGeneration&&i&&"object"==typeof i){let{cache:e}=i;if("no-store"===e){if(h)switch(h.type){case"prerender":case"prerender-client":case"prerender-runtime":return m&&(m.endRead(),m=null),ej(h.renderSignal,f.route,"fetch()")}eq(f,h,`no-store fetch ${n} ${f.route}`)}let t="next"in i,{next:a={}}=i;if("number"==typeof a.revalidate&&r&&a.revalidate<r.revalidate){if(0===a.revalidate){if(h)switch(h.type){case"prerender":case"prerender-client":case"prerender-runtime":return ej(h.renderSignal,f.route,"fetch()")}eq(f,h,`revalidate: 0 fetch ${n} ${f.route}`)}f.forceStatic&&0===a.revalidate||(r.revalidate=a.revalidate)}t&&delete i.next}if(!s||!Z)return q(!1,u);{let e=s;f.pendingRevalidates??={};let t=f.pendingRevalidates[e];if(t){let e=await t;return new Response(e.body,{headers:e.headers,status:e.status,statusText:e.statusText})}let r=q(!0,u).then(eF);return(t=r.then(async e=>{let t=e[0];return{body:await t.arrayBuffer(),headers:t.headers,status:t.status,statusText:t.statusText}}).finally(()=>{var t;(null==(t=f.pendingRevalidates)?void 0:t[e])&&delete f.pendingRevalidates[e]})).catch(()=>{}),f.pendingRevalidates[e]=t,r.then(e=>e[1])}});if(m)try{return await g}finally{m&&m.endRead()}return g};return n.__nextPatched=!0,n.__nextGetStaticStore=()=>t,n._nextOriginalFetch=e,globalThis[t_]=!0,Object.defineProperty(n,"name",{value:"fetch",writable:!1}),n}(n,e)}({workAsyncStorage:ks,workUnitAsyncStorage:ko})}async function kc(e,t,r){var n;let i;ka.isDev&&(n=process.hrtime.bigint(),(i=e1(e)).devRequestTimingInternalsEnd=n,e[e0]=i);let a="/api/auth/[...all]/route";a=a.replace(/\/index$/,"")||"/";let s=await ka.prepare(e,t,{srcPage:a,multiZoneDraftMode:!1});if(!s)return t.statusCode=400,t.end("Bad Request"),null==r.waitUntil||r.waitUntil.call(r,Promise.resolve()),null;let{buildId:o,params:l,nextConfig:u,parsedUrl:c,isDraftMode:d,prerenderManifest:p,routerServerContext:f,isOnDemandRevalidate:h,revalidateOnlyGenerated:m,resolvedPathname:g,clientReferenceManifest:y,serverActionsManifest:v}=s,b=tT(a),w=!!(p.dynamicRoutes[b]||p.routes[g]),_=async()=>((null==f?void 0:f.render404)?await f.render404(e,t,c,!1):t.end("This page could not be found"),null);if(w&&!d){let e=!!p.routes[g],t=p.dynamicRoutes[b];if(t&&!1===t.fallback&&!e){if(u.experimental.adapterPath)return await _();throw new tz.NoFallbackError}}let x=null;!w||ka.isDev||d||(x="/index"===(x=g)?"/":x);let k=!0===ka.isDev||!w,E=w&&!k;v&&y&&function({page:e,clientReferenceManifest:t,serverActionsManifest:r,serverModuleMap:n}){var i;let a=null==(i=globalThis[tS])?void 0:i.clientReferenceManifestsPerPage;globalThis[tS]={clientReferenceManifestsPerPage:{...a,[tT(e)]:t},serverActionsManifest:r,serverModuleMap:n}}({page:a,clientReferenceManifest:y,serverActionsManifest:v,serverModuleMap:function({serverActionsManifest:e}){return new Proxy({},{get:(t,r)=>{var n,i,a;let s,o=null==(i=e.node)||null==(n=i[r])?void 0:n.workers;if(!o)return;let l=eU.workAsyncStorage.getStore();if(!(s=l?o[e7(a=l.page,"app")?a:"app"+a]:Object.values(o).at(0)))return;let{moduleId:u,async:c}=s;return{id:u,name:r,chunks:[],async:c}}})}({serverActionsManifest:v})});let $=e.method||"GET",T=eS(),S=T.getActiveScopeSpan(),I={params:l,prerenderManifest:p,renderOpts:{experimental:{authInterrupts:!!u.experimental.authInterrupts},cacheComponents:!!u.cacheComponents,supportsDynamicResponse:k,incrementalCache:e1(e,"incrementalCache"),cacheLifeProfiles:u.cacheLife,waitUntil:r.waitUntil,onClose:e=>{t.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(t,r,n)=>ka.onRequestError(e,t,n,f)},sharedContext:{buildId:o}},A=new tD(e),O=new tC(t),N=th.fromNodeNextRequest(A,function(e){let{errored:t,destroyed:r}=e;if(t||r)return AbortSignal.abort(t??new tp);let{signal:n}=tf(e);return n}(t));try{let n=async e=>ka.handle(N,I).finally(()=>{if(!e)return;e.setAttributes({"http.status_code":t.statusCode,"next.rsc":!1});let r=T.getRootSpanAttributes();if(!r)return;if(r.get("next.span_type")!==ee.handleRequest)return void console.warn(`Unexpected root span type '${r.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let n=r.get("next.route");if(n){let t=`${$} ${n}`;e.setAttributes({"next.route":n,"http.route":n,"next.span_name":t}),e.updateName(t)}else e.updateName(`${$} ${a}`)}),i=!!e1(e,"minimalMode"),s=async s=>{var o,l;let c=async({previousCacheEntry:o})=>{try{if(!i&&h&&m&&!o)return t.statusCode=404,t.setHeader("x-nextjs-cache","REVALIDATED"),t.end("This page could not be found"),null;let a=await n(s);e.fetchMetrics=I.renderOpts.fetchMetrics;let l=I.renderOpts.pendingWaitUntil;l&&r.waitUntil&&(r.waitUntil(l),l=void 0);let u=I.renderOpts.collectedTags;if(!w)return await tL(A,O,a,I.renderOpts.pendingWaitUntil),null;{let e=await a.blob(),t=e2(a.headers);u&&(t[eI]=u),!t["content-type"]&&e.type&&(t["content-type"]=e.type);let r=void 0!==I.renderOpts.collectedRevalidate&&!(I.renderOpts.collectedRevalidate>=0xfffffffe)&&I.renderOpts.collectedRevalidate,n=void 0===I.renderOpts.collectedExpire||I.renderOpts.collectedExpire>=0xfffffffe?void 0:I.renderOpts.collectedExpire;return{value:{kind:eH.APP_ROUTE,status:a.status,body:Buffer.from(await e.arrayBuffer()),headers:t},cacheControl:{revalidate:r,expire:n}}}}catch(t){throw(null==o?void 0:o.isStale)&&await ka.onRequestError(e,t,{routerKind:"App Router",routePath:a,routeType:"route",revalidateReason:tj({isStaticGeneration:E,isOnDemandRevalidate:h})},f),t}},g=await ka.handleResponse({req:e,nextConfig:u,cacheKey:x,routeKind:X.APP_ROUTE,isFallback:!1,prerenderManifest:p,isRoutePPREnabled:!1,isOnDemandRevalidate:h,revalidateOnlyGenerated:m,responseGenerator:c,waitUntil:r.waitUntil,isMinimalMode:i});if(!w)return null;if((null==g||null==(o=g.value)?void 0:o.kind)!==eH.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==g||null==(l=g.value)?void 0:l.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});i||t.setHeader("x-nextjs-cache",h?"REVALIDATED":g.isMiss?"MISS":g.isStale?"STALE":"HIT"),d&&t.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let y=e4(g.value.headers);return i&&w||y.delete(eI),!g.cacheControl||t.getHeader("Cache-Control")||y.get("Cache-Control")||y.set("Cache-Control",function({revalidate:e,expire:t}){let r="number"==typeof e&&void 0!==t&&e<t?`, stale-while-revalidate=${t-e}`:"";return 0===e?"private, no-cache, no-store, max-age=0, must-revalidate":"number"==typeof e?`s-maxage=${e}${r}`:`s-maxage=31536000${r}`}(g.cacheControl)),await tL(A,O,new Response(g.value.body,{headers:y,status:g.value.status||200})),null};S?await s(S):await T.withPropagatedContext(e.headers,()=>T.trace(ee.handleRequest,{spanName:`${$} ${a}`,kind:eb.SERVER,attributes:{"http.method":$,"http.target":e.url}},s))}catch(t){if(t instanceof tz.NoFallbackError||await ka.onRequestError(e,t,{routerKind:"App Router",routePath:b,routeType:"route",revalidateReason:tj({isStaticGeneration:E,isOnDemandRevalidate:h})}),w)throw t;return await tL(A,O,new Response(null,{status:500})),null}}e.s(["handler",()=>kc,"patchFetch",()=>ku,"routeModule",()=>ka,"serverHooks",()=>kl,"workAsyncStorage",()=>ks,"workUnitAsyncStorage",()=>ko],95480)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__a01dc405._.js.map